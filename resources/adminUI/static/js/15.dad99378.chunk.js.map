{"version":3,"sources":["../node_modules/react-bootstrap/es/Checkbox.js","../node_modules/react-bootstrap/es/ToggleButtonGroup.js","components/RoleForm.jsx","components/AuthForm.jsx","../node_modules/react-bootstrap/es/ButtonToolbar.js","components/RuleForm.jsx","components/FunctionForm.jsx","components/UserForm.jsx","components/AddModal.jsx","screens/Permissions.jsx","components/PermissionsEditor.jsx","util.js","../node_modules/react-draggable/build/cjs/utils/shims.js","../node_modules/react-draggable/build/cjs/utils/domFns.js","components/GenerateKeysModal.jsx","../node_modules/react-draggable/build/cjs/utils/positionFns.js","../node_modules/react-draggable/build/cjs/utils/log.js","theme/assets/logo_name_white.png","../node_modules/react-draggable/build/cjs/cjs.js","../node_modules/react-draggable/build/cjs/Draggable.js","../node_modules/react-draggable/build/cjs/utils/getPrefix.js","../node_modules/react-draggable/build/cjs/DraggableCore.js","screens/Signin.js","components/DeleteAndArchive.js","screens/Account.jsx","../node_modules/react-bootstrap/es/InputGroupAddon.js","../node_modules/react-bootstrap/es/InputGroupButton.js","../node_modules/react-bootstrap/es/InputGroup.js","../node_modules/react-bootstrap/es/ToggleButton.js"],"names":["propTypes","inline","PropTypes","bool","disabled","title","string","validationState","oneOf","inputRef","func","Checkbox","_React$Component","apply","this","arguments","_inheritsLoose","prototype","render","_this$props","props","className","style","children","_objectWithoutPropertiesLoose","_splitBsProps","splitBsProps","bsProps","elementProps","input","React","createElement","_extends","ref","type","_classes2","_classes","prefix","classNames","classes","getClassSet","Component","defaultProps","bsClass","name","value","any","onChange","isRequired","ToggleButtonGroup","_proto","getValues","concat","handleToggle","values","isActive","indexOf","filter","n","_this","_this$props2","invariant","ButtonGroup","ValidChildren","map","child","_child$props","cloneElement","checked","chainFunction","UncontrolledToggleButtonGroup","uncontrollable","Button","ToggleButton","DeleteRole","state","fullTransaction","deleteRolesTransaction","parentId","roleId","_id","roles","_action","transaction","setState","handleClose","_db","fullRefresh","AddNewRole","id","doc","rules","originalRules","deleteRule","showDeleteRuleModal","onChangeID","e","target","idChanged","calculatedTransaction","onChangeDoc","resetForm","roleRulesArray","undefined","roleRules","forEach","rule","push","get","nextProps","Number","slice","index","splice","length","rulesArray","Set","transact","edit","_collection","nestedRules","_fn","ruleId","show","component","Form","horizontal","onSubmit","preventDefault","FormGroup","controlId","Col","componentClass","sm","FormControl","placeholder","border","borderRadius","width","height","padding","minHeight","marginBottom","rule_id","OverlayTrigger","placement","overlay","Tooltip","String","bsStyle","marginLeft","display","includes","onClick","removeRule","DropdownButton","ruleDoc","MenuItem","addRule","DeleteAuth","deleteAuthTransaction","userId","authId","auth","DeleteAuthority","deleteAuthorityTransaction","authorityId","authority","AddNewAuth","originalRoles","deleteRole","originalAuthority","deleteAuthority","showDeleteRoleModal","showDeleteAuthorityModal","onChangeId","authRoleArray","authRoles","role","authAuthorityArray","authAuthority","rolesArray","authorityArray","user","nestedRoles","username","handleAuthClose","auth_id","removeAuthority","authDoc","addAuthority","role_id","removeRole","roleDoc","addRole","ButtonToolbar","DeleteRule","deleteRuleTransaction","DeleteOp","deleteOpTransaction","op","ops","DeleteFunction","deleteFunctionTransaction","funId","fns","AddNewRule","originalFunctions","originalOps","deleteFunction","showDeleteFunctionModal","showDeleteOpModal","cleanOps","initOps","opsCleaned","JSON","stringify","componentDidMount","handleReceiveProps","collection","predicates","errorMessage","collectionDefault","onChangeKey","key","event","newState","onChangeOps","deleteOp","onChangeCheckKey","tooltip","nextProp","keys","i","fnArray","fn","fn_id","split","predicate","trim","funArray","handleFunctionClose","bind","handleOpClose","fnName","fnDoc","removeFunction","console","log","addFunction","AddNewFunction","params","code","spec","language","onChangeValue","AddNewUser","additionalAuth","originalAuth","showDeleteAuthModal","deleteAuth","handleUsernameChange","usernameChanged","results","userRoleArray","userRoles","userRole","userAuthArray","userAuth","authChanged","handleRoleClose","authArray","nestedAuth","userlessAuth","InputGroup","removeAuth","addAuth","setValueFromTnx","valueFromTnx","AddModal","handleShow","clear","fontWeight","lineHeight","whiteSpace","Modal","onHide","Header","closeButton","Title","fontSize","href","rel","color","Alert","Body","PermissionExplorer","selectedType","generateKeysModal","tnx","prevState","permissionQuery","select","from","getData","ip","db","token","displayError","fullDb","opts","endpoint","network","body","flureeFetch","then","response","resp","json","_auth","result","_user","_role","_rule","catch","error","openApiServer","paddingLeft","marginTop","GenerateKeysModal","toggleGenerateKeysModal","iconClass","stat","statText","switchType","background","maxWidth","refreshData","PermissionExplorerByType","selectedIndex","loading","res","UNSAFE_componentWillReceiveProps","item","newItem","newItems","newSelectedIndex","generateDeleteSubjectTransaction","backgroundColor","dropdown","typeData","keyName","minWidth","data","authUser","ruleOps","ruleCollectionDefault","ruleCollection","ruleFns","ruleAttributes","ruleErrorMessage","userUsername","user_id","allUsers","Editor","newValue","margin","fontFamily","mode","theme","showPrintMargin","showGutter","highlightActiveLine","editorProps","$blockScrolling","setOptions","showLineNumbers","tabSize","parse","convertArrayOfObjectsToCSV","args","ctr","columnDelimiter","lineDelimiter","Object","join","loadHistory","dbName","history","localStorage","getItem","action","param","pushHistory","queryType","resKey","historyObj","unshift","responseStore","setItem","getLastHistoryType","getLastHistory","defineProperty","exports","findInArray","array","callback","isFunction","toString","call","isNum","num","isNaN","int","a","parseInt","dontSetMe","propName","componentName","Error","_typeof","obj","Symbol","iterator","constructor","matchesSelector","matchesSelectorAndParentsTo","el","selector","baseNode","node","parentNode","addEvent","handler","inputOptions","options","_objectSpread","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","outerHeight","clientHeight","computedStyle","ownerDocument","defaultView","getComputedStyle","_shims","borderTopWidth","borderBottomWidth","outerWidth","clientWidth","borderLeftWidth","borderRightWidth","innerHeight","paddingTop","paddingBottom","innerWidth","paddingRight","offsetXYFromParent","evt","offsetParent","scale","offsetParentRect","left","top","getBoundingClientRect","x","clientX","scrollLeft","y","clientY","scrollTop","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_defineProperty","_getPrefix","browserPrefixToKey","default","createSVGTransform","getTouch","identifier","targetTouches","t","changedTouches","getTouchIdentifier","addUserSelectStyles","styleEl","getElementById","innerHTML","getElementsByTagName","appendChild","addClassName","removeUserSelectStyles","removeClassName","selection","empty","window","getSelection","removeAllRanges","require","__esModule","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","desc","set","_interopRequireWildcard","WeakMap","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","enumerable","source","getOwnPropertyDescriptors","defineProperties","configurable","writable","matchesSelectorFunc","method","_ref2","unitSuffix","defaultX","defaultY","classList","add","match","RegExp","remove","replace","generateKeys","generateKeyPair","publicKey","privateKey","getSinFromPublicKey","tx","csv","hiddenElement","document","download","click","cursor","downloadKeys","striped","bordered","condensed","hover","tableLayout","wordWrap","getBoundPosition","draggable","bounds","right","bottom","cloneBounds","findDOMNode","boundNode","ownerWindow","querySelector","HTMLElement","nodeStyle","boundNodeStyle","offsetLeft","offsetTop","_domFns","marginRight","Math","min","max","snapToGrid","grid","pendingX","pendingY","round","canDragX","axis","canDragY","getControlPosition","touchIdentifier","draggableCore","touchObj","createCoreData","isStart","lastX","deltaX","deltaY","lastY","createDraggableData","coreData","_require","Draggable","DraggableCore","module","_DraggableCore","_propTypes","_interopRequireDefault","_reactDom","_classnames","_positionFns","_log","assign","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","subClass","superClass","create","_inherits","_super","instance","_classCallCheck","onStart","dragging","dragged","uiData","slackX","slackY","_getBoundPosition2","newStateX","newStateY","onDrag","onStop","Boolean","position","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","warn","_ref","SVGElement","nodeRef","current","_classNames","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","svgTransform","validPosition","transformOpts","onDragStart","onDragStop","Children","only","transform","oneOfType","shape","number","getPrefix","browserPrefixToStyle","prop","toLowerCase","prefixes","documentElement","str","out","shouldCapitalize","toUpperCase","kebabToTitleCase","_default","eventsFor","start","move","stop","dragEventFor","_len","_key","NaN","onMouseDown","allowAnyClick","button","thisNode","Node","handle","cancel","coreEvent","mounted","enableUserSelectHack","handleDrag","handleDragStop","_snapToGrid2","MouseEvent","createEvent","initMouseEvent","handleDragStart","onTouchStart","passive","onMouseUp","onTouchEnd","nodeType","arrayOf","hashCode","hash","charCodeAt","sleep","time","Promise","resolve","setTimeout","RemoveUserModal","refreshForm","removeUser","removeUserModalToggle","getAccountInfo","account","logout","message","onDismiss","NewDatabaseModal","getValidationState","onGenerate","blockNumber","refreshDbs","status","newDatabaseModalToggle","ControlLabel","stopPropagation","handleChange","NewUserModal","newUserModalToggle","sendEmail","autoFocus","Feedback","ConfirmDatabaseDeletionModal","confirmDeletion","confirmDeletionAuthIDAndPrivateKey","confirmDeletionAuthID","confirmDeletionPrivateKey","deleteDB","baseUri","gateway","signRequest","headers","noRedirect","confirmDatabaseDeletionModalToggle","handleChangeForConfirmDeleteTextbox","handleChangeForConfirmPrivateKeyTextbox","handleChangeForConfirmAuthIDTextbox","Footer","Database","confirmDatabaseDeletionModal","block","size","flakes","idShort","substring","textAlign","direction","class","aria-hidden","toFixed","ArchivedDatabase","viewURL","link","open","setGlobalProps","viewArchive","url","deleteArchive","deleteArchiveModalToggle","viewBackups","backup","ListGroupItem","Users","usernameShort","PanelStat","AccountInfo","newDatabaseModal","dataBasesWithInfo","isLoadingDatabaseInfo","configModal","checkDbs","dbsLength","dbs","databaseHeader","setOpenApiServerStatus","openApiServerStatus","config","openApiServerStatusShow","getOpenApiServerStatus","forceUpdate","newUserModal","renderTableHeader","arrayOfHeadings","header","loadDatabaseInfo","nwStateParams","showServerOpenApiAlert","prevProps","databaseInfoRequests","optsForLedgerStats","getDatabasesInfo","all","displayConfig","databaseName","reject","msg","attrName","sort","b","nameA","nameB","archiveDatabaseModal","backupDatabaseModal","removeUserModal","dataBasesText","maxDbs","maxUsers","users","numOfDatabases","alignItems","maxHeight","dataBaseInfo","dbLength","InputGroupAddon","InputGroupButton","Addon","bsSizes","Size","LARGE","SMALL","active","autoComplete"],"mappings":"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","file":"static/js/15.dad99378.chunk.js","sourcesContent":["import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport { bsClass, getClassSet, prefix, splitBsProps } from './utils/bootstrapUtils';\nvar propTypes = {\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n\n  /**\n   * Only valid if `inline` is not set.\n   */\n  validationState: PropTypes.oneOf(['success', 'warning', 'error', null]),\n\n  /**\n   * Attaches a ref to the `<input>` element. Only functions can be used here.\n   *\n   * ```js\n   * <Checkbox inputRef={ref => { this.input = ref; }} />\n   * ```\n   */\n  inputRef: PropTypes.func\n};\nvar defaultProps = {\n  inline: false,\n  disabled: false,\n  title: ''\n};\n\nvar Checkbox =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Checkbox, _React$Component);\n\n  function Checkbox() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Checkbox.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        inline = _this$props.inline,\n        disabled = _this$props.disabled,\n        validationState = _this$props.validationState,\n        inputRef = _this$props.inputRef,\n        className = _this$props.className,\n        style = _this$props.style,\n        title = _this$props.title,\n        children = _this$props.children,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"inline\", \"disabled\", \"validationState\", \"inputRef\", \"className\", \"style\", \"title\", \"children\"]);\n\n    var _splitBsProps = splitBsProps(props),\n        bsProps = _splitBsProps[0],\n        elementProps = _splitBsProps[1];\n\n    var input = React.createElement(\"input\", _extends({}, elementProps, {\n      ref: inputRef,\n      type: \"checkbox\",\n      disabled: disabled\n    }));\n\n    if (inline) {\n      var _classes2;\n\n      var _classes = (_classes2 = {}, _classes2[prefix(bsProps, 'inline')] = true, _classes2.disabled = disabled, _classes2); // Use a warning here instead of in propTypes to get better-looking\n      // generated documentation.\n\n\n      process.env.NODE_ENV !== \"production\" ? warning(!validationState, '`validationState` is ignored on `<Checkbox inline>`. To display ' + 'validation state on an inline checkbox, set `validationState` on a ' + 'parent `<FormGroup>` or other element instead.') : void 0;\n      return React.createElement(\"label\", {\n        className: classNames(className, _classes),\n        style: style,\n        title: title\n      }, input, children);\n    }\n\n    var classes = _extends({}, getClassSet(bsProps), {\n      disabled: disabled\n    });\n\n    if (validationState) {\n      classes[\"has-\" + validationState] = true;\n    }\n\n    return React.createElement(\"div\", {\n      className: classNames(className, classes),\n      style: style\n    }, React.createElement(\"label\", {\n      title: title\n    }, input, children));\n  };\n\n  return Checkbox;\n}(React.Component);\n\nCheckbox.propTypes = propTypes;\nCheckbox.defaultProps = defaultProps;\nexport default bsClass('checkbox', Checkbox);","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport invariant from 'invariant';\nimport { uncontrollable } from 'uncontrollable';\nimport chainFunction from './utils/createChainedFunction';\nimport ValidChildren from './utils/ValidComponentChildren';\nimport ButtonGroup from './ButtonGroup';\nimport ToggleButton from './ToggleButton';\nvar propTypes = {\n  /**\n   * An HTML `<input>` name for each child button.\n   *\n   * __Required if `type` is set to `'radio'`__\n   */\n  name: PropTypes.string,\n\n  /**\n   * The value, or array of values, of the active (pressed) buttons\n   *\n   * @controllable onChange\n   */\n  value: PropTypes.any,\n\n  /**\n   * Callback fired when a button is pressed, depending on whether the `type`\n   * is `'radio'` or `'checkbox'`, `onChange` will be called with the value or\n   * array of active values\n   *\n   * @controllable values\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The input `type` of the rendered buttons, determines the toggle behavior\n   * of the buttons\n   */\n  type: PropTypes.oneOf(['checkbox', 'radio']).isRequired\n};\nvar defaultProps = {\n  type: 'radio'\n};\n\nvar ToggleButtonGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ToggleButtonGroup, _React$Component);\n\n  function ToggleButtonGroup() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ToggleButtonGroup.prototype;\n\n  _proto.getValues = function getValues() {\n    var value = this.props.value;\n    return value == null ? [] : [].concat(value);\n  };\n\n  _proto.handleToggle = function handleToggle(value) {\n    var _this$props = this.props,\n        type = _this$props.type,\n        onChange = _this$props.onChange;\n    var values = this.getValues();\n    var isActive = values.indexOf(value) !== -1;\n\n    if (type === 'radio') {\n      if (!isActive) {\n        onChange(value);\n      }\n\n      return;\n    }\n\n    if (isActive) {\n      onChange(values.filter(function (n) {\n        return n !== value;\n      }));\n    } else {\n      onChange(values.concat([value]));\n    }\n  };\n\n  _proto.render = function render() {\n    var _this = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        type = _this$props2.type,\n        name = _this$props2.name,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"type\", \"name\"]);\n\n    var values = this.getValues();\n    !(type !== 'radio' || !!name) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A `name` is required to group the toggle buttons when the `type` ' + 'is set to \"radio\"') : invariant(false) : void 0;\n    delete props.onChange;\n    delete props.value; // the data attribute is required b/c twbs css uses it in the selector\n\n    return React.createElement(ButtonGroup, _extends({}, props, {\n      \"data-toggle\": \"buttons\"\n    }), ValidChildren.map(children, function (child) {\n      var _child$props = child.props,\n          value = _child$props.value,\n          onChange = _child$props.onChange;\n\n      var handler = function handler() {\n        return _this.handleToggle(value);\n      };\n\n      return React.cloneElement(child, {\n        type: type,\n        name: child.name || name,\n        checked: values.indexOf(value) !== -1,\n        onChange: chainFunction(onChange, handler)\n      });\n    }));\n  };\n\n  return ToggleButtonGroup;\n}(React.Component);\n\nToggleButtonGroup.propTypes = propTypes;\nToggleButtonGroup.defaultProps = defaultProps;\nvar UncontrolledToggleButtonGroup = uncontrollable(ToggleButtonGroup, {\n  value: 'onChange'\n});\nUncontrolledToggleButtonGroup.Button = ToggleButton;\nexport default UncontrolledToggleButtonGroup;","import React, { Component } from \"react\";\nimport {\n  Form,\n  FormGroup,\n  Col,\n  FormControl,\n  Button,\n  DropdownButton,\n  MenuItem,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport AddModal from \"./AddModal\";\nimport Editor from \"./PermissionsEditor\";\n\nclass DeleteRole extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteRolesTransaction = (parentId, roleId) => {\n    return {\n      _id: parentId,\n      roles: [roleId],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n   \n    const transaction = this.deleteRolesTransaction(\n      this.props.parentId,\n      this.props.roleId\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass AddNewRole extends Component {\n  state = {\n    id: \"\",\n    doc: \"\",\n    rules: [],\n    originalRules: [],\n    deleteRule: null,\n    fullTransaction: [],\n    showDeleteRuleModal: false,\n  };\n\n  onChangeID = (e) => {\n    this.setState({ id: e.target.value, idChanged: true }, () =>\n      this.calculatedTransaction()\n    );\n  };\n  onChangeDoc = (e) => {\n    this.setState({ doc: e.target.value }, () => this.calculatedTransaction());\n  };\n\n  resetForm = (props) => {\n    let id = \"\";\n    if (props.id) {\n      id = props.id;\n    }\n\n    let doc = \"\";\n    if (props.doc) {\n      doc = props.doc;\n    }\n\n    const roleRulesArray = [];\n    if (props.roleRules !== undefined) {\n      props.roleRules.forEach((rule) => {\n        roleRulesArray.push(get(rule, \"_id\"));\n      });\n    }\n\n    this.setState(\n      {\n        id: id,\n        idChanged: false,\n        doc: doc,\n        originalRules: roleRulesArray,\n        rules: roleRulesArray,\n        deleteRule: null,\n        showDeleteRuleModal: false,\n      },\n      () => this.calculatedTransaction()\n    );\n  };\n\n  componentDidMount() {\n    this.resetForm(this.props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.resetForm(nextProps);\n  }\n\n  removeRule(_id) {\n    _id = Number(_id);\n    const rules = this.state.rules.slice();\n    const index = rules.indexOf(_id);\n    rules.splice(index, 1);\n\n    if (this.state.originalRules.filter((rule) => rule === _id).length !== 0) {\n      this.setState({ showDeleteRuleModal: true, deleteRule: _id });\n    } else {\n      this.setState({ rules: rules }, () => this.calculatedTransaction());\n    }\n  }\n\n  addRule(_id) {\n    _id = Number(_id);\n    let rulesArray = [...this.state.rules, _id];\n    rulesArray = [...new Set(rulesArray)];\n    this.setState({ rules: rulesArray }, () => this.calculatedTransaction());\n  }\n\n  handleClose = () => {\n    this.setState({ showDeleteRuleModal: false });\n  };\n\n  calculatedTransaction = () => {\n    let transaction = {\n      _id: this.props._id ? this.props._id : \"_role\",\n      doc: this.state.doc ? this.state.doc : \"\",\n      rules: [...this.state.rules],\n    };\n\n    if (this.state.idChanged && this.props.id !== this.state.id) {\n      transaction.id = this.state.id;\n    }\n\n    this.setState({ fullTransaction: [transaction] });\n  };\n\n  render() {\n    const {\n      _id,\n      rules,\n      transact,\n      handleClose,\n      edit,\n      fullRefresh,\n      _collection,\n      _db,\n      nestedRules,\n      _fn,\n    } = this.props;\n\n    return (\n      <div className=\"text-gray-light\">\n        {this.state.showDeleteRuleModal ? (\n          <AddModal\n            roleId={_id}\n            ruleId={this.state.deleteRule}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteRuleModal}\n            handleClose={this.handleClose}\n            component={\"deleteRule\"}\n          />\n        ) : null}\n        <h2 className=\"mb20\">Edit Role Details</h2>\n        <Form horizontal onSubmit={(e) => e.preventDefault()}>\n          <FormGroup controlId=\"role-name-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-wrench bg-primary permission-icon-small mb10\" />\n              Role ID (name):\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  name=\"roleId\"\n                  value={this.state.id}\n                  placeholder=\"Role ID (Name)\"\n                  onChange={(e) => this.onChangeID(e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          {edit ? (\n            <FormGroup controlId=\"role-id-display\">\n              <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n                <i className=\"fas fa-wrench bg-primary permission-icon-small mb10\" />\n                _id:\n              </Col>\n              <Col\n                componentClass=\"div\"\n                sm={7}\n                style={{\n                  border: \"1px solid lightgrey\",\n                  borderRadius: \"3px\",\n                  width: \"160px\",\n                  height: \"39px\",\n                  padding: \"9px 12px\",\n                }}\n              >\n                {_id}\n              </Col>\n            </FormGroup>\n          ) : null}\n          <FormGroup controlId=\"role-doc-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-wrench bg-primary permission-icon-small mb10\" />\n              Doc:\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"roleDoc\"\n                  value={this.state.doc}\n                  placeholder=\"Doc\"\n                  onChange={(e) => this.onChangeDoc(e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          <FormGroup controlId=\"roleRules\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-wrench bg-primary permission-icon-small mb10\" />\n              Rules\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <div\n                  className=\"border-dashed-light-gray pt10\"\n                  style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                >\n                  {rules\n                    ? rules.map((rule) => {\n                        let ruleId = get(rule, \"_rule/id\", \"No _rule/Id\");\n                        ruleId = ruleId === \"\" ? \"No id\" : ruleId;\n                        let rule_id = get(rule, \"_id\");\n                        let doc = get(rule, \"_rule/doc\", \"No documentation\");\n                        doc = doc === \"\" ? \"No documentation\" : doc;\n                        return (\n                          <OverlayTrigger\n                            key={String(rule._id).concat(\"overlay\")}\n                            placement=\"top\"\n                            overlay={\n                              <Tooltip\n                                key={String(rule._id).concat(\"tooltip\")}\n                                id={get(rule, \"_id\")}\n                              >\n                                {doc}\n                              </Tooltip>\n                            }\n                          >\n                            <Button\n                              key={String(rule._id).concat(\"button\")}\n                              className=\"mb10\"\n                              bsStyle=\"danger\"\n                              value={rule_id}\n                              style={{\n                                marginLeft: \"5px\",\n                                display: this.state.rules.includes(rule_id)\n                                  ? null\n                                  : \"none\",\n                              }}\n                              onClick={() => this.removeRule(rule_id)}\n                            >\n                              {ruleId}&nbsp;&nbsp;\n                              <i className=\"fas fa-times\" />\n                            </Button>\n                          </OverlayTrigger>\n                        );\n                      })\n                    : null}\n                </div>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add a Rule\"\n                    id=\"rule-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {rules\n                      ? rules.map((rule) => {\n                          let ruleId = get(rule, \"_rule/id\", \"No id\");\n                          ruleId = ruleId === \"\" ? \"No id\" : ruleId;\n\n                          let ruleDoc = get(rule, \"_rule/doc\", \"No doc\");\n                          ruleDoc = ruleDoc === \"\" ? \"No doc\" : ruleDoc;\n                          return (\n                            <MenuItem\n                              key={get(rule, \"_id\")}\n                              value={get(rule, \"_id\")}\n                              onClick={() => {\n                                this.addRule(get(rule, \"_id\"));\n                              }}\n                            >\n                              {ruleId}: {ruleDoc}\n                            </MenuItem>\n                          );\n                        })\n                      : null}\n                    {!rules || rules.length === 0 ? (\n                      <MenuItem>No Rules</MenuItem>\n                    ) : null}\n                    {nestedRules ? null : (\n                      <AddModal\n                        _collection={_collection}\n                        component={\"addRule\"}\n                        _fn={_fn}\n                        _db={_db}\n                        fullRefresh={fullRefresh}\n                        transact={transact}\n                        handleClose={handleClose}\n                      />\n                    )}\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n          <Editor\n            value={this.state.fullTransaction}\n            _db={_db}\n            handleClose={handleClose}\n            fullRefresh={fullRefresh}\n          />\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport { AddNewRole, DeleteRole };\n","import React, { Component } from \"react\";\nimport {\n  Form,\n  FormGroup,\n  Col,\n  FormControl,\n  OverlayTrigger,\n  Button,\n  Tooltip,\n  DropdownButton,\n  MenuItem,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport AddModal from \"./AddModal\";\nimport Editor from \"./PermissionsEditor\";\n\nclass DeleteAuth extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteAuthTransaction = (userId, authId) => {\n    return {\n      _id: userId,\n      auth: [authId],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n    const transaction = this.deleteAuthTransaction(\n      this.props.userId,\n      this.props.authId\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass DeleteAuthority extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteAuthorityTransaction = (authId, authorityId) => {\n    return {\n      _id: authId,\n      authority: [authorityId],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n    const transaction = this.deleteAuthorityTransaction(\n      this.props.authId,\n      this.props.authorityId\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass AddNewAuth extends Component {\n  state = {\n    id: \"\",\n    doc: \"\",\n    roles: [],\n    authority: [],\n    originalRoles: [],\n    deleteRole: null,\n    originalAuthority: [],\n    deleteAuthority: null,\n    fullTransaction: [],\n    showDeleteRoleModal: false,\n    showDeleteAuthorityModal: false,\n  };\n\n  onChangeId = (e) => {\n    this.setState({ id: e.target.value, idChanged: true }, () =>\n      this.calculatedTransaction()\n    );\n  };\n  onChangeDoc = (e) => {\n    this.setState({ doc: e.target.value }, () => this.calculatedTransaction());\n  };\n\n  resetForm = (props) => {\n    let id = \"\";\n    if (props.id) {\n      id = props.id;\n    }\n\n    let doc = \"\";\n    if (props.doc) {\n      doc = props.doc;\n    }\n\n    const authRoleArray = [];\n    if (props.authRoles !== undefined) {\n      props.authRoles.forEach((role) => {\n        authRoleArray.push(get(role, \"_id\"));\n      });\n    }\n\n    const authAuthorityArray = [];\n    if (props.authAuthority !== undefined) {\n      props.authAuthority.forEach((authority) => {\n        authAuthorityArray.push(get(authority, \"_id\"));\n      });\n    }\n\n    this.setState(\n      {\n        id: id,\n        idChanged: false,\n        doc: doc,\n        originalRoles: authRoleArray,\n        originalAuthority: authAuthorityArray,\n        showDeleteRoleModal: false,\n        showDeleteAuthorityModal: false,\n        roles: authRoleArray,\n        authority: authAuthorityArray,\n        deleteRole: null,\n        deleteAuthority: null,\n      },\n      () => this.calculatedTransaction()\n    );\n  };\n\n  componentDidMount() {\n    this.resetForm(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.resetForm(nextProps);\n  }\n\n  removeRole(_id) {\n    _id = Number(_id);\n    const roles = this.state.roles.slice();\n    const index = roles.indexOf(_id);\n    roles.splice(index, 1);\n\n    // We created state.originalRoles, which only has the _ids of the valid roles that belong to a given user\n    if (this.state.originalRoles.filter((role) => role === _id).length !== 0) {\n      this.setState({ showDeleteRoleModal: true, deleteRole: _id });\n    } else {\n      this.setState({ roles: roles }, () => this.calculatedTransaction());\n    }\n  }\n\n  addRole(_id) {\n    _id = Number(_id);\n    let rolesArray = [...this.state.roles, _id];\n    rolesArray = [...new Set(rolesArray)];\n    this.setState({ roles: rolesArray }, () => this.calculatedTransaction());\n  }\n\n  removeAuthority(_id) {\n    _id = Number(_id);\n    const authority = this.state.authority.slice();\n    const index = authority.indexOf(_id);\n    authority.splice(index, 1);\n\n    // We created state.originalAuth, which only has the _ids of the valid authority that belong to a given auth\n    if (\n      this.state.originalAuthority.filter((authority) => authority === _id)\n        .length !== 0\n    ) {\n      this.setState({ showDeleteAuthorityModal: true, deleteAuthority: _id });\n    } else {\n      this.setState({ authority: authority }, () =>\n        this.calculatedTransaction()\n      );\n    }\n  }\n\n  addAuthority(_id) {\n    _id = Number(_id);\n    let authorityArray = [...this.state.authority, _id];\n    authorityArray = [...new Set(authorityArray)];\n    this.setState({ authority: authorityArray }, () =>\n      this.calculatedTransaction()\n    );\n  }\n\n  calculatedTransaction = () => {\n    let transaction = {\n      _id: this.props._id ? this.props._id : \"_auth\",\n      doc: this.state.doc ? this.state.doc : \"\",\n      roles: [...this.state.roles],\n      authority: [...this.state.authority],\n    };\n\n    if (this.state.idChanged && this.props.id !== this.state.id) {\n      transaction.id = this.state.id;\n    }\n    this.setState({ fullTransaction: [transaction] });\n  };\n\n  handleClose = () => {\n    this.setState({ showDeleteRoleModal: false });\n  };\n\n  render() {\n    const {\n      _id,\n      edit,\n      user,\n      roles,\n      rules,\n      auth,\n      transact,\n      handleClose,\n      fullRefresh,\n      nestedRoles,\n      _db,\n    } = this.props;\n    const username =\n      user && user.length > 0\n        ? user[\"_user/username\"] ||\n          user[0][\"_user/username\"] ||\n          \"No user currently associated with this auth record\"\n        : \"No user currently associated with this auth record\";\n    return (\n      <div className=\"text-gray-light\">\n        {this.state.showDeleteRoleModal ? (\n          <AddModal\n            roleId={this.state.deleteRole}\n            parentId={_id}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteRoleModal}\n            handleClose={this.handleClose}\n            component={\"deleteRole\"}\n          />\n        ) : null}\n        {this.state.showDeleteAuthorityModal ? (\n          <AddModal\n            authId={_id}\n            authorityId={this.state.deleteAuthority}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteAuthorityModal}\n            handleClose={this.handleAuthClose}\n            component={\"deleteAuthority\"}\n          />\n        ) : null}\n        {edit ? <h2 className=\"mb20\">Edit Auth Record Details</h2> : null}\n        <Form horizontal onSubmit={(e) => e.preventDefault()}>\n          <FormGroup controlId=\"auth-id-edit\">\n            <Col componentClass=\"div\" sm={4} className=\"text-left\">\n              <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n              Auth Id (Name):\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  name=\"authId\"\n                  value={this.state.id}\n                  placeholder=\"Auth Id (Name)\"\n                  onChange={(e) => this.onChangeId(e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          {edit ? (\n            <FormGroup controlId=\"auth-id-display\">\n              <Col componentClass=\"div\" sm={4} className=\"text-left\">\n                <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n                _id:\n              </Col>\n              <Col\n                componentClass=\"div\"\n                sm={7}\n                style={{\n                  border: \"1px solid lightgrey\",\n                  borderRadius: \"3px\",\n                  width: \"160px\",\n                  height: \"39px\",\n                  padding: \"9px 12px\",\n                }}\n              >\n                {_id}\n              </Col>\n            </FormGroup>\n          ) : null}\n\n          <FormGroup controlId=\"auth-doc-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n              Doc:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"authDoc\"\n                  value={this.state.doc}\n                  placeholder=\"Doc\"\n                  onChange={(e) => this.onChangeDoc(e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"auth-authority\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n              Authority\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <div\n                  className=\"border-dashed-light-gray pt10\"\n                  style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                >\n                  {auth.map((auth) => {\n                    let authId = get(auth, \"_auth/id\", \"No _auth/Id\");\n                    authId = authId === \"\" ? \"No id\" : authId;\n                    let auth_id = get(auth, \"_id\");\n                    let doc = get(auth, \"_auth/doc\", \"No documentation\");\n                    doc = doc === \"\" ? \"No documentation\" : doc;\n                    return (\n                      <OverlayTrigger\n                        key={String(auth_id).concat(\"overlay\")}\n                        placement=\"top\"\n                        overlay={\n                          <Tooltip\n                            key={String(auth_id).concat(\"tooltip\")}\n                            id={auth_id}\n                          >\n                            {doc}\n                          </Tooltip>\n                        }\n                      >\n                        <Button\n                          key={String(auth_id).concat(\"button\")}\n                          className=\"mb10\"\n                          bsStyle=\"success\"\n                          value={auth_id}\n                          style={{\n                            marginLeft: \"5px\",\n                            display: this.state.authority.includes(auth_id)\n                              ? null\n                              : \"none\",\n                          }}\n                          onClick={() => this.removeAuthority(auth_id)}\n                        >\n                          {authId}&nbsp;&nbsp;\n                          <i className=\"fas fa-times\" />\n                        </Button>\n                      </OverlayTrigger>\n                    );\n                  })}\n                </div>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add an Authority\"\n                    id=\"auth-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {auth.map((auth) => {\n                      let authId = get(auth, \"_auth/id\", \"No id\");\n                      authId = authId === \"\" ? \"No id\" : authId;\n\n                      let authDoc = get(auth, \"_auth/doc\", \"No doc\");\n                      authDoc = authDoc === \"\" ? \"No doc\" : authDoc;\n                      return (\n                        <MenuItem\n                          key={get(auth, \"_id\")}\n                          value={get(auth, \"_id\")}\n                          onClick={() => {\n                            this.addAuthority(get(auth, \"_id\"));\n                          }}\n                        >\n                          {authId}: {authDoc}\n                        </MenuItem>\n                      );\n                    })}\n                    {!auth || auth.length === 0 ? (\n                      <MenuItem>No Auth</MenuItem>\n                    ) : null}\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n\n          <FormGroup controlId=\"user-roles\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n              Roles\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <div\n                  className=\"border-dashed-light-gray pt10\"\n                  style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                >\n                  {roles.map((role) => {\n                    let roleId = get(role, \"_role/id\", \"No _role/Id\");\n                    roleId = roleId === \"\" ? \"No id\" : roleId;\n                    let role_id = get(role, \"_id\");\n                    let doc = get(role, \"_role/doc\", \"No documentation\");\n                    doc = doc === \"\" ? \"No documentation\" : doc;\n                    return (\n                      <OverlayTrigger\n                        key={String(role._id).concat(\"overlay\")}\n                        placement=\"top\"\n                        overlay={\n                          <Tooltip\n                            key={String(role._id).concat(\"tooltip\")}\n                            id={get(role, \"_id\")}\n                          >\n                            {doc}\n                          </Tooltip>\n                        }\n                      >\n                        <Button\n                          key={String(role._id).concat(\"button\")}\n                          className=\"mb10\"\n                          bsStyle=\"primary\"\n                          value={role_id}\n                          style={{\n                            marginLeft: \"5px\",\n                            display: this.state.roles.includes(role_id)\n                              ? null\n                              : \"none\",\n                          }}\n                          onClick={() => this.removeRole(role_id)}\n                        >\n                          {roleId}&nbsp;&nbsp;\n                          <i className=\"fas fa-times\" />\n                        </Button>\n                      </OverlayTrigger>\n                    );\n                  })}\n                </div>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add a Role\"\n                    id=\"role-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {roles.map((role) => {\n                      let roleId = get(role, \"_role/id\", \"No id\");\n                      roleId = roleId === \"\" ? \"No id\" : roleId;\n\n                      let roleDoc = get(role, \"_role/doc\", \"No doc\");\n                      roleDoc = roleDoc === \"\" ? \"No doc\" : roleDoc;\n                      return (\n                        <MenuItem\n                          key={get(role, \"_id\")}\n                          value={get(role, \"_id\")}\n                          onClick={() => {\n                            this.addRole(get(role, \"_id\"));\n                          }}\n                        >\n                          {roleId}: {roleDoc}\n                        </MenuItem>\n                      );\n                    })}\n                    {!roles || roles.length === 0 ? (\n                      <MenuItem>No Roles</MenuItem>\n                    ) : null}\n                    {nestedRoles ? null : (\n                      <AddModal\n                        component={\"addRole\"}\n                        rules={rules}\n                        nestedRules={true}\n                        fullRefresh={fullRefresh}\n                        transact={transact}\n                        handleClose={handleClose}\n                      />\n                    )}\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n\n          {edit ? (\n            <FormGroup controlId=\"auth-id-display\">\n              <Col componentClass=\"div\" sm={4} className=\"text-left\">\n                <i className=\"fas fa-chess-queen bg-success permission-icon-small mb10\" />\n                Auth User:\n              </Col>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={\n                  <Tooltip id=\"authUserTip\">\n                    To edit the user associated with an auth record, go to \"View\n                    Permissions By User\"\n                  </Tooltip>\n                }\n              >\n                <Col\n                  componentClass=\"div\"\n                  sm={7}\n                  style={{\n                    border: \"1px solid lightgrey\",\n                    borderRadius: \"3px\",\n                    height: \"39px\",\n                    padding: \"9px 12px\",\n                  }}\n                >\n                  <span>{username}</span>\n                </Col>\n              </OverlayTrigger>\n            </FormGroup>\n          ) : null}\n          <Editor\n            value={this.state.fullTransaction}\n            handleClose={handleClose}\n            _db={_db}\n            fullRefresh={fullRefresh}\n          />\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport { AddNewAuth, DeleteAuth, DeleteAuthority };\n","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { bsClass, getClassSet, splitBsProps } from './utils/bootstrapUtils';\n\nvar ButtonToolbar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ButtonToolbar, _React$Component);\n\n  function ButtonToolbar() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ButtonToolbar.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"className\"]);\n\n    var _splitBsProps = splitBsProps(props),\n        bsProps = _splitBsProps[0],\n        elementProps = _splitBsProps[1];\n\n    var classes = getClassSet(bsProps);\n    return React.createElement(\"div\", _extends({}, elementProps, {\n      role: \"toolbar\",\n      className: classNames(className, classes)\n    }));\n  };\n\n  return ButtonToolbar;\n}(React.Component);\n\nexport default bsClass('btn-toolbar', ButtonToolbar);","import React, { Component } from \"react\";\nimport {\n  Tooltip,\n  Form,\n  FormGroup,\n  FormControl,\n  Col,\n  Checkbox,\n  OverlayTrigger,\n  ButtonToolbar,\n  ToggleButton,\n  ToggleButtonGroup,\n  Button,\n  DropdownButton,\n  MenuItem,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport Editor from \"./PermissionsEditor\";\nimport AddModal from \"./AddModal\";\n\nclass DeleteRule extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteRuleTransaction = (roleId, ruleId) => {\n    return {\n      _id: roleId,\n      rules: [ruleId],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n    const transaction = this.deleteRuleTransaction(\n      this.props.roleId,\n      this.props.ruleId\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass DeleteOp extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteOpTransaction = (ruleId, op) => {\n    return {\n      _id: ruleId,\n      ops: [op],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n    const transaction = this.deleteOpTransaction(\n      this.props.ruleId,\n      this.props.op\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass DeleteFunction extends Component {\n  state = {\n    fullTransaction: [],\n  };\n\n  deleteFunctionTransaction = (ruleId, funId) => {\n    return {\n      _id: ruleId,\n      fns: [funId],\n      _action: \"delete\",\n    };\n  };\n\n  componentDidMount() {\n    const transaction = this.deleteFunctionTransaction(\n      this.props.ruleId,\n      this.props.funId\n    );\n    this.setState({ fullTransaction: [transaction] });\n  }\n\n  render() {\n    let { handleClose, _db, fullRefresh } = this.props;\n    return (\n      <Editor\n        value={this.state.fullTransaction}\n        handleClose={handleClose}\n        _db={_db}\n        fullRefresh={fullRefresh}\n      />\n    );\n  }\n}\n\nclass AddNewRule extends Component {\n  state = {\n    fullTransaction: [],\n    originalFunctions: [],\n    originalOps: [],\n    fns: [],\n    deleteFunction: null,\n    showDeleteFunctionModal: false,\n    showDeleteOpModal: false,\n  };\n\n  cleanOps = (initOps) => {\n    let opsCleaned = [];\n    let ops = JSON.stringify(initOps);\n    if (ops.includes(\"query\")) {\n      opsCleaned.push(\"query\");\n    }\n    if (ops.includes(\"transact\")) {\n      opsCleaned.push(\"transact\");\n    }\n    if (ops.includes(\"token\")) {\n      opsCleaned.push(\"token\");\n    }\n    if (ops.includes(\"logs\")) {\n      opsCleaned.push(\"logs\");\n    }\n    if (ops.includes(\"all\")) {\n      opsCleaned.push(\"all\");\n    }\n    return opsCleaned;\n  };\n\n  componentDidMount = () => {\n    if (this.props.edit) {\n      this.handleReceiveProps(this.props, [\n        \"_id\",\n        \"id\",\n        \"doc\",\n        \"collection\",\n        \"fns\",\n        \"predicates\",\n        \"errorMessage\",\n      ]);\n    } else {\n      const newState = {\n        fullTransaction: [],\n        id: \"\",\n        doc: \"\",\n        collection: \"\",\n        predicates: \"\",\n        fns: [],\n        errorMessage: \"\",\n      };\n      this.setState(newState);\n    }\n\n    this.setState({ idChanged: false });\n    this.props.ops\n      ? this.setState({ ops: this.cleanOps(this.props.ops) }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ ops: [] }, () => this.calculatedTransaction());\n    this.props.ops\n      ? this.setState({ originalOps: this.cleanOps(this.props.ops) }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ originalOps: [] }, () => this.calculatedTransaction());\n    this.props.collectionDefault\n      ? this.setState({ collectionDefault: true }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ collectionDefault: false }, () =>\n          this.calculatedTransaction()\n        );\n  };\n\n  onChangeKey = (key, event) => {\n    let newState = {};\n    newState[key] = event.target ? event.target.value : event;\n    if (key === \"id\") {\n      newState.idChanged = true;\n      this.setState(newState, () => this.calculatedTransaction());\n    } else {\n      this.setState(newState, () => this.calculatedTransaction());\n    }\n  };\n\n  onChangeOps = (event) => {\n    const ops = event;\n    let deleteOp = false;\n\n    this.state.originalOps.forEach((op) => {\n      if (!ops.includes(op)) {\n        deleteOp = true;\n        this.setState({ deleteOp: op, showDeleteOpModal: true });\n      }\n    });\n\n    if (!deleteOp) {\n      this.setState({ ops: event }, () => this.calculatedTransaction());\n    }\n  };\n\n  onChangeCheckKey = (key, event) => {\n    let newState = {};\n    newState[key] = event.target.checked;\n    this.setState(newState, () => this.calculatedTransaction());\n  };\n\n  tooltip = (\n    <Tooltip id=\"tooltip\">\n      Checking this box will make this rule the default for this collection.\n      Either use this or _rule/fns on a rule, but not both.\n    </Tooltip>\n  );\n\n  handleReceiveProps = (nextProp, keys) => {\n    let newState = {};\n    for (let i = 0; i < keys.length; i++) {\n      if (keys[i] === \"fns\") {\n        let fnArray = [];\n        if (nextProp[\"fns\"] !== undefined) {\n          nextProp[\"fns\"].forEach((fn, index) => {\n            let fn_id = get(fn, \"_id\") || get(fn, [index, \"_id\"]);\n            fnArray.push(fn_id);\n          });\n        }\n        newState[\"fns\"] = fnArray;\n        newState[\"originalFunctions\"] = fnArray;\n      } else {\n        newState[keys[i]] = get(nextProp, keys[i], \"\");\n      }\n    }\n    this.setState(newState);\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.edit) {\n      this.handleReceiveProps(nextProps, [\n        \"_id\",\n        \"id\",\n        \"doc\",\n        \"collection\",\n        \"predicates\",\n        \"fns\",\n        \"errorMessage\",\n      ]);\n    } else {\n      const newState = {\n        fullTransaction: \"\",\n        id: \"\",\n        doc: \"\",\n        collection: \"\",\n        predicates: \"\",\n        fns: [],\n        originalFunctions: [],\n        errorMessage: \"\",\n      };\n      this.setState(newState);\n    }\n\n    this.setState({ idChanged: false });\n    nextProps.ops\n      ? this.setState({ ops: this.cleanOps(nextProps.ops) }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ ops: [] }, () => this.calculatedTransaction());\n    nextProps.ops\n      ? this.setState({ originalOps: this.cleanOps(nextProps.ops) }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ originalOps: [] }, () => this.calculatedTransaction());\n    nextProps.collectionDefault\n      ? this.setState({ collectionDefault: true }, () =>\n          this.calculatedTransaction()\n        )\n      : this.setState({ collectionDefault: false }, () =>\n          this.calculatedTransaction()\n        );\n  }\n\n  calculatedTransaction = () => {\n    const transaction = {\n      _id: this.state._id ? this.state._id : \"_rule\",\n      doc: this.state.doc,\n      ops: [...this.state.ops],\n    };\n\n    if (this.state.idChanged && this.props.id !== this.state.id) {\n      transaction.id = this.state.id;\n    }\n\n    if (this.state.collectionDefault) {\n      transaction.collectionDefault = true;\n    } else {\n      transaction.collectionDefault = false;\n    }\n\n    let predicates =\n      this.state.predicates !== null && this.state.predicates !== \"\"\n        ? String(this.state.predicates).split(\",\")\n        : null;\n\n    if (predicates !== null) {\n      predicates = predicates.map(\n        (predicate) => (predicate = predicate.trim())\n      );\n      transaction.predicates = predicates;\n    }\n\n    if (this.state.collection !== null && this.state.collection !== \"\") {\n      transaction.collection = this.state.collection;\n    }\n\n    if (this.state.fns !== null) {\n      transaction.fns = this.state.fns;\n    }\n\n    if (this.state.errorMessage !== null) {\n      transaction.errorMessage = this.state.errorMessage;\n    }\n\n    this.setState({ fullTransaction: [transaction] });\n  };\n\n  addFunction(_id) {\n    _id = Number(_id);\n    let funArray = [...this.state.fns, _id];\n    funArray = [...new Set(funArray)];\n    this.setState({ fns: funArray }, () => this.calculatedTransaction());\n  }\n\n  removeFunction(_id) {\n    _id = Number(_id);\n    const fns = this.state.fns.slice();\n    const index = fns.indexOf(_id);\n    fns.splice(index, 1);\n\n    if (this.state.originalFunctions.filter((fn) => fn === _id).length !== 0) {\n      this.setState({ showDeleteFunctionModal: true, deleteFunction: _id });\n    } else {\n      this.setState({ fns: fns }, () => this.calculatedTransaction());\n    }\n  }\n\n  handleFunctionClose() {\n    this.setState({ showDeleteFunctionModal: false, deleteFunction: null });\n  }\n\n  handleOpClose() {\n    this.setState({ showDeleteOpModal: false, deleteOp: null });\n  }\n\n  render() {\n    const {\n      edit,\n      _id,\n      _collection,\n      fullRefresh,\n      _db,\n      _fn,\n      handleClose,\n    } = this.props;\n    return (\n      <div className=\"text-gray-light\">\n        {edit ? <h2 className=\"mb20\">Edit Rule Details</h2> : null}\n        {this.state.showDeleteFunctionModal ? (\n          <AddModal\n            ruleId={_id}\n            funId={this.state.deleteFunction}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteFunctionModal}\n            handleClose={this.handleFunctionClose.bind(this)}\n            component={\"deleteFunction\"}\n          />\n        ) : null}\n        {this.state.showDeleteOpModal ? (\n          <AddModal\n            ruleId={_id}\n            op={this.state.deleteOp}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteOpModal}\n            handleClose={this.handleOpClose.bind(this)}\n            component={\"deleteOp\"}\n          />\n        ) : null}\n        <Form\n          horizontal\n          onSubmit={(e) => {\n            e.preventDefault();\n          }}\n        >\n          <FormGroup controlId=\"ruleName\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Rule ID (name):\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  name=\"ruleId\"\n                  value={this.state.id}\n                  placeholder=\"Rule ID (Name)\"\n                  onChange={(e) => this.onChangeKey(\"id\", e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          {edit ? (\n            <FormGroup controlId=\"rule-id-display\">\n              <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n                <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n                _id:\n              </Col>\n              <Col\n                componentClass=\"div\"\n                sm={7}\n                style={{\n                  border: \"1px solid lightgrey\",\n                  borderRadius: \"3px\",\n                  width: \"160px\",\n                  height: \"39px\",\n                  padding: \"9px 12px\",\n                }}\n              >\n                {_id}\n              </Col>\n            </FormGroup>\n          ) : null}\n          <FormGroup controlId=\"rule-doc-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Doc:\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"roleDoc\"\n                  value={this.state.doc}\n                  placeholder=\"Doc\"\n                  onChange={(e) => this.onChangeKey(\"doc\", e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"rule-collection-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Collection:\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  componentClass=\"select\"\n                  value={this.state.collection}\n                  onChange={(e) => this.onChangeKey(\"collection\", e)}\n                >\n                  <option value=\"\"></option>\n                  <option value=\"*\">All Collections</option>\n                  {_collection.map((collection) => {\n                    return (\n                      <option\n                        key={get(collection, \"_id\")}\n                        value={get(collection, \"_collection/name\")}\n                      >\n                        {get(collection, \"_collection/name\")}\n                      </option>\n                    );\n                  })}\n                </FormControl>\n              </FormGroup>\n              <FormGroup controlId=\"ruleCollectionDefault\">\n                {this.state.collection === undefined ||\n                this.state.collection === \"\" ? null : (\n                  <Checkbox\n                    checked={this.state.collectionDefault}\n                    onChange={(e) =>\n                      this.onChangeCheckKey(\"collectionDefault\", e)\n                    }\n                    className=\"text-left\"\n                  >\n                    <OverlayTrigger placement=\"right\" overlay={this.tooltip}>\n                      <p>Default</p>\n                    </OverlayTrigger>\n                  </Checkbox>\n                )}\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"rule-predicates-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Predicates\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  placeholder=\"Rule Predicates\"\n                  value={this.state.predicates}\n                  disabled={\n                    this.state.collectionDefault && this.state.collection !== \"\"\n                  }\n                  onChange={(e) => this.onChangeKey(\"predicates\", e)}\n                />\n              </FormGroup>\n            </Col>\n            <Col componentClass=\"div\" className=\"text-left\" sm={4} />\n            <Col componentClass=\"div\" className=\"text-left\" sm={7}>\n              <p>Separate each predicate with a comma.</p>\n            </Col>\n          </FormGroup>\n          <FormGroup controlId=\"ruleFunction\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Function\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <div\n                  className=\"border-dashed-light-gray pt10\"\n                  style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                >\n                  {_fn\n                    ? _fn.map((fn) => {\n                        let fnName = get(fn, \"_fn/name\", \"No Name\");\n                        fnName = fnName === \"\" ? \"No Name\" : fnName;\n                        let fn_id = get(fn, \"_id\");\n                        let fnDoc = get(fn, \"_fn/doc\", \"No doc\");\n                        fnDoc = fnDoc === \"\" ? \"No doc\" : fnDoc;\n                        return (\n                          <OverlayTrigger\n                            key={String(fn_id).concat(\"overlay\")}\n                            placement=\"top\"\n                            overlay={\n                              <Tooltip\n                                key={String(fn_id).concat(\"tooltip\")}\n                                id={fn_id}\n                              >\n                                {fnDoc}\n                              </Tooltip>\n                            }\n                          >\n                            <Button\n                              key={String(fn_id).concat(\"button\")}\n                              className=\"mb10\"\n                              bsStyle=\"warning\"\n                              value={fn_id}\n                              style={{\n                                marginLeft: \"5px\",\n                                display: this.state.fns.includes(fn_id)\n                                  ? null\n                                  : \"none\",\n                              }}\n                              onClick={() => this.removeFunction(fn_id)}\n                            >\n                              {fnName}&nbsp;&nbsp;\n                              <i className=\"fas fa-times\" />\n                            </Button>\n                          </OverlayTrigger>\n                        );\n                      })\n                    : null}\n                </div>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add a Function\"\n                    id=\"predicate-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {_fn\n                      ? _fn.map((fn) => {\n                          let fnName = get(fn, \"_fn/name\", \"No Name\");\n                          fnName = fnName === \"\" ? \"No Name\" : fnName;\n                          let fn_id = get(fn, \"_id\");\n                          let fnDoc = get(fn, \"_fn/doc\", \"No doc\");\n                          fnDoc = fnDoc === \"\" ? \"No doc\" : fnDoc;\n                          return (\n                            <MenuItem\n                              key={fnName}\n                              value={fn_id}\n                              onClick={() => {\n                                console.log(\"you need to add new function\");\n                                this.addFunction(fn_id);\n                              }}\n                            >\n                              {fnName}: {fnDoc}\n                            </MenuItem>\n                          );\n                        })\n                      : null}\n                    {!_fn || _fn.length === 0 ? (\n                      <MenuItem>No Functions</MenuItem>\n                    ) : null}\n                    <AddModal\n                      component={\"addFunction\"}\n                      _db={_db}\n                      fullRefresh={fullRefresh}\n                      handleClose={handleClose}\n                    />\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n          <FormGroup controlId=\"rule-ops-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Ops\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <ButtonToolbar>\n                  <ToggleButtonGroup\n                    key={this.state.ops ? \"loaded\" : \"notLoaded\"}\n                    onChange={(e) => this.onChangeOps(e)}\n                    type=\"checkbox\"\n                    name=\"ruleOps\"\n                    value={this.state.ops}\n                  >\n                    <ToggleButton value=\"query\">Query</ToggleButton>\n                    <ToggleButton value=\"transact\">Transact</ToggleButton>\n                    <ToggleButton value=\"token\">Token</ToggleButton>\n                    <ToggleButton value=\"logs\">Logs</ToggleButton>\n                    <ToggleButton value=\"all\">All</ToggleButton>\n                  </ToggleButtonGroup>\n                </ButtonToolbar>\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"rule-error-message-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-unlock bg-danger permission-icon-small mb10\" />\n              Error Message\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.errorMessage}\n                  onChange={(e) => this.onChangeKey(\"errorMessage\", e)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          <Editor\n            value={this.state.fullTransaction}\n            _db={_db}\n            fullRefresh={fullRefresh}\n          />\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport { AddNewRule, DeleteRule, DeleteOp, DeleteFunction };\n","import React, { Component } from \"react\";\nimport { Form, FormGroup, Col, FormControl } from \"react-bootstrap\";\nimport Editor from \"./PermissionsEditor\";\n\nclass AddNewFunction extends Component {\n  state = {\n    name: \"\",\n    params: null,\n    code: \"\",\n    doc: \"\",\n    spec: \"\",\n    language: \"\",\n  };\n\n  onChangeValue(key, value) {\n    const newState = {};\n    newState[key] = value;\n    this.setState(newState, () => this.calculatedTransaction());\n  }\n\n  resetForm = () => {\n    this.setState({\n      name: \"\",\n      params: null,\n      code: \"\",\n      doc: \"\",\n      spec: \"\",\n      language: \"\",\n    });\n  };\n\n  componentDidMount() {\n    this.resetForm();\n  }\n\n  calculatedTransaction = () => {\n    let transaction = {\n      _id: \"_fn\",\n      name: this.state.name ? this.state.name : \"\",\n      doc: this.state.doc ? this.state.doc : \"\",\n      code: this.state.code ? this.state.code : \"\",\n      spec: this.state.spec ? this.state.spec : \"\",\n      language: this.state.language ? this.state.language : \"\",\n    };\n    if (this.state.params !== null) {\n      transaction.params = this.state.params.split(\",\");\n    }\n\n    this.setState({ fullTransaction: [transaction] });\n  };\n\n  handleClose = () => {\n    this.setState({ showDeleteRoleModal: false });\n  };\n\n  render() {\n    const { handleClose, fullRefresh, _db } = this.props;\n    return (\n      <div className=\"text-gray-light\">\n        <h2 className=\"mb20\">Create New Function</h2>\n        <Form horizontal onSubmit={(e) => e.preventDefault()}>\n          <FormGroup controlId=\"auth-id-edit\">\n            <Col componentClass=\"div\" sm={4} className=\"text-left\">\n              <i className=\"fas fa-code bg-success permission-icon-small mb10\" />\n              Name:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  type=\"text\"\n                  name=\"functionName\"\n                  value={this.state.name}\n                  placeholder=\"Function Name\"\n                  onChange={(e) => this.onChangeValue(\"name\", e.target.value)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"function-doc\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-code bg-success permission-icon-small mb10\" />\n              Doc:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"functionDoc\"\n                  value={this.state.doc}\n                  placeholder=\"Doc\"\n                  onChange={(e) => this.onChangeValue(\"doc\", e.target.value)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"function-code\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-code bg-success permission-icon-small mb10\" />\n              Code:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"functionCode\"\n                  value={this.state.code}\n                  placeholder=\"Code\"\n                  onChange={(e) => this.onChangeValue(\"code\", e.target.value)}\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <FormGroup controlId=\"function-params\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-code bg-success permission-icon-small mb10\" />\n              Params:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"functionParams\"\n                  value={this.state.params}\n                  placeholder=\"Params\"\n                  onChange={(e) => this.onChangeValue(\"params\", e.target.value)}\n                />\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}></Col>\n            </FormGroup>\n          </FormGroup>\n\n          <FormGroup controlId=\"function-language\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-code bg-success permission-icon-small mb10\" />\n              Language:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <FormControl\n                  className=\"xs-90\"\n                  componentClass=\"textarea\"\n                  name=\"functionCode\"\n                  value={this.state.language}\n                  placeholder=\"Language\"\n                  onChange={(e) =>\n                    this.onChangeValue(\"language\", e.target.value)\n                  }\n                />\n              </FormGroup>\n            </Col>\n          </FormGroup>\n\n          <Editor\n            value={this.state.fullTransaction}\n            _db={_db}\n            handleClose={handleClose}\n            fullRefresh={fullRefresh}\n          />\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport { AddNewFunction };\n","import React, { Component } from \"react\";\nimport get from \"lodash.get\";\nimport {\n  Form,\n  FormGroup,\n  Col,\n  InputGroup,\n  FormControl,\n  OverlayTrigger,\n  Tooltip,\n  Button,\n  DropdownButton,\n  MenuItem,\n} from \"react-bootstrap\";\nimport AddModal from \"./AddModal\";\nimport Editor from \"./PermissionsEditor\";\n\nclass AddNewUser extends Component {\n  state = {\n    username: \"\",\n    roles: [],\n    additionalAuth: [],\n    originalRoles: [],\n    originalAuth: [],\n    fullTransaction: [],\n    showDeleteRoleModal: false,\n    showDeleteAuthModal: false,\n    deleteRole: null,\n    deleteAuth: null,\n  };\n\n  handleUsernameChange = (username) => {\n    this.setState({ username: username, usernameChanged: true }, () =>\n      this.calculatedTransaction()\n    );\n  };\n\n  resetForm = (props) => {\n    let results = this.props.results;\n    let username = \"\";\n    if (props.username) {\n      username = props.username;\n    }\n\n    const userRoleArray = [];\n    if (props.userRoles !== undefined) {\n      props.userRoles.forEach((userRole) => {\n        if (\n          props.roles.filter((role) => role._id === userRole._id).length !== 0\n        ) {\n          userRoleArray.push(userRole._id);\n        }\n      });\n    }\n\n    const userAuthArray = [];\n    if (props.userAuth !== undefined) {\n      props.userAuth.forEach((userAuth) => {\n        if (\n          props.auth.filter((auth) => auth._id === userAuth._id).length !== 0\n        ) {\n          userAuthArray.push(userAuth._id);\n        }\n      });\n    }\n\n    this.setState(\n      {\n        originalRoles: userRoleArray,\n        originalAuth: userAuthArray,\n        roles: userRoleArray,\n        additionalAuth: [],\n        deleteRole: null,\n        deleteAuth: null,\n        usernameChanged: false,\n        username: username,\n        results: results,\n        authChanged: false,\n        showDeleteAuthModal: false,\n        showDeleteRoleModal: false,\n      },\n      () => this.calculatedTransaction()\n    );\n  };\n\n  componentDidMount() {\n    this.resetForm(this.props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.resetForm(nextProps);\n  }\n\n  removeRole(_id) {\n    _id = Number(_id);\n    const roles = this.state.roles.slice();\n    const index = roles.indexOf(_id);\n    roles.splice(index, 1);\n\n    if (this.state.originalRoles.filter((role) => role === _id).length !== 0) {\n      this.setState({ showDeleteRoleModal: true, deleteRole: _id });\n    } else {\n      this.setState({ roles: roles }, () => this.calculatedTransaction());\n    }\n  }\n\n  addRole(_id) {\n    _id = Number(_id);\n    let rolesArray = [...this.state.roles, _id];\n    rolesArray = [...new Set(rolesArray)];\n    this.setState({ roles: rolesArray }, () => this.calculatedTransaction());\n  }\n\n  removeAuth(_id) {\n    _id = Number(_id);\n    const auth = this.state.additionalAuth.slice();\n    const index = auth.indexOf(_id);\n    auth.splice(index, 1);\n\n    if (this.state.originalAuth.filter((auth) => auth === _id).length !== 0) {\n      this.setState({ showDeleteAuthModal: true, deleteAuth: _id });\n    } else {\n      this.setState({ additionalAuth: auth }, () =>\n        this.calculatedTransaction()\n      );\n    }\n  }\n\n  addAuth(_id) {\n    _id = Number(_id);\n    if (this.state.originalAuth.filter((auth) => auth === _id).length === 0) {\n      let authArray = [...this.state.additionalAuth, _id];\n      authArray = [...new Set(authArray)];\n      this.setState({ additionalAuth: authArray, authChanged: true }, () =>\n        this.calculatedTransaction()\n      );\n    }\n  }\n\n  calculatedTransaction = () => {\n    let transaction =\n      this.state.username === \"\" &&\n      this.state.roles.length === 0 &&\n      this.state.auth === 0\n        ? null\n        : {\n            _id: this.props._id ? this.props._id : \"_user\",\n            roles: [...this.state.roles],\n          };\n\n    if (\n      this.state.usernameChanged &&\n      this.props.username !== this.state.username\n    ) {\n      transaction.username = this.state.username;\n    }\n\n    if (this.state.authChanged && this.props.auth !== this.state.auth) {\n      transaction.auth = this.state.additionalAuth;\n    }\n\n    this.setState({ fullTransaction: [transaction] });\n  };\n\n  handleAuthClose = () => {\n    this.setState({ showDeleteAuthModal: false });\n  };\n\n  handleRoleClose = () => {\n    this.setState({ showDeleteRoleModal: false });\n  };\n\n  render() {\n    const {\n      _id,\n      edit,\n      fullRefresh,\n      roles,\n      auth,\n      transact,\n      rules,\n      handleClose,\n      nestedAuth,\n      nestedRoles,\n      _db,\n    } = this.props;\n\n    let userlessAuth = [];\n\n    auth.forEach((auth) => {\n      if (\n        get(auth, \"_user/_auth\", \"none\") === \"none\" ||\n        get(auth, [\"_user/_auth\", 0, \"_id\"], \"none\") === \"none\" ||\n        get(auth, \"_user/_auth\").length === 0\n      ) {\n        userlessAuth.push(auth);\n      }\n    });\n\n    return (\n      <div className=\"text-gray-light\">\n        {this.state.showDeleteRoleModal ? (\n          <AddModal\n            roleId={this.state.deleteRole}\n            parentId={_id}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteRoleModal}\n            handleClose={this.handleRoleClose}\n            component={\"deleteRole\"}\n          />\n        ) : null}\n        {this.state.showDeleteAuthModal ? (\n          <AddModal\n            authId={this.state.deleteAuth}\n            userId={_id}\n            _db={_db}\n            fullRefresh={fullRefresh}\n            show={this.state.showDeleteAuthModal}\n            handleClose={this.handleAuthClose}\n            component={\"deleteAuth\"}\n          />\n        ) : null}\n        <h2 className=\"mb20\">\n          {edit ? \"Edit User Details\" : \"Create a New User\"}\n        </h2>\n        <Form\n          horizontal\n          onSubmit={(e) => {\n            e.preventDefault();\n          }}\n        >\n          <FormGroup controlId=\"username-edit\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-user bg-info permission-icon-small mb10\" />\n              Username:\n            </Col>\n            <Col sm={7}>\n              <FormGroup>\n                <InputGroup>\n                  <FormControl\n                    type=\"text\"\n                    name=\"username\"\n                    value={this.state.username}\n                    placeholder=\"Username\"\n                    onChange={(e) => this.handleUsernameChange(e.target.value)}\n                  />\n                </InputGroup>\n              </FormGroup>\n            </Col>\n          </FormGroup>\n          {edit ? (\n            <FormGroup controlId=\"id-display\">\n              <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n                <i className=\"fas fa-user bg-info permission-icon-small mb10\" />\n                _id:\n              </Col>\n              <Col\n                componentClass=\"div\"\n                sm={7}\n                style={{\n                  border: \"1px solid lightgrey\",\n                  borderRadius: \"3px\",\n                  width: \"160px\",\n                  height: \"39px\",\n                  padding: \"9px 12px\",\n                }}\n              >\n                {_id}\n              </Col>\n            </FormGroup>\n          ) : null}\n          <FormGroup controlId=\"user-roles\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <i className=\"fas fa-user bg-info permission-icon-small mb10\" />\n              Roles\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <div\n                  className=\"border-dashed-light-gray pt10\"\n                  style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                >\n                  {\n                    roles.map((role) => {\n                      let roleId = get(role, \"_role/id\", \"No _role/Id\");\n                      roleId = roleId === \"\" ? \"No id\" : roleId;\n                      let role_id = get(role, \"_id\");\n                      let doc = get(role, \"_role/doc\", \"No documentation\");\n                      doc = doc === \"\" ? \"No documentation\" : doc;\n                      return (\n                        <OverlayTrigger\n                          key={String(role._id).concat(\"overlay\")}\n                          placement=\"top\"\n                          overlay={\n                            <Tooltip\n                              key={String(role._id).concat(\"tooltip\")}\n                              id={get(role, \"_id\")}\n                            >\n                              {doc}\n                            </Tooltip>\n                          }\n                        >\n                          <Button\n                            key={String(role_id).concat(\"button\")}\n                            className=\"mb10\"\n                            bsStyle=\"primary\"\n                            value={role_id}\n                          \n                            style={{\n                              marginLeft: \"5px\",\n                              display: this.state.roles.includes(role_id)\n                                ? null\n                                : \"none\",\n                            }}\n                            onClick={() => this.removeRole(role_id)}\n                          >\n                            {roleId}&nbsp;&nbsp;\n                            <i className=\"fas fa-times\" />\n                          </Button>\n                        </OverlayTrigger>\n                      );\n                    })\n                  }\n                </div>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add a Role\"\n                    id=\"role-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {roles.map((role) => {\n                      let roleId = get(role, \"_role/id\", \"No id\");\n                      roleId = roleId === \"\" ? \"No id\" : roleId;\n\n                      let roleDoc = get(role, \"_role/doc\", \"No doc\");\n                      roleDoc = roleDoc === \"\" ? \"No doc\" : roleDoc;\n                      return (\n                        <MenuItem\n                          key={get(role, \"_id\")}\n                          value={get(role, \"_id\")}\n                          onClick={() => {\n                            this.addRole(get(role, \"_id\"));\n                          }}\n                        >\n                          {roleId}: {roleDoc}\n                        </MenuItem>\n                      );\n                    })}\n                    {!roles || roles.length === 0 ? (\n                      <MenuItem>No Roles</MenuItem>\n                    ) : null}\n                    {nestedRoles ? null : (\n                      <AddModal\n                        component={\"addRole\"}\n                        edit={false}\n                        roles={roles}\n                        rules={rules}\n                        nestedRules={true}\n                        _db={_db}\n                        fullRefresh={fullRefresh}\n                        transact={transact}\n                      />\n                    )}\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n          <FormGroup controlId=\"user-auth\">\n            <Col componentClass=\"div\" className=\"text-left\" sm={4}>\n              <span>\n                <i className=\"fas fa-user bg-info permission-icon-small mb10\" />\n                Auth Records:\n              </span>\n            </Col>\n            <Col componentClass=\"div\" sm={7}>\n              <FormGroup className=\"text-left\">\n                <OverlayTrigger\n                  placement=\"left\"\n                  overlay={\n                    <Tooltip id=\"authnote\">\n                      You may only add auth records that are not attached to any\n                      other user.{\" \"}\n                    </Tooltip>\n                  }\n                >\n                  <div\n                    className=\"border-dashed-light-gray pt10\"\n                    style={{ minHeight: \"45px\", marginBottom: \"5px\" }}\n                  >\n                    {\n                    \n                      auth.map((auth) => {\n                        let authId = get(auth, \"_auth/id\", \"No _auth/Id\");\n                        authId = authId === \"\" ? \"No id\" : authId;\n                        let auth_id = get(auth, \"_id\");\n                        let doc = get(auth, \"_auth/doc\", \"No documentation\");\n                        doc = doc === \"\" ? \"No documentation\" : doc;\n                        return (\n                          <OverlayTrigger\n                            placement=\"top\"\n                            overlay={\n                              <Tooltip id={get(auth, \"_id\")}>{doc}</Tooltip>\n                            }\n                          >\n                            <Button\n                              className=\"mb10\"\n                              bsStyle=\"success\"\n                              value={auth_id}\n                              style={{\n                                marginLeft: \"5px\",\n                                display:\n                                  this.state.originalAuth.includes(auth_id) ||\n                                  this.state.additionalAuth.includes(auth_id)\n                                    ? null\n                                    : \"none\",\n                              }}\n                              onClick={() => this.removeAuth(auth_id)}\n                            >\n                              {authId}&nbsp;&nbsp;\n                              <i className=\"fas fa-times\" />\n                            </Button>\n                          </OverlayTrigger>\n                        );\n                      })\n                    }\n                  </div>\n                </OverlayTrigger>\n              </FormGroup>\n            </Col>\n            <FormGroup>\n              <Col sm={4} />\n              <Col sm={7}>\n                <FormGroup className=\"text-left\">\n                  <DropdownButton\n                    title=\"Add an Auth Record\"\n                    id=\"auth-selection-dropdown\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {userlessAuth.map((auth) => {\n                      let authId = get(auth, \"_auth/id\", \"No id\");\n                      authId = authId === \"\" ? \"No id\" : authId;\n\n                      let authDoc = get(auth, \"_auth/doc\", \"No doc\");\n                      authDoc = authDoc === \"\" ? \"No doc\" : authDoc;\n                      return (\n                        <MenuItem\n                          key={get(auth, \"_id\")}\n                          value={get(auth, \"_id\")}\n                          onClick={() => {\n                            this.addAuth(get(auth, \"_id\"));\n                          }}\n                        >\n                          {authId}: {authDoc}\n                        </MenuItem>\n                      );\n                    })}\n                    {!userlessAuth || userlessAuth.length === 0 ? (\n                      <MenuItem>No Available Auth</MenuItem>\n                    ) : null}\n                    {nestedAuth ? null : (\n                      <AddModal\n                        component={\"addAuth\"}\n                        edit={false}\n                        roles={roles}\n                        _db={_db}\n                        auth={auth}\n                        nestedRoles={true}\n                        fullRefresh={fullRefresh}\n                        transact={transact}\n                      />\n                    )}\n                  </DropdownButton>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n          </FormGroup>\n          <FormGroup controlId=\"edit-delete-user\">\n            <Editor\n              value={this.state.fullTransaction}\n              setValueFromTnx={this.props.setValueFromTnx}\n              valueFromTnx={this.props.valueFromTnx}\n              handleClose={handleClose}\n              _db={_db}\n              fullRefresh={fullRefresh}\n            />\n          </FormGroup>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default AddNewUser;\n","import React, { Component } from \"react\";\nimport { MenuItem, Modal, Alert } from \"react-bootstrap\";\nimport { AddNewRole, DeleteRole } from \"./RoleForm\";\nimport { AddNewAuth, DeleteAuth, DeleteAuthority } from \"./AuthForm\";\nimport { AddNewRule, DeleteRule, DeleteFunction, DeleteOp } from \"./RuleForm\";\nimport { AddNewFunction } from \"./FunctionForm\";\nimport AddNewUser from \"./UserForm\";\n\nclass AddModal extends Component {\n  state = {\n    show:\n      this.props.component === \"deleteRole\" ||\n      this.props.component === \"deleteAuth\" ||\n      this.props.component === \"deleteAuthority\" ||\n      this.props.component === \"deleteFunction\" ||\n      this.props.component === \"deleteOp\"\n        ? true\n        : false,\n  };\n\n  handleClose = () => {\n    this.props.handleClose\n      ? this.props.handleClose()\n      : this.setState({ show: false });\n  };\n\n  handleShow = () => {\n    this.setState({ show: true });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.component === \"deleteRole\" ||\n      nextProps.component === \"deleteAuth\" ||\n      this.props.component === \"deleteAuthority\" ||\n      nextProps.component === \"deleteRule\" ||\n      nextProps.component === \"deleteFunction\" ||\n      nextProps.component === \"deleteOp\"\n    ) {\n      this.setState({ show: nextProps.show });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.component === \"deleteRole\" ||\n        this.props.component === \"deleteAuth\" ||\n        this.props.component === \"deleteAuthority\" ||\n        this.props.component === \"deleteRule\" ||\n        this.props.component === \"deleteFunction\" ||\n        this.props.component === \"deleteOp\" ? null : (\n          <MenuItem\n            style={{\n              display: \"block\",\n              padding: \"3px 20px\",\n              clear: \"both\",\n              fontWeight: \"normal\",\n              lineHeight: \"1.3333333\",\n              whiteSpace: \"nowrap\",\n            }}\n            onClick={() => {\n              this.handleShow();\n              this.props.setValueFromTnx(\"\");\n            }}\n          >\n            {(() => {\n              switch (this.props.component) {\n                case \"addRole\":\n                  return \"Create New Role\";\n                case \"addAuth\":\n                  return \"Create New Auth Record\";\n                case \"addRule\":\n                  return \"Create New Rule\";\n                case \"addFunction\":\n                  return \"Create New Function\";\n                default:\n                  return \"Create New User\";\n              }\n            })()}\n          </MenuItem>\n        )}\n        <Modal show={this.state.show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n              <i\n                className={(() => {\n                  switch (this.props.component) {\n                    case \"addRole\":\n                      return \"fas fa-wrench\";\n                    case \"addAuth\":\n                      return \"fas fa-chess-queen\";\n                    case \"addRule\":\n                      return \"fas fa-unlock\";\n                    case \"addFunction\":\n                      return \"fas fa-code\";\n                    case \"deleteRole\":\n                      return \"fas fa-wrench\";\n                    case \"deleteRule\":\n                      return \"fas fa-unlock\";\n                    case \"deleteAuth\":\n                      return \"fas fa-chess-queen\";\n                    case \"deleteAuthority\":\n                      return \"fas fa-chess-queen\";\n                    case \"deleteFunction\":\n                      return \"fas fa-code\";\n                    case \"deleteOp\":\n                      return \"fas fa-clipdoard-list\";\n                    default:\n                      return \"fas fa-user\";\n                  }\n                })()}\n              />{\" \"}\n              &nbsp;\n              {(() => {\n                switch (this.props.component) {\n                  case \"addRole\":\n                    return \"Create Role\";\n                  case \"addAuth\":\n                    return \"Create New Auth Record\";\n                  case \"addRule\":\n                    return \"Create New Rule\";\n                  case \"addFunction\":\n                    return \"Create New Function\";\n                  case \"deleteRole\":\n                    return \"Delete Role\";\n                  case \"deleteRule\":\n                    return \"Delete Rule\";\n                  case \"deleteAuth\":\n                    return \"Delete Auth\";\n                  case \"deleteAuthority\":\n                    return \"Delete Auth\";\n                  case \"deleteFunction\":\n                    return \"Delete Function\";\n                  case \"deleteOp\":\n                    return \"Delete Op\";\n                  default:\n                    return \"Create New User\";\n                }\n              })()}\n              <hr style={{ marginBottom: \"0px\" }} />\n            </Modal.Title>\n            {this.props.component === \"addRule\" ? (\n              <div style={{ padding: \"20px 0 0 20px\" }}>\n                To learn more about rules and rule predicates, refer to the{\" \"}\n                <a\n                  href=\"https://docs.flur.ee/#defining-rules\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  style={{ color: \"#d42c7f\" }}\n                >\n                  <strong>docs.</strong>\n                </a>\n              </div>\n            ) : null}\n            {this.props.component === \"deleteRole\" ||\n            this.props.component === \"deleteAuth\" ||\n            this.props.component === \"deleteAuthority\" ||\n            this.props.component === \"deleteRule\" ||\n            this.props.component === \"deleteFun\" ||\n            this.props.component === \"deleteOp\" ? (\n              <Alert bsStyle=\"info\">\n                If you would like to both update and delete an subject in a\n                record, you must perform each of those transactions separately.\n              </Alert>\n            ) : null}\n          </Modal.Header>\n          <Modal.Body>\n            {(() => {\n              switch (this.props.component) {\n                case \"addRole\":\n                  return (\n                    <AddNewRole\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"addAuth\":\n                  return (\n                    <AddNewAuth\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"addRule\":\n                  return (\n                    <AddNewRule\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"addFunction\":\n                  return (\n                    <AddNewFunction\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteAuth\":\n                  return (\n                    <DeleteAuth\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteAuthority\":\n                  return (\n                    <DeleteAuthority\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteRole\":\n                  return (\n                    <DeleteRole\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteRule\":\n                  return (\n                    <DeleteRule\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteFunction\":\n                  return (\n                    <DeleteFunction\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n                case \"deleteOp\":\n                  return (\n                    <DeleteOp {...this.props} handleClose={this.handleClose} />\n                  );\n                default:\n                  return (\n                    <AddNewUser\n                      {...this.props}\n                      handleClose={this.handleClose}\n                    />\n                  );\n              }\n            })()}\n          </Modal.Body>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default AddModal;\n","import React, { Component } from \"react\";\nimport { flureeFetch } from \"../flureeFetch\";\nimport get from \"lodash.get\";\nimport { Button, DropdownButton, MenuItem } from \"react-bootstrap\";\nimport { PanelStat } from \"./Account\";\nimport Footer from \"../components/Footer\";\nimport AddModal from \"../components/AddModal\";\nimport { AddNewAuth } from \"../components/AuthForm\";\nimport { AddNewRole } from \"../components/RoleForm\";\nimport { AddNewRule } from \"../components/RuleForm\";\nimport AddNewUser from \"../components/UserForm\";\nimport { GenerateKeysModal } from \"../components/GenerateKeysModal\";\n\nclass PermissionExplorer extends Component {\n  state = {\n    selectedType: \"user\",\n    generateKeysModal: false,\n    valueFromTnx: \"\",\n  };\n\n  setValueFromTnx = (tnx) => {\n    this.setState((prevState) => ({ ...prevState, valueFromTnx: tnx }));\n  };\n  permissionQuery = {\n    auth: {\n      select: [\n        \"*\",\n        { \"_user/_auth\": [\"_id\", \"_user/username\"] },\n        { \"_auth/roles\": [\"*\", { \"_role/rules\": [\"*\"] }] },\n      ],\n      from: \"_auth\",\n    },\n    user: {\n      select: [\n        \"*\",\n        { \"_user/roles\": [\"*\"] },\n        {\n          \"_user/auth\": [\n            \"*\",\n            { \"_auth/roles\": [\"*\", { \"_roles/rules\": [\"*\"] }] },\n          ],\n        },\n      ],\n      from: \"_user\",\n    },\n    role: {\n      select: [\"*\", { \"_role/rules\": [\"*\"] }],\n      from: \"_role\",\n    },\n    rule: {\n      select: [\"*\"],\n      from: \"_rule\",\n    },\n    collection: {\n      select: [\"*\"],\n      from: \"_collection\",\n    },\n    fn: {\n      select: [\"*\"],\n      from: \"_fn\",\n    },\n  };\n\n  componentDidMount() {\n    const { openApiServer } = this.props._db;\n\n    if (openApiServer) {\n      this.getData();\n    }\n  }\n\n  toggleGenerateKeysModal() {\n    this.setState({ generateKeysModal: !this.state.generateKeysModal });\n  }\n\n  getData = () => {\n    const { ip, db, displayError, token } = this.props._db;\n    const fullDb = db.split(\"/\");\n\n    const opts = {\n      endpoint: \"multi-query\",\n      ip: ip,\n      network: fullDb[0],\n      db: fullDb[1],\n      body: this.permissionQuery,\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        let resp = response.json || response;\n        resp = resp.result || resp;\n        const _auth = resp.auth;\n        const _user = resp.user;\n        const _role = resp.role;\n        const _rule = resp.rule;\n        const _collection = resp.collection;\n        const _fn = resp.fn;\n        this.setState({\n          _auth: _auth,\n          _user: _user,\n          _role: _role,\n          _collection: _collection,\n          _fn: _fn,\n          _rule: _rule,\n        });\n      })\n      .catch((error) => {\n        this.setState({ error: true });\n      });\n  };\n\n  switchType(type) {\n    this.setState({ selectedType: type });\n  }\n\n  render() {\n    if (!this.props._db.openApiServer) {\n      return (\n        <div className=\"text-center mt20\">\n          <h3>\n            The Permissions page is not currently available with a closed API.\n          </h3>\n        </div>\n      );\n    }\n\n    if (this.state.error) {\n      return <div />;\n    }\n\n    if (\n      !this.state._user ||\n      !this.state._auth ||\n      !this.state._role ||\n      !this.state._rule ||\n      !this.state._collection ||\n      !this.state._fn\n    ) {\n      return <div className=\"loading1\">Loading...</div>;\n    }\n\n    if (\n      this.state._user &&\n      this.state._auth &&\n      this.state._role &&\n      this.state._rule &&\n      this.state._collection &&\n      this.state._fn\n    ) {\n      const { _user, _auth, _role, _rule } = this.state;\n      const types = [\"user\", \"auth\", \"role\", \"rule\"];\n      const db = this.props._db.db;\n\n      return (\n        <div style={{ paddingLeft: \"40px\", marginTop: \"40px\" }}>\n          {this.state.generateKeysModal ? (\n            <GenerateKeysModal\n              {...this.props}\n              toggleGenerateKeysModal={this.toggleGenerateKeysModal.bind(this)}\n            />\n          ) : null}\n          <div className=\"row\">\n            <div className=\"col-sm-8\">\n              <h2 className=\"mb10 text-uppercase\" style={{ color: \"#091133\" }}>\n                <span className=\"account-header\">\n                  &nbsp;&nbsp;Permissions: {db}\n                </span>\n              </h2>\n            </div>\n            <div className=\"col-sm-4\"></div>\n          </div>\n          <div className=\"row panel-stats\">\n            <div className=\"col-sm-6 col-md-3\">\n              <PanelStat\n                iconClass=\"fas fa-user bg-info\"\n                stat={_user.length}\n                statText={\n                  _user.length === 1 ? \"User in Ledger\" : \"Users in Ledger\"\n                }\n                switchType={this.switchType.bind(this)}\n                type={\"user\"}\n              />\n            </div>\n            <div className=\"col-sm-6 col-md-3\">\n              <PanelStat\n                iconClass=\"fas fa-chess-queen bg-success\"\n                stat={_auth.length}\n                statText={\"Auth in Ledger\"}\n                switchType={this.switchType.bind(this)}\n                type={\"auth\"}\n              />\n            </div>\n            <div className=\"col-sm-6 col-md-3\">\n              <PanelStat\n                iconClass=\"fas fa-wrench bg-primary\"\n                stat={_role.length}\n                statText={\n                  _role.length === 1 ? \"Role in Ledger\" : \"Roles in Ledger\"\n                }\n                switchType={this.switchType.bind(this)}\n                type={\"role\"}\n              />\n            </div>\n            <div\n              className=\"col-sm-6 col-md-3\"\n              onClick={() => this.setState({ selectedType: \"rule\" })}\n            >\n              <PanelStat\n                iconClass=\"fas fa-unlock bg-danger\"\n                stat={_rule.length}\n                statText={\n                  _rule.length === 1 ? \"Rule in Ledger\" : \"Rules in Ledger\"\n                }\n                switchType={this.switchType.bind(this)}\n                type={\"rule\"}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div\n              className=\"col-sm-9 second-row-panel\"\n              style={{\n                background: \"white\",\n                marginLeft: \"15px\",\n                maxWidth: \"95%\",\n              }}\n            >\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  {this.state.selectedType === \"auth\" ? (\n                    <Button\n                      onClick={() => this.setState({ generateKeysModal: true })}\n                    >\n                      Generate Keys\n                    </Button>\n                  ) : null}\n                </div>\n                <div className=\"col-sm-6 text-right\">\n                  <h3 style={{ display: \"inline\" }}>\n                    View Permissions by:&nbsp;\n                  </h3>\n                  <DropdownButton\n                    title={this.state.selectedType}\n                    id=\"type-selection-dropdown\"\n                    className=\"text-capitalize\"\n                  >\n                    {types.map((type) => (\n                      <MenuItem\n                        className=\"text-capitalize\"\n                        key={type}\n                        onClick={() => {\n                          this.setState({ selectedType: type });\n                        }}\n                      >\n                        {type}\n                      </MenuItem>\n                    ))}\n                  </DropdownButton>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <PermissionExplorerByType\n                    valueFromTnx={this.state.valueFromTnx}\n                    setValueFromTnx={this.setValueFromTnx}\n                    {...this.props}\n                    {...this.state}\n                    type={this.state.selectedType}\n                    refreshData={this.getData}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          {/* <Footer account={this.props._db.account}/> */}\n        </div>\n      );\n    }\n  }\n}\n\n\nclass PermissionExplorerByType extends Component {\n  state = {\n    selectedIndex: 0,\n    loading: false,\n  };\n\n  transact = (transaction) => {\n    this.setState({ loading: true });\n\n    const { ip, db, token } = this.props._db;\n    const fullDb = db.split(\"/\");\n\n    const opts = {\n      endpoint: \"transact\",\n      ip: ip,\n      network: fullDb[0],\n      db: fullDb[1],\n      body: transaction,\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((res) => {\n        this.setState({ loading: false });\n        this.fullRefresh();\n        this.props.setValueFromTnx(\"\");\n      })\n      .catch((error) => {\n        const errorMessage = error.json || error;\n        this.setState({ loading: false, error: true });\n        this.props._db.displayError(errorMessage);\n      });\n  };\n\n  fullRefresh = (resp) => {\n    \n    this.props.refreshData(resp);\n  };\n\n  // On receive newProps, only change selected index if the type changes \n  //or if the index of the item changes\n  UNSAFE_componentWillReceiveProps = (nextProps) => {\n    const type = this.props.type;\n    const item = get(this.props, \"_\".concat(type))[this.state.selectedIndex];\n    const newItem = get(nextProps, \"_\".concat(type))[this.state.selectedIndex];\n    const newItems = get(nextProps, \"_\".concat(type));\n\n    if (this.props.type !== nextProps.type) {\n      this.setState({ selectedIndex: 0 });\n    } else if (newItems.length === 0 || item === undefined) {\n      this.setState({ selectedIndex: 0 });\n    } else if (item._id !== newItem._id) {\n      let newSelectedIndex;\n\n      for (var i = 0; i < newItems.length; i++) {\n        if (newItems[i]._id === item._id) {\n          newSelectedIndex = i;\n          break;\n        }\n        newSelectedIndex = 0;\n      }\n\n      this.setState({ selectedIndex: newSelectedIndex });\n    }\n  };\n\n\n  generateDeleteSubjectTransaction = (type) => {\n    const item = get(this.props, \"_\".concat(type))[this.state.selectedIndex];\n\n    let transaction = {\n      _id: item._id,\n      _action: \"delete\",\n    };\n\n    return [transaction];\n  };\n\n  render() {\n    const {\n      _user,\n      _auth,\n      _role,\n      _rule,\n      _collection,\n      _fn,\n      _db,\n      valueFromTnx,\n      setValueFromTnx,\n    } = this.props;\n\n    const type = this.props.type;\n\n    const results = this.props.results;\n    const typeData = get(this.props, \"_\".concat(type));\n  \n    if (typeData.length === 0) {\n      return (\n        <div>\n          <div\n            className=\"text-center mt20\"\n            style={{\n              backgroundColor: \"#fcf8e3\",\n              border: \"1px solid #faebcc\",\n              color: \"#8a6d3b\",\n              padding: \"15px\",\n            }}\n          >\n            <strong>There are no {type}s associated with this ledger.</strong>\n            {this.state.loading ? (\n              <div className=\"loading1\"> Loading... </div>\n            ) : null}\n          </div>\n          <div className=\"mt10 text-center\">\n            {(() => {\n              switch (type) {\n                case \"auth\":\n                  return (\n                    <AddNewAuth\n                      edit={false}\n                      roles={_role}\n                      rules={_rule}\n                      auth={_auth}\n                      _collection={_collection}\n                      _db={_db}\n                      fullRefresh={this.fullRefresh}\n                    />\n                  );\n                case \"role\":\n                  return (\n                    <AddNewRole\n                      edit={false}\n                      rules={_rule}\n                      _collection={_collection}\n                      _db={_db}\n                      fullRefresh={this.fullRefresh}\n                      _fn={_fn}\n                    />\n                  );\n                case \"rule\":\n                  return (\n                    <AddNewRule\n                      edit={false}\n                      _db={_db}\n                      _collection={_collection}\n                      fullRefresh={this.fullRefresh}\n                      _fn={_fn}\n                      component={\"addRule\"}\n                    />\n                  );\n                default:\n                  return (\n                    <AddNewUser\n                      \n                      edit={false}\n                      roles={_role}\n                      rules={_rule}\n                      auth={_auth}\n                      valueFromTnx={valueFromTnx}\n                      setValueFromTnx={this.props.setValueFromTnx}\n                      _db={_db}\n                      fullRefresh={this.fullRefresh}\n                      results={results}\n                    />\n                  );\n              }\n            })()}\n          </div>\n        </div>\n      );\n    }\n\n    const dropdown = (typeData, keyName, type) => (\n      <DropdownButton\n        style={{ minWidth: \"100px\" }}\n        title={\n          get(typeData, [this.state.selectedIndex, keyName])\n            ? get(typeData[this.state.selectedIndex], keyName)\n            : `No ${keyName}`\n        }\n        id=\"permission-dropdown\"\n      >\n        {typeData.map((data, index) => (\n          <MenuItem\n            key={data._id}\n            onClick={() => {\n              this.setState({ selectedIndex: index });\n            }}\n          >\n            {get(data, keyName) ? get(data, keyName) : `No ${keyName}`}\n          </MenuItem>\n        ))}\n        {(() => {\n          switch (type) {\n            case \"auth\":\n              return (\n                <AddModal\n                  roles={_role}\n                  _db={_db}\n                  auth={_auth}\n                  fullRefresh={this.fullRefresh}\n                  component={\"addAuth\"}\n                  setValueFromTnx={this.props.setValueFromTnx}\n                  nestedRoles={true}\n                />\n              );\n            case \"role\":\n              return (\n                <AddModal\n                  {...this.props}\n                  edit={false}\n                  rules={_rule}\n                  _fn={_fn}\n                  _collection={_collection}\n                  component={\"addRole\"}\n                  _db={_db}\n                  fullRefresh={this.fullRefresh}\n                  nestedRules={true}\n                />\n              );\n            case \"rule\":\n              return (\n                <AddModal\n                  {...this.props}\n                  _collection={_collection}\n                  _fn={_fn}\n                  component={\"addRule\"}\n                  _db={_db}\n                  fullRefresh={this.fullRefresh}\n                />\n              );\n            default:\n              return (\n                <AddModal\n                  edit={false}\n                  auth={_auth}\n                  roles={_role}\n                  _db={_db}\n                  valueFromTnx={this.props.valueFromTnx}\n                  setValueFromTnx={this.props.setValueFromTnx}\n                  fullRefresh={this.fullRefresh}\n                  fullRefresh={this.fullRefresh}\n                  nestedRoles={true}\n                  nestedAuth={true}\n                  component={\"addUser\"}\n                />\n              );\n          }\n        })()}\n      </DropdownButton>\n    );\n\n    return (\n      <div>\n        {this.state.loading ? (\n          <div className=\"loading1\"> Loading... </div>\n        ) : null}\n        <div className=\"row mt20 border-top-light-gray\">\n          <div className=\"col-sm-9 mt20\">\n            <div className=\"text-center\">\n              {/* Select the specific User/Auth/Role/Rule to examine */}\n              <div className=\"mt20\">\n                {(() => {\n                  switch (type) {\n                    case \"auth\":\n                      return (\n                        <div>\n                          <i className=\"fas fa-chess-queen bg-success permission-icon-small\" />{\" \"}\n                          Auth Record:&nbsp;\n                          {dropdown(_auth, \"_auth/id\", \"auth\")}\n                        </div>\n                      );\n                    case \"role\":\n                      return (\n                        <div>\n                          <i className=\"fas fa-wrench bg-primary permission-icon-small\" />{\" \"}\n                          Role:&nbsp;\n                          {dropdown(_role, \"_role/id\", \"role\")}\n                        </div>\n                      );\n                    case \"rule\":\n                      return (\n                        <div>\n                          <i className=\"fas fa-unlock bg-danger permission-icon-small\" />\n                          &nbsp;Rule:&nbsp;\n                          {dropdown(_rule, \"_rule/id\", \"rule\")}\n                        </div>\n                      );\n                    default:\n                      return (\n                        <div>\n                          <i className=\"fas fa-user bg-info permission-icon-small\" />{\" \"}\n                          User:&nbsp;\n                          {dropdown(_user, \"_user/username\", \"user\")}\n                        </div>\n                      );\n                  }\n                })()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-sm-3 mt20\">\n            <div className=\"text-right mt20\">\n              <Button\n                bsStyle=\"danger\"\n                className=\"text-capitalize\"\n                onClick={() => {\n                  const transaction = this.generateDeleteSubjectTransaction(\n                    type\n                  );\n                  this.transact(transaction);\n                }}\n              >\n                <i className=\"far fa-trash-alt\" />\n                &nbsp; Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mb10 mt10 pt20 border-top-light-gray border-bottom-light-gray\">\n          <div className=\"col-xs-12 mb10\">\n            {(() => {\n              switch (type) {\n                case \"auth\":\n                  const authId = get(\n                    _auth[this.state.selectedIndex],\n                    \"_auth/id\"\n                  );\n                  const auth_id = get(_auth[this.state.selectedIndex], \"_id\");\n                  const authDoc = get(\n                    _auth[this.state.selectedIndex],\n                    \"_auth/doc\"\n                  );\n                  const authUser = get(_auth[this.state.selectedIndex], [\n                    \"_user/_auth\",\n                  ]);\n                  const authRoles = get(\n                    _auth[this.state.selectedIndex],\n                    \"_auth/roles\"\n                  );\n                  const authAuthority = get(\n                    _auth[this.state.selectedIndex],\n                    \"_auth/authority\"\n                  );\n                  return (\n                    <AddNewAuth\n                      edit={true}\n                      id={authId}\n                      _id={auth_id}\n                      doc={authDoc}\n                      user={authUser}\n                      auth={_auth}\n                      roles={_role}\n                      rules={_rule}\n                      _collection={_collection}\n                      authRoles={authRoles}\n                      authAuthority={authAuthority}\n                      _db={_db}\n                      fullRefresh={this.fullRefresh}\n                    />\n                  );\n                case \"role\":\n                  const roleId = get(\n                    _role[this.state.selectedIndex],\n                    \"_role/id\"\n                  );\n                  const role_id = get(_role[this.state.selectedIndex], \"_id\");\n                  const roleDoc = get(\n                    _role[this.state.selectedIndex],\n                    \"_role/doc\"\n                  );\n                  const roleRules = get(\n                    _role[this.state.selectedIndex],\n                    \"_role/rules\"\n                  );\n                  return (\n                    <AddNewRole\n                      edit={true}\n                      id={roleId}\n                      _id={role_id}\n                      rules={_rule}\n                      doc={roleDoc}\n                      _collection={_collection}\n                      roleRules={roleRules}\n                      _db={_db}\n                      _fn={_fn}\n                      fullRefresh={this.fullRefresh}\n                    />\n                  );\n                case \"rule\":\n                  const ruleId = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/id\"\n                  );\n                  const rule_id = get(_rule[this.state.selectedIndex], \"_id\");\n                  const ruleDoc = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/doc\"\n                  );\n                  const ruleOps = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/ops\"\n                  );\n                  const ruleCollectionDefault = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/collectionDefault\"\n                  );\n                  const ruleCollection = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/collection\"\n                  );\n                  const ruleFns = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/fns\"\n                  );\n                  const ruleAttributes = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/attributes\"\n                  );\n                  const ruleErrorMessage = get(\n                    _rule[this.state.selectedIndex],\n                    \"_rule/errorMessage\"\n                  );\n                  return (\n                    <AddNewRule\n                      edit={true}\n                      _collection={_collection}\n                      _fn={_fn}\n                      id={ruleId}\n                      _id={rule_id}\n                      doc={ruleDoc}\n                      ops={ruleOps}\n                      collectionDefault={ruleCollectionDefault}\n                      collection={ruleCollection}\n                      fns={ruleFns}\n                      predicates={ruleAttributes}\n                      errorMessage={ruleErrorMessage}\n                      _db={_db}\n                      fullRefresh={this.fullRefresh}\n                    />\n                  );\n                default:\n                  const userUsername = get(\n                    _user[this.state.selectedIndex],\n                    \"_user/username\",\n                    \"No Username\"\n                  );\n                  const user_id = get(_user[this.state.selectedIndex], \"_id\");\n                  const userRoles = get(\n                    _user[this.state.selectedIndex],\n                    \"_user/roles\"\n                  );\n                  const userAuth = get(\n                    _user[this.state.selectedIndex],\n                    \"_user/auth\"\n                  );\n                  return (\n                    <AddNewUser\n                      edit={true}\n                      username={userUsername}\n                      _id={user_id}\n                      roles={_role}\n                      rules={_rule}\n                      auth={_auth}\n                      userRoles={userRoles}\n                      userAuth={userAuth}\n                      allUsers={_user}\n                      _db={_db}\n                      valueFromTnx={this.props.valueFromTnx}\n                      setValueFromTnx={setValueFromTnx}\n                      fullRefresh={this.fullRefresh}\n                    />\n                  );\n              }\n            })()}\n          </div>\n          <div className=\"col-sm-1\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PermissionExplorer;\n","import React, { Component } from \"react\";\nimport { FormGroup, Button } from \"react-bootstrap\";\nimport AceEditor from \"react-ace\";\nimport \"brace/mode/json\";\nimport \"brace/theme/xcode\";\nimport { flureeFetch } from \"../flureeFetch\";\n\nclass Editor extends Component {\n  state = {\n    value: JSON.stringify(this.props.value, null, 2),\n    valueFromTnx: JSON.stringify(this.props.valueFromTnx, null, 2),\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({ value: JSON.stringify(nextProps.value, null, 2) });\n  }\n\n  onChange = (newValue) => {\n    this.setState({ value: newValue });\n  };\n\n  transact = (transaction) => {\n    this.setState({ loading: true });\n    const { ip, db, token } = this.props._db;\n\n    const fullDb = db.split(\"/\");\n\n    const opts = {\n      endpoint: \"transact\",\n      ip: ip,\n      network: fullDb[0],\n      db: fullDb[1],\n      body: transaction,\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((res) => res.json || res)\n      .then((res) => res.result || res)\n      .then((res) => {\n        this.props.fullRefresh(res);\n        this.props.setValueFromTnx(JSON.stringify(res, null, 2));\n      })\n\n      .catch((error) => {\n        this.setState({ loading: false, response: error });\n      });\n  };\n\n  render() {\n    return (\n      <FormGroup>\n        <div style={{ margin: \"5px 40px 0px 20px\" }}>\n          <h2\n            className=\"text-center\"\n            style={{\n              padding: \"2px\",\n              color: \"#8e8989\",\n              fontFamily: \"Open Sans\",\n            }}\n          >\n            Transaction\n          </h2>\n          <AceEditor\n            mode=\"json\"\n            theme=\"xcode\"\n            name=\"user-transaction\"\n            fontSize={14}\n            showPrintMargin={true}\n            showGutter={true}\n            onChange={this.onChange}\n            width={\"90%\"}\n            height={\"150px\"}\n            highlightActiveLine={true}\n            value={this.state.value}\n            editorProps={{ $blockScrolling: true }}\n            setOptions={{\n              showLineNumbers: true,\n              tabSize: 2,\n            }}\n          />\n          <div style={{ width: \"90%\" }} className=\"text-right\">\n            <Button\n              bsStyle=\"success\"\n              className=\"mt10 text-right\"\n              onClick={() => {\n                this.transact(JSON.parse(this.state.value));\n              }}\n            >\n              <i className=\"far fa-edit permission-icon-small\" />\n              Transact!\n            </Button>\n          </div>\n          <div className=\"mt10\">\n            <h2\n              className=\"text-center\"\n              style={{\n                padding: \"2px\",\n                color: \"#8e8989\",\n                fontFamily: \"Open Sans\",\n              }}\n            >\n              Results\n            </h2>\n            <AceEditor\n              mode=\"json\"\n              theme=\"xcode\"\n              name=\"user-transaction\"\n              fontSize={14}\n              showPrintMargin={true}\n              showGutter={true}\n              width={\"90%\"}\n              height={\"150px\"}\n              highlightActiveLine={true}\n              value={this.props.valueFromTnx}\n              editorProps={{ $blockScrolling: true }}\n              setOptions={{\n                showLineNumbers: true,\n                tabSize: 2,\n              }}\n            />\n          </div>\n        </div>\n      </FormGroup>\n    );\n  }\n}\n\nexport default Editor;\n","export function convertArrayOfObjectsToCSV(args) {\n  var result, ctr, keys, columnDelimiter, lineDelimiter, data;\n\n  data = args.data || null;\n  if (data == null || !data.length) {\n    return null;\n  }\n\n  columnDelimiter = args.columnDelimiter || \",\";\n  lineDelimiter = args.lineDelimiter || \"\\n\";\n\n  keys = Object.keys(data[0]);\n\n  result = \"\";\n  result += keys.join(columnDelimiter);\n  result += lineDelimiter;\n\n  data.forEach(function (item) {\n    ctr = 0;\n    keys.forEach(function (key) {\n      if (ctr > 0) result += columnDelimiter;\n\n      result += item[key];\n      ctr++;\n    });\n    result += lineDelimiter;\n  });\n\n  return result;\n}\n\nexport function loadHistory(dbName, endpoint) {\n  const key =\n    endpoint === \"flureeQL\"\n      ? dbName + \"_history\"\n      : dbName + \"_\" + endpoint + \"history\";\n\n  const history = localStorage.getItem(key);\n\n  if (history) {\n    return JSON.parse(history);\n  } else if (endpoint === \"flureeQL\") {\n    return [\n      {\n        action: \"query\",\n        type: \"query\",\n        param: JSON.stringify(\n          {\n            select: [\"*\"],\n            from: \"_collection\",\n          },\n          null,\n          2\n        ),\n      },\n    ];\n  } else if (endpoint === \"sparQL\") {\n    return [\n      {\n        action: \"query\",\n        type: \"query\",\n        param:\n          \"SELECT ?collection \\nWHERE { \\n  ?collectionID fdb:_collection/name ?collection. \\n  }\",\n      },\n    ];\n  } else if (endpoint === \"sql\") {\n    return [\n      {\n        action: \"query\",\n        type: \"query\",\n        param: \"SELECT * FROM _collection\",\n      },\n    ];\n  }\n}\n\nexport function pushHistory(\n  dbName,\n  history,\n  action,\n  param,\n  response,\n  queryType,\n  endpoint\n) {\n  const HISTORY_MAX = 50;\n\n  const key =\n    endpoint === \"flureeQL\"\n      ? dbName + \"_history\"\n      : dbName + \"_\" + endpoint + \"history\";\n\n  const resKey =\n    endpoint === \"flureeQL\"\n      ? dbName + \"_result\"\n      : dbName + \"_\" + endpoint + \"result\";\n\n  if (!history[0] || param !== history[0].param) {\n    // only add to history if the params are different\n    let paramStore =\n      JSON.stringify(param).length > 5000\n        ? \"Values greater than 5k are not saved in the admin UI.\"\n        : param;\n    let historyObj = { action: action, param: paramStore };\n\n    if (action === \"query\") {\n      historyObj[\"type\"] = queryType;\n    }\n\n    history.unshift(historyObj);\n  }\n \n  if (history.length > HISTORY_MAX) {\n    history.splice(-1, 1);\n  }\n\n  let responseStore =\n    JSON.stringify(response).length > 5000\n      ? \"Values greater than 5k are not saved in the admin UI.\"\n      : response;\n\n  localStorage.setItem(key, JSON.stringify(history));\n  localStorage.setItem(resKey, JSON.stringify(responseStore));\n  return history;\n}\n\nexport function getLastHistoryType(history, type) {\n  for (var i = 0; i < history.length; i++) {\n    if (history[i].type === type) {\n      return history[i].param;\n    }\n  }\n}\n\nexport function getLastHistoryAction(history, action) {\n  for (var i = 0; i < history.length; i++) {\n    if (history[i].action === action) {\n      return history[i].param;\n    }\n  }\n}\n\nexport function getLastHistory(history) {\n  for (var i = 0; i < history.length; i++) {\n    return history[i];\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findInArray = findInArray;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\nexports.int = int;\nexports.dontSetMe = dontSetMe;\n\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n) {\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.addEvent = addEvent;\nexports.removeEvent = removeEvent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTranslation = getTranslation;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nexports.addClassName = addClassName;\nexports.removeClassName = removeClassName;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n} // Get from offsetParent\n\n\nfunction offsetXYFromParent(evt\n/*: {clientX: number, clientY: number}*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","import React from \"react\";\nimport { Modal, Alert, Table } from \"react-bootstrap\";\nimport TransactEditor from \"./PermissionsEditor\";\nimport { generateKeyPair, getSinFromPublicKey } from \"@fluree/crypto-utils\";\nimport { convertArrayOfObjectsToCSV } from \"../util\";\n\nexport class GenerateKeysModal extends React.Component {\n  state = {};\n\n  handleClose() {\n    this.props.toggleGenerateKeysModal();\n  }\n\n  componentDidMount() {\n    this.generateKeys();\n  }\n\n  generateKeys = () => {\n    const { publicKey, privateKey } = generateKeyPair();\n    const authId = getSinFromPublicKey(publicKey);\n\n    const tx = [{ _id: \"_auth\", id: authId, roles: [[\"_role/id\", \"root\"]] }];\n\n    this.setState({\n      publicKey: publicKey,\n      privateKey: privateKey,\n      authId: authId,\n      tx: tx,\n      loading: false,\n    });\n  };\n\n  downloadKeys() {\n    let data = [\n      {\n        \"Public Key\": this.state.publicKey,\n        \"Private Key\": this.state.privateKey,\n        \"Auth Id\": this.state.authId,\n      },\n    ];\n\n    let csv = convertArrayOfObjectsToCSV({ data: data });\n    if (csv === null) return;\n\n    var hiddenElement = document.createElement(\"a\");\n    hiddenElement.href = \"data:text/csv;charset=utf-8,\" + csv;\n    hiddenElement.target = \"_blank\";\n    hiddenElement.download = \"keys.csv\";\n    hiddenElement.click();\n  }\n\n  render() {\n    return (\n      <Modal show={true} onHide={this.handleClose.bind(this)}>\n        <Modal.Header closeButton style={{ paddingBottom: \"0px\" }}>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"fas fa-key\" /> &nbsp; <i className=\"fas fa-key\" />{\" \"}\n            &nbsp; Generate Keys\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.loading &&\n          !this.state.publicKey &&\n          !this.state.privateKey &&\n          !this.state.authId ? (\n            <div className=\"loading1\" />\n          ) : (\n            <div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <h3>Managing Your Public and Private Keys</h3>\n                  <br />\n                  <ul>\n                    <li>\n                      Please{\" \"}\n                      <strong>\n                        {\" \"}\n                        <a\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() => this.downloadKeys()}\n                        >\n                          save your public and private keys{\" \"}\n                        </a>\n                      </strong>\n                      . This is the only time you will be able to view them\n                      through the user interface.\n                    </li>\n                    <br />\n                    <li>\n                      In order to connect your key pair to an auth record,\n                      please <strong>submit the below transaction</strong>. By\n                      default, the below transaction will connect the new auth\n                      record to the root role, but this can be modified.\n                    </li>\n                  </ul>\n                  <br />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-1\" />\n                <div className=\"col-sm-9\">\n                  <br />\n                  <Table\n                    striped\n                    bordered\n                    condensed\n                    hover\n                    style={{ tableLayout: \"fixed\" }}\n                  >\n                    <tbody>\n                      <tr>\n                        <td>Public Key</td>\n                        <td style={{ wordWrap: \"break-word\" }}>\n                          {this.state.publicKey}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>Private Key</td>\n                        <td style={{ wordWrap: \"break-word\" }}>\n                          {this.state.privateKey}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>Auth ID</td>\n                        <td style={{ wordWrap: \"break-word\" }}>\n                          {this.state.authId}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                  <br />\n                </div>\n                <div className=\"col-sm-2\" />\n              </div>\n              <br />\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <TransactEditor value={this.state.tx} _db={this.props._db} />\n                  {this.state.error ? (\n                    <Alert bsStyle=\"danger\">\n                      <h4>Error</h4>\n                      <p>{this.state.error}</p>\n                    </Alert>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          )}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBoundPosition = getBoundPosition;\nexports.snapToGrid = snapToGrid;\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.getControlPosition = getControlPosition;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNode); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNode) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNode) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n\n/*eslint no-console:0*/\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}","export default \"data:image/png;base64,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\"","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Define <Draggable>\n//\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  _createClass(Draggable, null, [{\n    key: \"getDerivedStateFromProps\",\n    // React 16.3+\n    // Arity (props, state)\n    value: function getDerivedStateFromProps(_ref, _ref2) {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition;\n\n      // Set x/y if a new position is provided in props that is different than the previous.\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _classNames;\n\n      var _this$props = this.props,\n          axis = _this$props.axis,\n          bounds = _this$props.bounds,\n          children = _this$props.children,\n          defaultPosition = _this$props.defaultPosition,\n          defaultClassName = _this$props.defaultClassName,\n          defaultClassNameDragging = _this$props.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props.defaultClassNameDragged,\n          position = _this$props.position,\n          positionOffset = _this$props.positionOffset,\n          scale = _this$props.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props, [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"]);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _classnames.default)(children.props.className || '', defaultClassName, (_classNames = {}, _defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), _defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  position: null,\n  scale: 1\n}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPrefix = getPrefix;\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Checking specifically for 'window.document' is for pseudo-browser server-side\n  // environments that define 'window' as the global context.\n  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n  var style = window.document.documentElement.style;\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = getPrefix();\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Simple abstraction for dragging events names.\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreProps = {\n  allowAnyClick: boolean,\n  cancel: string,\n  children: ReactElement<any>,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = ((document.createEvent('MouseEvents')\n          /*: any*/\n          )\n          /*: MouseTouchEvent*/\n          ); // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y;\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See \n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  cancel: null,\n  disabled: false,\n  enableUserSelectHack: true,\n  offsetParent: null,\n  handle: null,\n  grid: null,\n  transform: null,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Navbar,\n  FormGroup,\n  ControlLabel,\n  FormControl,\n  Button,\n  Alert,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport { flureeFetch } from \"../flureeFetch\";\n\nexport function hashCode(string) {\n  var hash = 0;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (var i = 0; i < string.length; i++) {\n    var char = string.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nclass SignIn extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    showAccountModal: false,\n  };\n\n  componentDidMount() {\n    const urlParams = new URLSearchParams(window.location.search);\n    let username = urlParams.get(\"username\") || \"\";\n    this.setState({ username: username });\n  }\n\n  getAccounts = () => {\n    const { username, password } = this.state;\n\n    const opts = {\n      endpoint: \"accounts\",\n      body: {\n        user: [\"_user/username\", username.toLowerCase()],\n        password: password,\n      },\n      noRedirect: true,\n    };\n\n    return flureeFetch(opts)\n      .then((response) => {\n        if (response.status >= 400) {\n          const errorMsg = get(\n            response,\n            [\"json\", \"message\"],\n            get(response, [\"message\"], \"Unknown error\")\n          );\n          this.setState({ loading: false, error: errorMsg });\n          return false;\n        }\n        let accounts = response.json || response;\n        return accounts;\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n        return false;\n      });\n  };\n\n  getToken = (account) => {\n    const { username, password } = this.state;\n    this.setState({ loading: true });\n\n    const opts = {\n      endpoint: \"signin\",\n      body: {\n        user: [\"_user/username\", username.toLowerCase()],\n        password: password,\n        account: account,\n        expireSeconds: 86400, // 1 day\n      },\n    };\n\n    return flureeFetch(opts)\n      .then((res) => {\n        let resp = res.json || res;\n        return resp.token;\n      })\n      .then((res) => {\n        localStorage.setItem(\"username\", hashCode(username));\n        localStorage.setItem(\"account\", account);\n        localStorage.setItem(\"token\", res);\n        this.props.authenticate(res, account);\n        // debugger;\n        // this.props.history.goBack();\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n      });\n  };\n\n  submitLogin = (e) => {\n    this.setState({ error: null, loading: true });\n\n    this.getAccounts()\n      .then((res) => {\n        // Tokens are tied to a particular user and a particular account\n        if (res === false) {\n          // An error should appear,\n        } else if (res.length === 1) {\n          // If a user only has one account, we attempt to fetch a token using that account\n          this.getToken(res[0][\"account/id\"]);\n        } else if (res.length === 0) {\n          this.setState({\n            error: \"There are no accounts associated with this user.\",\n            loading: false,\n          });\n        } else {\n          let accountArr = [];\n          // If multiple arrays, we let the user choose which account they want to log in with.\n          res.map((acc) => accountArr.push(get(acc, \"account/id\")));\n          this.setState({ accounts: accountArr, loading: false });\n        }\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"background-gradient\" style={{ height: \"100%\" }}>\n        <Navbar collapseOnSelect>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\">\n                <img\n                  src={require(\"../theme/assets/logo_name_white.png\")}\n                  height=\"30\"\n                  alt=\"Fluree logo\"\n                />\n              </Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n        </Navbar>\n        <div className=\"container\">\n          <div className=\"row\" style={{ marginTop: \"25vh\" }}>\n            <div className=\"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1\">\n              <div className=\"well well-lg\" style={{ color: \"#222\" }}>\n                <h1 style={{ marginBottom: 30 }}>Sign in</h1>\n                {this.props.message && (\n                  <Alert bsStyle=\"info\">{this.props.message}</Alert>\n                )}\n                <form\n                  className=\"form\"\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    if (!this.state.accounts) {\n                      this.submitLogin(e);\n                    }\n                  }}\n                >\n                  <FormGroup controlId=\"form-username\">\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                      type=\"text\"\n                      placeholder=\"Email\"\n                      value={this.state.username}\n                      autoFocus\n                      onChange={(e) =>\n                        this.setState({ username: e.target.value })\n                      }\n                    ></FormControl>\n                  </FormGroup>\n                  <FormGroup\n                    controlId=\"form-password\"\n                    style={{ marginBottom: 20 }}\n                  >\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.state.password}\n                      onChange={(e) =>\n                        this.setState({ password: e.target.value })\n                      }\n                    ></FormControl>\n                  </FormGroup>\n                  {this.state.error ? (\n                    <Alert\n                      bsStyle=\"danger\"\n                      onDismiss={() => this.setState({ error: null })}\n                    >\n                      <h4>Error</h4>\n                      <p>{this.state.error}</p>\n                    </Alert>\n                  ) : null}\n                  {this.state.accounts ? (\n                    <div>\n                      <p>\n                        Your email is associated with multiple accounts. Please\n                        select one below:\n                      </p>\n                      {this.state.accounts.map((acct) => (\n                        <Button onClick={() => this.getToken(acct)}>\n                          {acct}\n                        </Button>\n                      ))}\n                    </div>\n                  ) : (\n                    <Button\n                      type=\"submit\"\n                      bsStyle=\"primary\"\n                      disabled={this.state.loading}\n                      style={{ padding: \"9px 20px\" }}\n                    >\n                      {this.state.loading ? \"Signing in...\" : null}\n                      {!this.state.loading && !this.state.accounts\n                        ? \"Sign In\"\n                        : null}\n                    </Button>\n                  )}\n                </form>\n                <hr />\n                <div className=\"text-muted small prose\">\n                  {\"Forgot password? \"}\n                  <Link to=\"/reset\">\n                    Reset Password{\" \"}\n                    <i className=\"fas fa-arrow-right\" aria-hidden=\"true\"></i>\n                  </Link>\n                  <br />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n","import React, { Component } from \"react\";\nimport { flureeFetch } from \"../flureeFetch\";\nimport {\n  Form,\n  ControlLabel,\n  FormControl,\n  Button,\n  Modal,\n  Alert,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport { hashCode } from \"../screens/Signin\";\n\n\nfunction sleep(time) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nclass ArchiveDatabaseModal extends Component {\n  state = {\n    awsID: null,\n  };\n\n  archiveDatabase = () => {\n    this.setState({ loading: true });\n    const { db, account, token } = this.props._db;\n    const dbid = get(db, \"db/id\");\n\n    const selectedDB = localStorage.getItem(account.concat(\".database\"));\n\n    if (selectedDB === dbid) {\n      localStorage.removeItem(account.concat(\".database\"));\n    }\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: [\n        \"archive-database\",\n        {\n          dbname: dbid,\n          awsid: this.state.awsID,\n        },\n      ],\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props._db.refreshAccount();\n        this.props.archiveDatabaseModalToggle();\n      })\n      .catch((response) => {\n        let error =\n          response.message || response.error || JSON.stringify(response);\n        if (error.includes(\"Invalid id\")) {\n          error =\n            \"Invalid AWS Canonical User ID. If you are logged into your root user in AWS, you should be able to find the Canonical User ID in My Security Credentials > Account Identifiers.\";\n        }\n        this.setState({\n          error: error,\n          loading: false,\n        });\n      });\n  };\n\n  handleawsIDChange = (e) => {\n    const awsID = e.target ? e.target.value : e;\n    this.setState({ awsID: awsID });\n  };\n\n  render() {\n    const { archiveDatabaseModalToggle, _db } = this.props;\n    const dbid = get(_db.db, \"db/id\");\n\n    return (\n      <Modal show onHide={() => archiveDatabaseModalToggle()}> \n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"far fa-file-archive\" /> &nbsp; Archive Ledger:{\" \"}\n            {dbid}\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>What happens when you archive a ledger?</h3>\n          <br />\n          <ul>\n            <li>\n              You- and anyone else that has access to the ledger- will{\" \"}\n              <strong>no longer be able to access it</strong> via this\n              administrative interface.{\" \"}\n            </li>\n            <br />\n            <li>\n              The ledger will be stored as an{\" \"}\n              <strong>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\"\n                >\n                  Amazon S3 Bucket\n                </a>\n                .\n              </strong>\n              &nbsp;You will be able to find the link for your S3 bucket on this\n              page.\n            </li>\n            {/* <br/>\n                <li>You will also also have the <strong>option of completely deleting</strong> the archive via your S3 interface. </li> */}\n          </ul>\n          <hr />\n          <p>\n            In order to archive your ledger, please provide the Amazon Web\n            Services Canonical User ID that you want to be able to access the\n            archive.\n          </p>\n          <p>\n            Need help&nbsp;\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html#FindingCanonicalId\"\n            >\n              finding your canonical ID?\n            </a>\n          </p>\n          <br />\n          <Form>\n            <ControlLabel>AWS Canonical User ID</ControlLabel>\n            <FormControl\n              type=\"text\"\n              value={this.state.awsID}\n              placeholder=\"Enter your AWS Canonical User ID\"\n              onChange={this.handleawsIDChange}\n            />\n          </Form>\n          <br />\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"primary\"\n              onClick={() => this.archiveDatabase()}\n              disabled={this.state.loading}\n            >\n              Yes, I would like to{\" \"}\n              <span style={{ fontWeight: \"bolder\" }}>archive</span>: {dbid}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass DeleteDatabaseModal extends Component {\n  state = {\n    error: null,\n  };\n\n  deleteDatabase() {\n    this.setState({ loading: true });\n    const { dbName, account } = this.props;\n    const token = localStorage.getItem(\"token\");\n    const fullDbName = account.concat(\".\", dbName);\n    const selectedDB = localStorage.getItem(account.concat(\".database\"));\n    if (selectedDB === fullDbName) {\n      localStorage.removeItem(account.concat(\".database\"));\n    }\n\n    const opts = {\n      body: [\"delete-database\", { dbname: fullDbName }],\n      endpoint: \"action\",\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props.refreshAccount();\n        this.props.deleteDatabaseModalToggle();\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  }\n\n  render() {\n    const { dbName, deleteDatabaseModalToggle } = this.props;\n    return (\n      <Modal show onHide={() => deleteDatabaseModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"fas fa-cube\" /> &nbsp; Delete Ledger: {dbName}\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Are you sure you want to{\" \"}\n            <span\n              style={{\n                fontVariant: \"small-caps\",\n                color: \"#d61a3c\",\n                fontWeight: \"bolder\",\n                fontSize: \"150%\",\n              }}\n            >\n              delete\n            </span>{\" \"}\n            this ledger?\n          </h3>\n          <br />\n          <ul>\n            <li>\n              Deleting a ledger is <strong>permanent</strong>.\n            </li>\n            <br />\n            <li>\n              It will delete the ledger for your account,{\" \"}\n              <strong>as well as any other accounts</strong> that may have\n              access to this ledger.\n            </li>\n            <br />\n            <li>\n              If you would like the option of recovering your ledger at a\n              later point, please{\" \"}\n              <strong>archive your ledger instead.</strong>\n            </li>\n          </ul>\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.deleteDatabase()}\n            >\n              Yes, I would like to{\" \"}\n              <span\n                style={{\n                  fontVariant: \"small-caps\",\n                  fontWeight: \"bolder\",\n                  fontSize: \"150%\",\n                }}\n              >\n                permanently\n              </span>{\" \"}\n              delete: {dbName}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass DeleteArchiveModal extends Component {\n  state = {\n    error: null,\n  };\n\n  deleteArchive() {\n    this.setState({ loading: true });\n\n    const { dbName, account, dbsArchived } = this.props;\n    const token = localStorage.getItem(\"token\");\n    const fullDbName = account.concat(\".\", dbName);\n    const fullArchive = dbsArchived.filter(\n      (archive) => archive[\"db/name\"] === fullDbName\n    );\n    const archiveId = get(fullArchive, [0, \"db/archive\", \"_id\"]);\n    const archiveUrl = get(fullArchive, [0, \"db/archive\", \"archive/url\"]);\n    const bucket = archiveUrl.substring(\n      archiveUrl.indexOf(\"archive-fluree-\"),\n      archiveUrl.length - (dbName.length + 7 + account.length)\n    );\n\n    const action = [\n      \"delete-archive\",\n      {\n        archiveid: archiveId,\n        bucket: bucket,\n        dbname: fullDbName,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      body: action,\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props.deleteArchiveModalToggle();\n        this.props.refreshAccount();\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  }\n\n  render() {\n    const { account, dbName } = this.props;\n    const fullDbName = account.concat(\".\", dbName);\n\n    return (\n      <Modal show onHide={() => this.props.deleteArchiveModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"far fa-file-archive\" /> &nbsp; Delete Archive\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Are you sure you want to{\" \"}\n            <span\n              style={{\n                fontVariant: \"small-caps\",\n                color: \"#d61a3c\",\n                fontWeight: \"bolder\",\n                fontSize: \"150%\",\n              }}\n            >\n              delete\n            </span>{\" \"}\n            the archive for {fullDbName}?\n          </h3>\n          <br />\n          <ul>\n            <li>\n              Deleting an archive is <strong>permanent</strong>.\n            </li>\n            <br />\n            <li>\n              It will{\" \"}\n              <strong>\n                delete the archive and back-up files from the S3 bucket\n              </strong>{\" \"}\n              where they are stored.\n            </li>\n            <br />\n            <li>\n              Neither you nor anyone else will have access to the archive file,\n              unless you have previously saved it to your{\" \"}\n            </li>\n          </ul>\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.deleteArchive()}\n            >\n              Yes, I would like to{\" \"}\n              <span\n                style={{\n                  fontVariant: \"small-caps\",\n                  fontWeight: \"bolder\",\n                  fontSize: \"150%\",\n                }}\n              >\n                permanently\n              </span>{\" \"}\n              delete the archive for: {fullDbName}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass RemoveUserModal extends Component {\n  state = {\n    error: null,\n  };\n\n  refreshForm = () => {\n    this.setState({\n      error: null,\n      loading: false,\n    });\n  };\n\n  removeUser = () => {\n    const { username, removeUserModalToggle, getAccountInfo } = this.props;\n    const { account, token } = this.props._db;\n\n    this.setState({ loading: true });\n\n    const action = [\n      \"remove-user\",\n      {\n        username: username,\n        account: account,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: action,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n      \n        if (this.state.self) {\n          this.props.logout();\n        } else {\n          this.setState({ loading: false });\n          getAccountInfo();\n        }\n      })\n      .then(() => removeUserModalToggle())\n      .catch((response) => {\n      \n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  };\n\n  componentDidMount() {\n    const chosenUsernameHash = hashCode(this.props.username);\n    const loggedInUserHash = Number(localStorage.getItem(\"username\"));\n\n    if (chosenUsernameHash === loggedInUserHash) {\n      this.setState({ self: true });\n    } else {\n      this.setState({ self: false });\n    }\n  }\n\n  render() {\n    const { removeUserModalToggle, username, account } = this.props;\n\n    return (\n      <Modal show onHide={() => removeUserModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"fas fa-user-slash\" /> &nbsp; Remove User:{\" \"}\n            <strong className=\"text-primary\">{username}</strong> from Account:{\" \"}\n            <strong className=\"text-primary\">{account}</strong>\n            <hr />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Removing user&nbsp;\n            <strong className=\"text-primary\">{username}</strong> from\n            account:&nbsp;\n            <strong className=\"text-primary\">{account}</strong>.\n          </h3>\n          <br />\n          {this.state.self ? (\n            <Alert bsStyle=\"danger\">\n              <h3>You are logged in as {username}.</h3>\n              <br />\n              Removing yourself from this account will log you out and remove\n              your access from the ledgers associated with this account.\n            </Alert>\n          ) : (\n            <ul>\n              <li>\n                This user will not be able to view any of the ledgers\n                associated with this account.{\" \"}\n              </li>\n              <br />\n            </ul>\n          )}\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.removeUser()}\n            >\n              Remove User\n            </Button>\n          </div>\n          <br />\n          {this.state.error ? (\n            <Alert bsStyle=\"danger\" onDismiss={() => this.refreshForm()}>\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport {\n  ArchiveDatabaseModal,\n  DeleteDatabaseModal,\n  DeleteArchiveModal,\n  RemoveUserModal,\n};\n","import React, { Component, Fragment } from \"react\";\nimport { flureeFetch, gateway } from \"../flureeFetch\";\nimport { signRequest } from \"@fluree/crypto-utils\";\nimport {\n  Form,\n  FormGroup,\n  ControlLabel,\n  FormControl,\n  ListGroupItem,\n  Button,\n  Modal,\n  Alert,\n  HelpBlock,\n  MenuItem,\n  OverlayTrigger,\n  Tooltip,\n  DropdownButton,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\n\nimport Draggable from \"react-draggable\";\nimport { RemoveUserModal } from \"../components/DeleteAndArchive\";\n\nexport class NewDatabaseModal extends Component {\n  state = {\n    id: \"\",\n    error: null \n  };\n\n  refreshForm = () => {\n    this.setState({\n      id: \"\",\n      error: null,\n      loading: false,\n    });\n  };\n\n  getValidationState = () => {\n    let regex = /^[a-z][a-z0-9-]*\\/[a-z][a-z0-9-]*$/;\n    if (this.state.id.length > 0 && this.state.id.match(regex) !== null) {\n      return \"success\";\n    }\n    return \"warning\";\n  };\n\n  handleChange(key, e) {\n    let newState = {};\n    newState[key] = e.target.value;\n    this.setState(newState);\n  }\n\n  onGenerate = (e) => {\n    this.setState({ loading: true });\n    e.preventDefault();\n\n    let blockNumber =\n      this.state.blockNumber && Number(this.state.blockNumber) > 0\n        ? Number(this.state.blockNumber)\n        : null;\n\n    const tx = { \"db/id\": this.state.id };\n\n    const endpoint = \"new-db\";\n    const { ip, token } = this.props._db;\n    const opts = {\n      ip: ip,\n      endpoint: endpoint,\n      body: tx,\n      auth: token,\n    };\n\n    const refreshDbs = this.props._db.refreshDbs;\n\n    const request = () => {\n      flureeFetch(opts)\n        .then((response) => {\n          if (response.status === 200) {\n            refreshDbs(ip);\n            this.props.newDatabaseModalToggle();\n          } else {\n            this.setState({ error: response.message, loading: false });\n          }\n        })\n        .catch((response) => {\n          this.setState({\n            error:\n              response.json.message ||\n              response.error ||\n              JSON.stringify(response),\n            loading: false,\n          });\n        });\n    };\n    request();\n  };\n\n  render() {\n    const { newDatabaseModalToggle, _db } = this.props;\n\n    return (\n      <Draggable enableUserSelectHack={false}>\n        <Modal show onHide={() => newDatabaseModalToggle()}>\n          <Modal.Header closeButton>\n            <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n              <i className=\"fas fa-cube\" /> &nbsp; Create New Ledger\n              <hr style={{ marginBottom: \"0px\" }} />\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Fragment>\n              <p>\n                <b>Note:</b> A Ledger Id uniquely identifies a ledger within a\n                network. A Ledger Id begins with the network name (e.g myNetwork) followed by a\n                forward slash \"/\" and the Ledger name (e.g myLedger).\n                <br></br>\n              </p>\n              <p>\n                <em>\n                  <b>A Ledger Id example:</b> myNetwork/myLedger\n                </em>\n              </p>\n              <Form onSubmit={this.onGenerate.bind(this)}>\n                <ControlLabel style={{ margin: \"20px 0\" }}>\n                  Ledger Id\n                </ControlLabel>\n                <FormGroup\n                  controlId=\"formBasicText\"\n                  validationState={this.getValidationState()}\n                >\n                  <span>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.id}\n                      placeholder=\"Begin ledger id\"\n                      onChange={(e) => this.handleChange(\"id\", e)}\n                    />\n                  </span>\n                </FormGroup>\n                <FormGroup className=\"text-right\">\n                  <Button\n                    className=\"fluree-rounded-button\"\n                    type=\"submit\"\n                    disabled={\n                      this.getValidationState() === \"warning\" ||\n                      this.state.loading\n                    }\n                  >\n                    Create\n                  </Button>\n                </FormGroup>\n                {this.state.error ? (\n                  <Alert\n                    bsStyle=\"danger\"\n                    onDismiss={() => this.setState({ error: null })}\n                  >\n                    <h4>Error</h4>\n                    <p>{this.state.error}</p>\n                  </Alert>\n                ) : null}\n              </Form>\n            </Fragment>\n          </Modal.Body>\n        </Modal>\n      </Draggable>\n    );\n  }\n}\n\nclass NewUserModal extends Component {\n  state = {\n    username: \"\",\n    error: null,\n  };\n\n  refreshForm = () => {\n    this.setState({\n      username: \"\",\n      error: null,\n      loading: false,\n    });\n  };\n\n  getValidationState() {\n    const { username } = this.state;\n    const emailRegex = /^[\\w-+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$/;\n    if (username.length < 1) return \"success\";\n    else if (!emailRegex.test(username)) return \"error\";\n    else return \"success\";\n  }\n\n  handleChange(e) {\n    this.setState({ username: e.target.value });\n  }\n\n  onGenerate = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    const { account, token } = this.props._db;\n    const { newUserModalToggle, getAccountInfo } = this.props;\n\n    const action = [\n      \"new-user\",\n      {\n        username: this.state.username.toLowerCase(),\n        account: account,\n        sendEmail: true,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: action,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        if (response.status === 200) {\n          this.setState({ username: \"\", loading: false });\n          getAccountInfo();\n          newUserModalToggle();\n        } else {\n          this.setState({ error: response.message, loading: false });\n        }\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n          dbName: this.props.account + \".\",\n        });\n      });\n  };\n\n  render() {\n    const { newUserModalToggle } = this.props;\n\n    return (\n      <Draggable enableUserSelectHack={false}>\n        <Modal show onHide={() => newUserModalToggle()}>\n          <Modal.Header closeButton>\n            <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n              <i className=\"fas fa-user\" /> &nbsp; Add User to Account\n              <hr />\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={this.onGenerate.bind(this)}>\n              <ControlLabel className=\"mt20 mb20\">\n                User Email Address\n              </ControlLabel>\n              <FormGroup\n                controlId=\"formBasicText\"\n                validationState={this.getValidationState()}\n              >\n                <FormControl\n                  onMouseDown={(e) => {\n                    e.stopPropagation();\n                  }}\n                  type=\"text\"\n                  value={this.state.username}\n                  placeholder=\"Enter email address for new user\"\n                  onChange={this.handleChange.bind(this)}\n                  autoFocus\n                />\n                <FormControl.Feedback />\n              </FormGroup>\n              <p>User will receive an email explaining next steps.</p>\n              <FormGroup className=\"text-right\">\n                <Button\n                  bsStyle=\"primary\"\n                  type=\"submit\"\n                  disabled={\n                    this.getValidationState() === \"error\" || this.state.loading\n                  }\n                >\n                  Create\n                </Button>\n              </FormGroup>\n              {this.state.error ? (\n                <Alert bsStyle=\"danger\" onDismiss={() => this.refreshForm()}>\n                  <h4>Error</h4>\n                  <p>{this.state.error}</p>\n                </Alert>\n              ) : null}\n            </Form>\n          </Modal.Body>\n        </Modal>\n      </Draggable>\n    );\n  }\n}\n\nexport class ConfirmDatabaseDeletionModal extends Component {\n  state = {\n    confirmDeletion: \"\",\n    confirmDeletionAuthIDAndPrivateKey: null,\n    error: null,\n    confirmDeletionAuthID: null,\n    confirmDeletionPrivateKey: null,\n  };\n\n  deleteDB = (e, db, ip) => {\n    const { openApiServer, displayError } = this.props._db;\n    e.preventDefault();\n    let opts;\n    const tx = {\n      \"db/id\": db,\n    };\n\n    const endpoint = \"delete-db\";\n    const refreshDbs = this.props._db.refreshDbs;\n    const request = (options) => {\n      flureeFetch(options)\n        .then((response) => {\n          if (response.status === 200) {\n            refreshDbs(ip);\n          } else {\n            this.setState({ error: response.message, loading: false });\n            displayError(response.message);\n          }\n        })\n        .catch((response) => {\n          let result = response.json || response;\n          let errorMessage =\n            result.message || result.error || JSON.stringify(response);\n          this.setState({\n            error: errorMessage,\n            loading: false,\n          });\n          displayError(errorMessage);\n        });\n    };\n    if (openApiServer) {\n      opts = {\n        ip: ip,\n        endpoint: endpoint,\n        body: tx,\n        auth: this.props.token,\n      };\n    } else {\n      let authId = this.state.confirmDeletionAuthID;\n      let privateKey = this.state.confirmDeletionPrivateKey;\n\n      const baseUri = gateway(ip) || \"\";\n      const { headers, body } = signRequest(\n        \"POST\",\n        `${baseUri}/fdb/delete-db`,\n        JSON.stringify({ \"db/id\": db, auth: authId }),\n        privateKey,\n        authId\n      );\n\n      opts = {\n        ip: ip,\n        endpoint: endpoint,\n        body: JSON.parse(body),\n        headers: headers,\n        auth: this.props.token,\n        noRedirect: true,\n      };\n    }\n\n    const { confirmDatabaseDeletionModalToggle } = this.props;\n    request(opts);\n    confirmDatabaseDeletionModalToggle();\n  };\n\n  handleChangeForConfirmDeleteTextbox = (e) => {\n    this.setState({\n      confirmDeletion: e.target.value,\n    });\n  };\n  handleChangeForConfirmPrivateKeyTextbox = (e) => {\n    this.setState({\n      confirmDeletionPrivateKey: e.target.value,\n    });\n  };\n  handleChangeForConfirmAuthIDTextbox = (e) => {\n    this.setState({\n      confirmDeletionAuthID: e.target.value,\n    });\n  };\n  getValidationState = () => {\n    const { openApiServer } = this.props._db;\n    if (!openApiServer) {\n      if (\n        this.state.confirmDeletionAuthID &&\n        this.state.confirmDeletionPrivateKey\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      if (this.state.confirmDeletion === \"confirm\") {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  };\n  render() {\n    const { confirmDatabaseDeletionModalToggle, db, ip } = this.props;\n    const { openApiServer } = this.props._db;\n    console.log(\"openApiServer\", openApiServer)\n    console.log(this.props._db);\n    return (\n      <Fragment>\n        <Draggable enableUserSelectHack={false}>\n          {/* <Button variant=\"primary\" onClick={handleShow}>\n\t\t\t\tLaunch demo modal\n\t\t\t</Button> */}\n\n          <Modal show onHide={() => confirmDatabaseDeletionModalToggle()}>\n            <Modal.Header closeButton>\n              <Modal.Title>\n                Are you sure you want to DELETE this ledger?{\" \"}\n              </Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={(e) => this.deleteDB(e, db, ip)}>\n              {openApiServer && (\n                <Modal.Body>\n                  <p>Please, enter \"confirm\" to DELETE ledger.</p>\n                  <FormGroup>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletion} \n                      placeholder=\"Enter 'confirm' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmDeleteTextbox(e)\n                      }\n                      autoFocus\n                    />\n                  </FormGroup>\n                </Modal.Body>\n              )}\n              {!openApiServer && (\n                <Modal.Body>\n                  <p>\n                    Server Open-Api status is currently set to <i>'false'</i>.\n                    Please provide an <b>AuthID</b> and <b>Private Key</b> to{\" \"}\n                    <span style={{ color: \"red\" }}>DELETE</span> ledger.\n                  </p>\n\n                  <FormGroup>\n                    <p>AuthID</p>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletionAuthID}\n                      placeholder=\"Enter 'AuthID' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmAuthIDTextbox(e)\n                      }\n                      autoFocus\n                    />\n                    <br></br>\n                    <p>Private Key</p>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletionPrivateKey}\n                      placeholder=\"Enter 'Private Key' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmPrivateKeyTextbox(e)\n                      }\n                      autoFocus\n                    />\n                  </FormGroup>\n                </Modal.Body>\n              )}\n\n              <Modal.Footer>\n                <Button\n                  style={{ borderRadius: \"32px\" }}\n                  bsStyle=\"danger\"\n                  type=\"submit\"\n                  disabled={this.getValidationState()}\n                >\n                  DELETE\n                </Button>\n              </Modal.Footer>\n              {this.state.error ? (\n                <Alert\n                  style={{ margin: \"0 10px 10px\" }}\n                  bsStyle=\"danger\"\n                  onDismiss={() => this.setState({ error: null })}\n                >\n                  <h4>Error</h4>\n                  <p>{this.state.error}</p>\n                </Alert>\n              ) : null}\n            </Form>\n          </Modal>\n        </Draggable>\n      </Fragment>\n    );\n  }\n}\n\n\nexport class Database extends Component {\n  state = {\n    loading: false,\n    error: null,\n    confirmDatabaseDeletionModal: false,\n  };\n\n  confirmDatabaseDeletionModalToggle = () => {\n    this.setState({\n      confirmDatabaseDeletionModal: !this.state.confirmDatabaseDeletionModal,\n    });\n  };\n\n  render() {\n    const { db, ip, _db, block, size, flakes } = this.props;\n\n    const idShort = db.length > 60 ? db.substring(0, 40).concat(\"...\") : db;\n\n    return (\n      <Fragment>\n        {this.state.confirmDatabaseDeletionModal === true ? (\n          <ConfirmDatabaseDeletionModal\n            confirmDatabaseDeletionModalToggle={\n              this.confirmDatabaseDeletionModalToggle\n            }\n            db={db}\n            ip={ip}\n            _db={_db}\n          />\n        ) : null}\n\n        <tr key={db}>\n          <td style={{ textAlign: \"left\" }}>\n            {/* &nbsp; */}\n            <span style={{ display: \"flex\", direction: \"row\" }}>\n              <span>{idShort}</span>\n                <span\n                  class=\"snap-shot-delete-wrapper\"\n                  style={{ marginLeft: \"auto\" }}\n                >\n                  <span\n                    style={{\n                      padding: \"4px 10px\",\n                      cursor: \"pointer\",\n                      borderRadius: \"32px\",\n                      marginLeft: \"10px\",\n                    }}\n                    className=\"danger\"\n                    onClick={() => this.confirmDatabaseDeletionModalToggle()}\n                  >\n                    <i\n                      className=\"fas fa-trash hidden-xs\"\n                      aria-hidden=\"true\"\n                      style={{ padding: \"5px\" }}\n                    ></i>\n                  </span>{\" \"}\n                </span>\n            </span>\n          </td>\n\n          <td>{block}</td>\n          <td>{(parseInt(size) / 1024).toFixed(2)}</td>\n          <td>{flakes}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nexport class ArchivedDatabase extends Component {\n  viewURL = (link) => {\n    if (link) {\n      window.open(link, \"_blank\");\n    } else {\n      this.props._db.setGlobalProps(\"error\", {\n        error: \"No URL Found\",\n        message:\n          \"No URL found for this ledger archive. Please contact support@flur.ee for additional assistance.\",\n      });\n    }\n  };\n\n  viewArchive = (url, name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"viewArchive\")}\n        value={name.concat(\"viewArchive\")}\n        onClick={() => this.viewURL(url)}\n      >\n        <i className=\"far fa-file-archive\" />\n        &nbsp;&nbsp;View Archive\n      </MenuItem>\n    );\n  };\n\n  deleteArchive = (name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"deleteArchive\")}\n        value={name.concat(\"deleteArchive\")}\n        onClick={() => this.props.deleteArchiveModalToggle(name)}\n      >\n        <i className=\"far fa-trash-alt\" />\n        &nbsp;&nbsp;Delete Archive\n      </MenuItem>\n    );\n  };\n\n  viewBackups = (backup, name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"backup-view\")}\n        value={name.concat(\"backup-view\")}\n        onClick={() => this.viewURL(backup)}\n      >\n        <i className=\"fas fa-eye\" />\n        &nbsp;&nbsp;View Back-ups\n      </MenuItem>\n    );\n  };\n\n  dropdown = (url, backup, name) => {\n    if (url === \"deleted\") {\n      return (\n        <DropdownButton disabled title=\"Archive Deleted\">\n          {\" \"}\n        </DropdownButton>\n      );\n    } else if (backup) {\n      return (\n        <DropdownButton title=\"Options\" id=\"Archive Options\">\n          {this.viewArchive(url, name)}\n          {this.viewBackups(backup, name)}\n          {this.deleteArchive(name)}\n        </DropdownButton>\n      );\n    } else {\n      return (\n        <DropdownButton title=\"Options\" id=\"Archive Options\">\n          {this.viewArchive(url, name)}\n          {this.deleteArchive(name)}\n        </DropdownButton>\n      );\n    }\n  };\n\n  render() {\n    const { name, url, backup } = this.props;\n    return (\n      <ListGroupItem>\n        <div className=\"row\">\n          <div className=\"col-xs-6\" style={{ lineHeight: \"40px\" }}>\n            <i\n              className=\"far fa-file-archive hidden-xs\"\n              aria-hidden=\"true\"\n              style={{ paddingRight: \"5px\" }}\n            ></i>\n            &nbsp;\n            <h3 style={{ display: \"inline\" }}>{name}</h3>\n          </div>\n          <div className=\"col-xs-6\">{this.dropdown(url, backup, name)}</div>\n        </div>\n      </ListGroupItem>\n    );\n  }\n}\n\nexport class Users extends Component {\n  render() {\n    const { username, removeUserModalToggle } = this.props;\n    const usernameShort =\n      username.length > 18 ? username.substring(0, 15).concat(\"...\") : username;\n    return (\n      <ListGroupItem key={username}>\n        <div className=\"row\">\n          <div className=\"col-xs-7\" style={{ lineHeight: \"40px\" }}>\n            <i\n              className=\"fas fa-user hidden-sm\"\n              aria-hidden=\"true\"\n              style={{ paddingRight: \"5px\" }}\n            ></i>\n            &nbsp;\n            {usernameShort.length !== username.length ? (\n              <OverlayTrigger\n                key={username}\n                placement=\"top\"\n                overlay={<Tooltip key={username}>{username}</Tooltip>}\n              >\n                <h3 style={{ display: \"inline\" }}>{usernameShort}</h3>\n              </OverlayTrigger>\n            ) : (\n              <h3 style={{ display: \"inline\" }}>{usernameShort}</h3>\n            )}\n          </div>\n          <div className=\"pull-right\" style={{ marginRight: \"10px\" }}>\n            <Button\n              key={username}\n              value={username}\n              onClick={() => removeUserModalToggle(username)}\n            >\n              <i className=\"fas fa-user-slash\" />\n              &nbsp;&nbsp;Remove\n            </Button>\n          </div>\n        </div>\n      </ListGroupItem>\n    );\n  }\n}\n\nexport class PanelStat extends Component {\n  render() {\n    const { switchType, type } = this.props;\n    return (\n      <div\n        className=\"panel-stat\"\n        onClick={switchType ? () => switchType(type) : null}\n        style={{\n          cursor: switchType ? \"pointer\" : \"default\",\n          borderRadius: \"7px\",\n        }}\n      >\n        <div className=\"panel-stat-left\">\n          <i\n            style={{\n              padding:\n                this.props.iconClass === \"fas fa-tag bg-success\"\n                  ? \"25px\"\n                  : null,\n              borderRadius: \"7px 0 0 7px\",\n            }}\n            className={this.props.iconClass}\n          />\n        </div>\n        <div className=\"panel-stat-right\">\n          <div className=\"stat\">{this.props.stat}</div>\n          <div className=\"stat-text\">{this.props.statText}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass AccountInfo extends Component {\n  state = {\n    newDatabaseModal: false,\n    dataBasesWithInfo: [],\n    isLoadingDatabaseInfo: true,\n    configModal: false,\n    confirmDatabaseDeletionModal: false,\n    checkDbs: this.props._db,\n    dbsLength: this.props._db.dbs.length,\n    databaseHeader: [\"Ledger\", \"Current Block\", \"Size(Kb)\", \"Flakes\"],\n  };\n  componentDidMount() {\n    this.loadDatabaseInfo();\n\n    const { _db } = this.props;\n\n    let nwStateIp = _db.ip;\n    let nwStateParams = {\n      endpoint: \"nw-state\",\n      ip: nwStateIp,\n      noRedirect: true,\n    };\n\n    flureeFetch(nwStateParams)\n      .then((response) => {\n        let statusCheck = this.getOpenApiServerStatus();\n        if (statusCheck === undefined) {\n          this.setOpenApiServerStatus(response.json[\"open-api\"]);\n          this.setState({\n            openApiServer: response.json[\"open-api\"],\n          });\n        } else {\n          let openApiServerStatusShow = this.getOpenApiServerStatus();\n          this.setState({\n            openApiServer: response.json[\"open-api\"],\n            showServerOpenApiAlert: openApiServerStatusShow,\n          });\n        }\n      })\n      .catch((error) => {\n        this.displayError(error);\n      });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //used to ensure re-render on deletion or creation of db\n    if (prevState.dbsLength !== this.state.dbsLength) {\n      this.loadDatabaseInfo();\n    }\n  }\n\n\n  displayError(error) {\n    this.setState({ error: error });\n  }\n  loadDatabaseInfo() {\n    let databaseInfoRequests = [];\n    const { ip, token, dbs } = this.props._db;\n\n    let fullDatabases = dbs.map((db) => [...db.split(\"/\"), db]);\n    fullDatabases.forEach((fullDb) => {\n      const optsForLedgerStats = {\n        endpoint: \"ledger-stats\",\n        ip: ip,\n        network: fullDb[0],\n        db: fullDb[1],\n        auth: token,\n      };\n      databaseInfoRequests.push(\n        this.getDatabasesInfo(optsForLedgerStats, fullDb[2])\n      );\n    });\n\n    Promise.all(databaseInfoRequests)\n      .then((res) => {\n        this.setState({\n          dataBasesWithInfo: [...res],\n          isLoadingDatabaseInfo: false,\n        });\n      })\n      .catch((error) => {\n        if (error.status === 401) {\n          this.props._db.displayConfig();\n        } else {\n          this.setState({\n            error: JSON.stringify(error),\n            isLoadingDatabaseInfo: false,\n            loading: false,\n          });\n        }\n      });\n  }\n\n  getDatabasesInfo(optsForLedgerStats, databaseName) {\n    return new Promise((resolve, reject) => {\n      flureeFetch(optsForLedgerStats)\n        .then((response) => {\n          if (response.json && response.json.data) {\n            let res = response.json.data;\n            resolve({ ...res, databaseName });\n          } else {\n            let result = {\n              msg: response.message ? response.message : response,\n            };\n            resolve({ ...result, databaseName });\n          }\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  setOpenApiServerStatus = (openApiServerStatus) => {\n    const config = {\n      openApiServerStatusShow: openApiServerStatus ? false : true,\n    };\n    localStorage.setItem(\"openApiServerConfig\", JSON.stringify(config));\n  };\n\n  getOpenApiServerStatus = () => {\n    let config = localStorage.getItem(\"openApiServerConfig\");\n    config = JSON.parse(config);\n\n    let openApiServerStatusShow = get(config, \"openApiServerStatusShow\");\n\n    return openApiServerStatusShow;\n  };\n  static getDerivedStateFromProps(nextProps, prevState) {\n    //used to ensure re-render on deletion or creation of db\n    if (nextProps._db !== prevState.checkDbs) {\n      return { dbsLength: nextProps._db.dbs.length };\n    } else return null;\n  }\n\n  sortBy(array, attrName) {\n    array.sort((a, b) => {\n      let nameA = get(a, attrName, \"z\").toUpperCase();\n      let nameB = get(b, attrName, \"z\").toUpperCase();\n      return nameA < nameB ? -1 : nameA > nameB ? 1 : 0;\n    });\n\n    return array;\n  }\n\n  archiveDatabaseModalToggle(dbName) {\n    this.setState({\n      archiveDatabaseModal: !this.state.archiveDatabaseModal,\n      dbName: dbName,\n    });\n  }\n\n  backupDatabaseModalToggle(dbName) {\n    this.setState({\n      backupDatabaseModal: !this.state.backupDatabaseModal,\n      dbName: dbName,\n    });\n  }\n\n  newDatabaseModalToggle = () => {\n    this.setState({ newDatabaseModal: !this.state.newDatabaseModal });\n    this.forceUpdate();\n  };\n\n  newUserModalToggle = () => {\n    this.setState({ newUserModal: !this.state.newUserModal });\n  };\n\n  removeUserModalToggle(username) {\n    this.setState({\n      removeUserModal: !this.state.removeUserModal,\n      username: username,\n    });\n  }\n\n  renderTableHeader = (arrayOfHeadings) => {\n    return arrayOfHeadings.map((header) => {\n      switch (header) {\n        case \"Ledger\":\n          return (\n            <th style={{ textAlign: \"left\" }}>\n              <span>\n                <i\n                  className=\"fas fa-database hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n              <span></span>\n            </th>\n          );\n        case \"Current Block\":\n          return (\n            <th style={{ textAlign: \"center\" }}>\n              <span>\n                <i\n                  className=\"fas fa-cube hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n            </th>\n          );\n\n        case \"Size(Kb)\":\n          return <th style={{ textAlign: \"center\" }}>{header}</th>;\n        case \"Flakes\":\n          return (\n            <th style={{ textAlign: \"center\" }}>\n              <span>\n                <i\n                  className=\"fas fa-snowflake hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n            </th>\n          );\n      }\n    });\n  };\n\n  render() {\n    const _db = this.props._db;\n    const { account, dbs, ip, token } = this.props._db;\n\n    const { maxDbs, maxUsers, users } = this.state;\n    const dataBasesText = dbs.length === 1 ? \"LEDGER\" : \"LEDGERS\";\n    const numOfDatabases = dbs.length;\n\n    if (!dbs) {\n      return <div className=\"loading1\"> Loading... </div>;\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: \"40px\",\n          marginTop: \"40px\",\n          height: \"100%\",\n          width: \"100%\",\n        }}\n      >\n        {this.state.newDatabaseModal === true ? (\n          <NewDatabaseModal\n            _db={_db}\n            newDatabaseModalToggle={this.newDatabaseModalToggle}\n            openApiServerStatus={this.state.openApiServer}\n          />\n        ) : null}\n        {this.state.newUserModal === true ? (\n          <NewUserModal\n            {...this.props}\n            _db={_db}\n            newUserModalToggle={this.newUserModalToggle}\n            getAccountInfo={this.getAccountInfo.bind(this)}\n          />\n        ) : null}\n\n        {this.state.removeUserModal === true ? (\n          <RemoveUserModal\n            {...this.props}\n            _db={_db}\n            account={account}\n            username={this.state.username}\n            history={this.props.history}\n            removeUserModalToggle={this.removeUserModalToggle.bind(this)}\n            getAccountInfo={this.getAccountInfo.bind(this)}\n          />\n        ) : null}\n\n        <div className=\"row\">\n          <h3\n            style={{\n              alignItems: \"center\",\n              marginBottom: \"7px\",\n            }}\n          >\n            <span style={{ color: \"#091133\" }}>\n              {`${dataBasesText} (${numOfDatabases})`}\n            </span>\n          </h3>\n\n          <div>\n            {this.state.isLoadingDatabaseInfo ? (\n              \"Loading....\"\n            ) : (\n              <div\n                id=\"scroll-div-container\"\n                className=\"table-container network-page-table-container\"\n                style={{\n                  maxHeight: \"585px\",\n                }}\n              >\n                <table\n                  className=\"block-table block-table-stripes\"\n                  ref=\"scrollContent\"\n                  striped\n                  bordered\n                  hover\n                  size=\"sm\"\n                >\n                  <thead style={{ padding: \"15px\" }}>\n                    {this.renderTableHeader(this.state.databaseHeader)}\n                  </thead>\n                  <tbody>\n                    {this.state.dataBasesWithInfo.map((dataBaseInfo) => (\n                      <Database\n                        key={dataBaseInfo.databaseName}\n                        db={dataBaseInfo.databaseName}\n                        block={dataBaseInfo.block}\n                        size={dataBaseInfo.size}\n                        flakes={dataBaseInfo.flakes}\n                        dbLength={dbs.length}\n                        ip={ip}\n                        token={token}\n                        _db={_db}\n                        msg={dataBaseInfo.msg}\n                        newDatabaseModalToggle={this.newDatabaseModalToggle}\n                        openApiServerStatus={this.state.openApiServer}\n                      />\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n            <div style={{ textAlign: \"center\", marginTop: \"7px\" }}>\n              <Button\n                className=\"fluree-rounded-button\"\n                id=\"new-database-button\"\n                onClick={this.newDatabaseModalToggle}\n              >\n                <i className=\"fas fa-plus\" /> &nbsp;Add Ledger\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AccountInfo;\n","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { bsClass, getClassSet, splitBsProps } from './utils/bootstrapUtils';\n\nvar InputGroupAddon =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputGroupAddon, _React$Component);\n\n  function InputGroupAddon() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = InputGroupAddon.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"className\"]);\n\n    var _splitBsProps = splitBsProps(props),\n        bsProps = _splitBsProps[0],\n        elementProps = _splitBsProps[1];\n\n    var classes = getClassSet(bsProps);\n    return React.createElement(\"span\", _extends({}, elementProps, {\n      className: classNames(className, classes)\n    }));\n  };\n\n  return InputGroupAddon;\n}(React.Component);\n\nexport default bsClass('input-group-addon', InputGroupAddon);","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { bsClass, getClassSet, splitBsProps } from './utils/bootstrapUtils';\n\nvar InputGroupButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputGroupButton, _React$Component);\n\n  function InputGroupButton() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = InputGroupButton.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"className\"]);\n\n    var _splitBsProps = splitBsProps(props),\n        bsProps = _splitBsProps[0],\n        elementProps = _splitBsProps[1];\n\n    var classes = getClassSet(bsProps);\n    return React.createElement(\"span\", _extends({}, elementProps, {\n      className: classNames(className, classes)\n    }));\n  };\n\n  return InputGroupButton;\n}(React.Component);\n\nexport default bsClass('input-group-btn', InputGroupButton);","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport InputGroupAddon from './InputGroupAddon';\nimport InputGroupButton from './InputGroupButton';\nimport { bsClass, bsSizes, getClassSet, splitBsProps } from './utils/bootstrapUtils';\nimport { Size } from './utils/StyleConfig';\n\nvar InputGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputGroup, _React$Component);\n\n  function InputGroup() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = InputGroup.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"className\"]);\n\n    var _splitBsProps = splitBsProps(props),\n        bsProps = _splitBsProps[0],\n        elementProps = _splitBsProps[1];\n\n    var classes = getClassSet(bsProps);\n    return React.createElement(\"span\", _extends({}, elementProps, {\n      className: classNames(className, classes)\n    }));\n  };\n\n  return InputGroup;\n}(React.Component);\n\nInputGroup.Addon = InputGroupAddon;\nInputGroup.Button = InputGroupButton;\nexport default bsClass('input-group', bsSizes([Size.LARGE, Size.SMALL], InputGroup));","import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Button from './Button';\nvar propTypes = {\n  /**\n   * The `<input>` `type`\n   * @type {[type]}\n   */\n  type: PropTypes.oneOf(['checkbox', 'radio']),\n\n  /**\n   * The HTML input name, used to group like checkboxes or radio buttons together\n   * semantically\n   */\n  name: PropTypes.string,\n\n  /**\n   * The checked state of the input, managed by `<ToggleButtonGroup>`` automatically\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The disabled state of both the label and input\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * [onChange description]\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The value of the input, and unique identifier in the ToggleButtonGroup\n   */\n  value: PropTypes.any.isRequired\n};\n\nvar ToggleButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ToggleButton, _React$Component);\n\n  function ToggleButton() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ToggleButton.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        name = _this$props.name,\n        checked = _this$props.checked,\n        type = _this$props.type,\n        onChange = _this$props.onChange,\n        value = _this$props.value,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"name\", \"checked\", \"type\", \"onChange\", \"value\"]);\n\n    var disabled = props.disabled;\n    return React.createElement(Button, _extends({}, props, {\n      active: !!checked,\n      componentClass: \"label\"\n    }), React.createElement(\"input\", {\n      name: name,\n      type: type,\n      autoComplete: \"off\",\n      value: value,\n      checked: !!checked,\n      disabled: !!disabled,\n      onChange: onChange\n    }), children);\n  };\n\n  return ToggleButton;\n}(React.Component);\n\nToggleButton.propTypes = propTypes;\nexport default ToggleButton;"],"sourceRoot":""}