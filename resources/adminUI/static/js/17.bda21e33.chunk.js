(this["webpackJsonpfluree-admin-ui"]=this["webpackJsonpfluree-admin-ui"]||[]).push([[17],{512:function(e,t){},513:function(e,t){},515:function(e,t){},516:function(e,t){},518:function(e,t){},519:function(e,t){},520:function(e,t){},521:function(e,t){},522:function(e,t){},523:function(e,t){},524:function(e,t){},525:function(e,t){},526:function(e,t){},527:function(e,t){},531:function(e,t,a){"use strict";a.r(t),t.default="data:image/png;base64,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"},572:function(e,t,a){"use strict";a.r(t),a.d(t,"NewDatabaseModal",(function(){return C})),a.d(t,"ConfirmDatabaseDeletionModal",(function(){return I})),a.d(t,"Database",(function(){return U})),a.d(t,"ArchivedDatabase",(function(){return J})),a.d(t,"Users",(function(){return E})),a.d(t,"PanelStat",(function(){return Z}));var n=a(63),s=a(78),r=a(31),i=a(32),c=a(46),o=a(45),l=a(4),d=a(0),u=a.n(d),h=a(93),b=a(484),j=a(466),p=a(462),f=a(464),g=a(463),O=a(467),m=a(132),x=a(812),v=a(460),A=a(461),y=a(550),S=a(1041),D=a(1033),w=a(109),k=a.n(w),M=a(542),N=a.n(M),z=a(94),B=a(465);function L(e){var t=0;if(0===e.length)return t;for(var a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return t}u.a.Component;function T(e){return new Promise((function(t){return setTimeout(t,e)}))}d.Component,d.Component,d.Component;var R=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={error:null},e.refreshForm=function(){e.setState({error:null,loading:!1})},e.removeUser=function(){var t=e.props,a=t.username,n=t.removeUserModalToggle,s=t.getAccountInfo,r=e.props._db,i=r.account,c=r.token;e.setState({loading:!0});var o={endpoint:"action",auth:c,body:["remove-user",{username:a,account:i}]};Object(h.a)(o).then((function(e){return T(300)})).then((function(t){e.state.self?e.props.logout():(e.setState({loading:!1}),s())})).then((function(){return n()})).catch((function(t){e.setState({error:t.message||t.error||JSON.stringify(t),loading:!1})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){L(this.props.username)===Number(localStorage.getItem("username"))?this.setState({self:!0}):this.setState({self:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.removeUserModalToggle,n=t.username,s=t.account;return Object(l.jsxs)(j.a,{show:!0,onHide:function(){return a()},children:[Object(l.jsx)(j.a.Header,{closeButton:!0,children:Object(l.jsxs)(j.a.Title,{style:{fontSize:"20px",fontWeight:"lighter"},children:[Object(l.jsx)("i",{className:"fas fa-user-slash"})," \xa0 Remove User:"," ",Object(l.jsx)("strong",{className:"text-primary",children:n})," from Account:"," ",Object(l.jsx)("strong",{className:"text-primary",children:s}),Object(l.jsx)("hr",{})]})}),Object(l.jsxs)(j.a.Body,{children:[Object(l.jsxs)("h3",{children:["Removing user\xa0",Object(l.jsx)("strong",{className:"text-primary",children:n})," from account:\xa0",Object(l.jsx)("strong",{className:"text-primary",children:s}),"."]}),Object(l.jsx)("br",{}),this.state.self?Object(l.jsxs)(x.a,{bsStyle:"danger",children:[Object(l.jsxs)("h3",{children:["You are logged in as ",n,"."]}),Object(l.jsx)("br",{}),"Removing yourself from this account will log you out and remove your access from the ledgers associated with this account."]}):Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["This user will not be able to view any of the ledgers associated with this account."," "]}),Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)(m.a,{bsStyle:"danger",disabled:this.state.loading,onClick:function(){return e.removeUser()},children:"Remove User"})}),Object(l.jsx)("br",{}),this.state.error?Object(l.jsxs)(x.a,{bsStyle:"danger",onDismiss:function(){return e.refreshForm()},children:[Object(l.jsx)("h4",{children:"Error"}),Object(l.jsx)("p",{children:this.state.error})]}):null]})]})}}]),a}(d.Component),C=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={id:"",error:null},e.refreshForm=function(){e.setState({id:"",error:null,loading:!1})},e.getValidationState=function(){return e.state.id.length>0&&null!==e.state.id.match(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/)?"success":"warning"},e.onGenerate=function(t){e.setState({loading:!0}),t.preventDefault();e.state.blockNumber&&Number(e.state.blockNumber)>0&&Number(e.state.blockNumber);var a={"db/id":e.state.id},n=e.props._db,s=n.ip,r=n.token,i={ip:s,endpoint:"new-db",body:a,auth:r},c=e.props._db.refreshDbs;Object(h.a)(i).then((function(t){200===t.status?(c(s),e.props.newDatabaseModalToggle()):e.setState({error:t.message,loading:!1})})).catch((function(t){e.setState({error:t.json.message||t.error||JSON.stringify(t),loading:!1})}))},e}return Object(i.a)(a,[{key:"handleChange",value:function(e,t){var a={};a[e]=t.target.value,this.setState(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.newDatabaseModalToggle;t._db;return Object(l.jsx)(N.a,{enableUserSelectHack:!1,children:Object(l.jsxs)(j.a,{show:!0,onHide:function(){return a()},children:[Object(l.jsx)(j.a.Header,{closeButton:!0,children:Object(l.jsxs)(j.a.Title,{style:{fontSize:"20px",fontWeight:"lighter"},children:[Object(l.jsx)("i",{className:"fas fa-cube"})," \xa0 Create New Ledger",Object(l.jsx)("hr",{style:{marginBottom:"0px"}})]})}),Object(l.jsx)(j.a.Body,{children:Object(l.jsxs)(d.Fragment,{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Note:"}),' A Ledger Id uniquely identifies a ledger within a network. A Ledger Id begins with the network name (e.g myNetwork) followed by a forward slash "/" and the Ledger name (e.g myLedger).',Object(l.jsx)("br",{})]}),Object(l.jsx)("p",{children:Object(l.jsxs)("em",{children:[Object(l.jsx)("b",{children:"A Ledger Id example:"})," myNetwork/myLedger"]})}),Object(l.jsxs)(p.a,{onSubmit:this.onGenerate.bind(this),children:[Object(l.jsx)(f.a,{style:{margin:"20px 0"},children:"Ledger Id"}),Object(l.jsx)(g.a,{controlId:"formBasicText",validationState:this.getValidationState(),children:Object(l.jsx)("span",{children:Object(l.jsx)(O.a,{onMouseDown:function(e){e.stopPropagation()},type:"text",value:this.state.id,placeholder:"Begin ledger id",onChange:function(t){return e.handleChange("id",t)}})})}),Object(l.jsx)(g.a,{className:"text-right",children:Object(l.jsx)(m.a,{className:"fluree-rounded-button",type:"submit",disabled:"warning"===this.getValidationState()||this.state.loading,children:"Create"})}),this.state.error?Object(l.jsxs)(x.a,{bsStyle:"danger",onDismiss:function(){return e.setState({error:null})},children:[Object(l.jsx)("h4",{children:"Error"}),Object(l.jsx)("p",{children:this.state.error})]}):null]})]})})]})})}}]),a}(d.Component),H=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",error:null},e.refreshForm=function(){e.setState({username:"",error:null,loading:!1})},e.onGenerate=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.props._db,n=a.account,s=a.token,r=e.props,i=r.newUserModalToggle,c=r.getAccountInfo,o={endpoint:"action",auth:s,body:["new-user",{username:e.state.username.toLowerCase(),account:n,sendEmail:!0}]};Object(h.a)(o).then((function(t){200===t.status?(e.setState({username:"",loading:!1}),c(),i()):e.setState({error:t.message,loading:!1})})).catch((function(t){e.setState({error:t.message||t.error||JSON.stringify(t),loading:!1,dbName:e.props.account+"."})}))},e}return Object(i.a)(a,[{key:"getValidationState",value:function(){var e=this.state.username;return e.length<1||/^[\w-+]+(\.[\w]+)*@[\w-]+(\.[\w]+)*(\.[a-z]{2,})$/.test(e)?"success":"error"}},{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.newUserModalToggle;return Object(l.jsx)(N.a,{enableUserSelectHack:!1,children:Object(l.jsxs)(j.a,{show:!0,onHide:function(){return t()},children:[Object(l.jsx)(j.a.Header,{closeButton:!0,children:Object(l.jsxs)(j.a.Title,{style:{fontSize:"20px",fontWeight:"lighter"},children:[Object(l.jsx)("i",{className:"fas fa-user"})," \xa0 Add User to Account",Object(l.jsx)("hr",{})]})}),Object(l.jsx)(j.a.Body,{children:Object(l.jsxs)(p.a,{onSubmit:this.onGenerate.bind(this),children:[Object(l.jsx)(f.a,{className:"mt20 mb20",children:"User Email Address"}),Object(l.jsxs)(g.a,{controlId:"formBasicText",validationState:this.getValidationState(),children:[Object(l.jsx)(O.a,{onMouseDown:function(e){e.stopPropagation()},type:"text",value:this.state.username,placeholder:"Enter email address for new user",onChange:this.handleChange.bind(this),autoFocus:!0}),Object(l.jsx)(O.a.Feedback,{})]}),Object(l.jsx)("p",{children:"User will receive an email explaining next steps."}),Object(l.jsx)(g.a,{className:"text-right",children:Object(l.jsx)(m.a,{bsStyle:"primary",type:"submit",disabled:"error"===this.getValidationState()||this.state.loading,children:"Create"})}),this.state.error?Object(l.jsxs)(x.a,{bsStyle:"danger",onDismiss:function(){return e.refreshForm()},children:[Object(l.jsx)("h4",{children:"Error"}),Object(l.jsx)("p",{children:this.state.error})]}):null]})})]})})}}]),a}(d.Component),I=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={confirmDeletion:"",confirmDeletionAuthIDAndPrivateKey:null,error:null,confirmDeletionAuthID:null,confirmDeletionPrivateKey:null},e.deleteDB=function(t,a,n){var s,r=e.props._db,i=r.openApiServer,c=r.displayError;t.preventDefault();var o={"db/id":a},l="delete-db",d=e.props._db.refreshDbs;if(i)s={ip:n,endpoint:l,body:o,auth:e.props.token};else{var u=e.state.confirmDeletionAuthID,j=e.state.confirmDeletionPrivateKey,p=Object(h.b)(n)||"",f=Object(b.signRequest)("POST","".concat(p,"/fdb/delete-db"),JSON.stringify({"db/id":a,auth:u}),j,u),g=f.headers,O=f.body;s={ip:n,endpoint:l,body:JSON.parse(O),headers:g,auth:e.props.token,noRedirect:!0}}var m,x=e.props.confirmDatabaseDeletionModalToggle;m=s,Object(h.a)(m).then((function(t){200===t.status?d(n):(e.setState({error:t.message,loading:!1}),c(t.message))})).catch((function(t){var a=t.json||t,n=a.message||a.error||JSON.stringify(t);e.setState({error:n,loading:!1}),c(n)})),x()},e.handleChangeForConfirmDeleteTextbox=function(t){e.setState({confirmDeletion:t.target.value})},e.handleChangeForConfirmPrivateKeyTextbox=function(t){e.setState({confirmDeletionPrivateKey:t.target.value})},e.handleChangeForConfirmAuthIDTextbox=function(t){e.setState({confirmDeletionAuthID:t.target.value})},e.getValidationState=function(){return e.props._db.openApiServer?"confirm"!==e.state.confirmDeletion:!e.state.confirmDeletionAuthID||!e.state.confirmDeletionPrivateKey},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.confirmDatabaseDeletionModalToggle,n=t.db,s=t.ip,r=this.props._db.openApiServer;return console.log("openApiServer",r),console.log(this.props._db),Object(l.jsx)(d.Fragment,{children:Object(l.jsx)(N.a,{enableUserSelectHack:!1,children:Object(l.jsxs)(j.a,{show:!0,onHide:function(){return a()},children:[Object(l.jsx)(j.a.Header,{closeButton:!0,children:Object(l.jsxs)(j.a.Title,{children:["Are you sure you want to DELETE this ledger?"," "]})}),Object(l.jsxs)(p.a,{onSubmit:function(t){return e.deleteDB(t,n,s)},children:[r&&Object(l.jsxs)(j.a.Body,{children:[Object(l.jsx)("p",{children:'Please, enter "confirm" to DELETE ledger.'}),Object(l.jsx)(g.a,{children:Object(l.jsx)(O.a,{onMouseDown:function(e){e.stopPropagation()},type:"text",value:this.state.confirmDeletion,placeholder:"Enter 'confirm' to DELETE ledger",onChange:function(t){return e.handleChangeForConfirmDeleteTextbox(t)},autoFocus:!0})})]}),!r&&Object(l.jsxs)(j.a.Body,{children:[Object(l.jsxs)("p",{children:["Server Open-Api status is currently set to ",Object(l.jsx)("i",{children:"'false'"}),". Please provide an ",Object(l.jsx)("b",{children:"AuthID"})," and ",Object(l.jsx)("b",{children:"Private Key"})," to"," ",Object(l.jsx)("span",{style:{color:"red"},children:"DELETE"})," ledger."]}),Object(l.jsxs)(g.a,{children:[Object(l.jsx)("p",{children:"AuthID"}),Object(l.jsx)(O.a,{onMouseDown:function(e){e.stopPropagation()},type:"text",value:this.state.confirmDeletionAuthID,placeholder:"Enter 'AuthID' to DELETE ledger",onChange:function(t){return e.handleChangeForConfirmAuthIDTextbox(t)},autoFocus:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"Private Key"}),Object(l.jsx)(O.a,{onMouseDown:function(e){e.stopPropagation()},type:"text",value:this.state.confirmDeletionPrivateKey,placeholder:"Enter 'Private Key' to DELETE ledger",onChange:function(t){return e.handleChangeForConfirmPrivateKeyTextbox(t)},autoFocus:!0})]})]}),Object(l.jsx)(j.a.Footer,{children:Object(l.jsx)(m.a,{style:{borderRadius:"32px"},bsStyle:"danger",type:"submit",disabled:this.getValidationState(),children:"DELETE"})}),this.state.error?Object(l.jsxs)(x.a,{style:{margin:"0 10px 10px"},bsStyle:"danger",onDismiss:function(){return e.setState({error:null})},children:[Object(l.jsx)("h4",{children:"Error"}),Object(l.jsx)("p",{children:this.state.error})]}):null]})]})})})}}]),a}(d.Component),U=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1,error:null,confirmDatabaseDeletionModal:!1},e.confirmDatabaseDeletionModalToggle=function(){e.setState({confirmDatabaseDeletionModal:!e.state.confirmDatabaseDeletionModal})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.db,n=t.ip,s=t._db,r=t.block,i=t.size,c=t.flakes,o=a.length>60?a.substring(0,40).concat("..."):a;return Object(l.jsxs)(d.Fragment,{children:[!0===this.state.confirmDatabaseDeletionModal?Object(l.jsx)(I,{confirmDatabaseDeletionModalToggle:this.confirmDatabaseDeletionModalToggle,db:a,ip:n,_db:s}):null,Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{style:{textAlign:"left"},children:Object(l.jsxs)("span",{style:{display:"flex",direction:"row"},children:[Object(l.jsx)("span",{children:o}),Object(l.jsxs)("span",{class:"snap-shot-delete-wrapper",style:{marginLeft:"auto"},children:[Object(l.jsx)("span",{style:{padding:"4px 10px",cursor:"pointer",borderRadius:"32px",marginLeft:"10px"},className:"danger",onClick:function(){return e.confirmDatabaseDeletionModalToggle()},children:Object(l.jsx)("i",{className:"fas fa-trash hidden-xs","aria-hidden":"true",style:{padding:"5px"}})})," "]})]})}),Object(l.jsx)("td",{children:r}),Object(l.jsx)("td",{children:(parseInt(i)/1024).toFixed(2)}),Object(l.jsx)("td",{children:c})]},a)]})}}]),a}(d.Component),J=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).viewURL=function(t){t?window.open(t,"_blank"):e.props._db.setGlobalProps("error",{error:"No URL Found",message:"No URL found for this ledger archive. Please contact support@flur.ee for additional assistance."})},e.viewArchive=function(t,a){return Object(l.jsxs)(v.a,{value:a.concat("viewArchive"),onClick:function(){return e.viewURL(t)},children:[Object(l.jsx)("i",{className:"far fa-file-archive"}),"\xa0\xa0View Archive"]},a.concat("viewArchive"))},e.deleteArchive=function(t){return Object(l.jsxs)(v.a,{value:t.concat("deleteArchive"),onClick:function(){return e.props.deleteArchiveModalToggle(t)},children:[Object(l.jsx)("i",{className:"far fa-trash-alt"}),"\xa0\xa0Delete Archive"]},t.concat("deleteArchive"))},e.viewBackups=function(t,a){return Object(l.jsxs)(v.a,{value:a.concat("backup-view"),onClick:function(){return e.viewURL(t)},children:[Object(l.jsx)("i",{className:"fas fa-eye"}),"\xa0\xa0View Back-ups"]},a.concat("backup-view"))},e.dropdown=function(t,a,n){return"deleted"===t?Object(l.jsx)(A.a,{disabled:!0,title:"Archive Deleted",children:" "}):a?Object(l.jsxs)(A.a,{title:"Options",id:"Archive Options",children:[e.viewArchive(t,n),e.viewBackups(a,n),e.deleteArchive(n)]}):Object(l.jsxs)(A.a,{title:"Options",id:"Archive Options",children:[e.viewArchive(t,n),e.deleteArchive(n)]})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.url,n=e.backup;return Object(l.jsx)(y.a,{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-xs-6",style:{lineHeight:"40px"},children:[Object(l.jsx)("i",{className:"far fa-file-archive hidden-xs","aria-hidden":"true",style:{paddingRight:"5px"}}),"\xa0",Object(l.jsx)("h3",{style:{display:"inline"},children:t})]}),Object(l.jsx)("div",{className:"col-xs-6",children:this.dropdown(a,n,t)})]})})}}]),a}(d.Component),E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.removeUserModalToggle,n=t.length>18?t.substring(0,15).concat("..."):t;return Object(l.jsx)(y.a,{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-xs-7",style:{lineHeight:"40px"},children:[Object(l.jsx)("i",{className:"fas fa-user hidden-sm","aria-hidden":"true",style:{paddingRight:"5px"}}),"\xa0",n.length!==t.length?Object(l.jsx)(S.a,{placement:"top",overlay:Object(l.jsx)(D.a,{children:t},t),children:Object(l.jsx)("h3",{style:{display:"inline"},children:n})},t):Object(l.jsx)("h3",{style:{display:"inline"},children:n})]}),Object(l.jsx)("div",{className:"pull-right",style:{marginRight:"10px"},children:Object(l.jsxs)(m.a,{value:t,onClick:function(){return a(t)},children:[Object(l.jsx)("i",{className:"fas fa-user-slash"}),"\xa0\xa0Remove"]},t)})]})},t)}}]),a}(d.Component),Z=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.switchType,a=e.type;return Object(l.jsxs)("div",{className:"panel-stat",onClick:t?function(){return t(a)}:null,style:{cursor:t?"pointer":"default",borderRadius:"7px"},children:[Object(l.jsx)("div",{className:"panel-stat-left",children:Object(l.jsx)("i",{style:{padding:"fas fa-tag bg-success"===this.props.iconClass?"25px":null,borderRadius:"7px 0 0 7px"},className:this.props.iconClass})}),Object(l.jsxs)("div",{className:"panel-stat-right",children:[Object(l.jsx)("div",{className:"stat",children:this.props.stat}),Object(l.jsx)("div",{className:"stat-text",children:this.props.statText})]})]})}}]),a}(d.Component),F=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={newDatabaseModal:!1,dataBasesWithInfo:[],isLoadingDatabaseInfo:!0,configModal:!1,confirmDatabaseDeletionModal:!1,checkDbs:e.props._db,dbsLength:e.props._db.dbs.length,databaseHeader:["Ledger","Current Block","Size(Kb)","Flakes"]},e.setOpenApiServerStatus=function(e){var t={openApiServerStatusShow:!e};localStorage.setItem("openApiServerConfig",JSON.stringify(t))},e.getOpenApiServerStatus=function(){var e=localStorage.getItem("openApiServerConfig");return e=JSON.parse(e),k()(e,"openApiServerStatusShow")},e.newDatabaseModalToggle=function(){e.setState({newDatabaseModal:!e.state.newDatabaseModal}),e.forceUpdate()},e.newUserModalToggle=function(){e.setState({newUserModal:!e.state.newUserModal})},e.renderTableHeader=function(e){return e.map((function(e){switch(e){case"Ledger":return Object(l.jsxs)("th",{style:{textAlign:"left"},children:[Object(l.jsx)("span",{children:Object(l.jsx)("i",{className:"fas fa-database hidden-xs","aria-hidden":"true",style:{paddingRight:"5px"}})}),e,Object(l.jsx)("span",{})]});case"Current Block":return Object(l.jsxs)("th",{style:{textAlign:"center"},children:[Object(l.jsx)("span",{children:Object(l.jsx)("i",{className:"fas fa-cube hidden-xs","aria-hidden":"true",style:{paddingRight:"5px"}})}),e]});case"Size(Kb)":return Object(l.jsx)("th",{style:{textAlign:"center"},children:e});case"Flakes":return Object(l.jsxs)("th",{style:{textAlign:"center"},children:[Object(l.jsx)("span",{children:Object(l.jsx)("i",{className:"fas fa-snowflake hidden-xs","aria-hidden":"true",style:{paddingRight:"5px"}})}),e]})}}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadDatabaseInfo();var t={endpoint:"nw-state",ip:this.props._db.ip,noRedirect:!0};Object(h.a)(t).then((function(t){if(void 0===e.getOpenApiServerStatus())e.setOpenApiServerStatus(t.json["open-api"]),e.setState({openApiServer:t.json["open-api"]});else{var a=e.getOpenApiServerStatus();e.setState({openApiServer:t.json["open-api"],showServerOpenApiAlert:a})}})).catch((function(t){e.displayError(t)}))}},{key:"componentDidUpdate",value:function(e,t){t.dbsLength!==this.state.dbsLength&&this.loadDatabaseInfo()}},{key:"displayError",value:function(e){this.setState({error:e})}},{key:"loadDatabaseInfo",value:function(){var e=this,t=[],a=this.props._db,n=a.ip,r=a.token;a.dbs.map((function(e){return[].concat(Object(s.a)(e.split("/")),[e])})).forEach((function(a){var s={endpoint:"ledger-stats",ip:n,network:a[0],db:a[1],auth:r};t.push(e.getDatabasesInfo(s,a[2]))})),Promise.all(t).then((function(t){e.setState({dataBasesWithInfo:Object(s.a)(t),isLoadingDatabaseInfo:!1})})).catch((function(t){401===t.status?e.props._db.displayConfig():e.setState({error:JSON.stringify(t),isLoadingDatabaseInfo:!1,loading:!1})}))}},{key:"getDatabasesInfo",value:function(e,t){return new Promise((function(a,s){Object(h.a)(e).then((function(e){if(e.json&&e.json.data){var s=e.json.data;a(Object(n.a)(Object(n.a)({},s),{},{databaseName:t}))}else{var r={msg:e.message?e.message:e};a(Object(n.a)(Object(n.a)({},r),{},{databaseName:t}))}})).catch((function(e){s(e)}))}))}},{key:"sortBy",value:function(e,t){return e.sort((function(e,a){var n=k()(e,t,"z").toUpperCase(),s=k()(a,t,"z").toUpperCase();return n<s?-1:n>s?1:0})),e}},{key:"archiveDatabaseModalToggle",value:function(e){this.setState({archiveDatabaseModal:!this.state.archiveDatabaseModal,dbName:e})}},{key:"backupDatabaseModalToggle",value:function(e){this.setState({backupDatabaseModal:!this.state.backupDatabaseModal,dbName:e})}},{key:"removeUserModalToggle",value:function(e){this.setState({removeUserModal:!this.state.removeUserModal,username:e})}},{key:"render",value:function(){var e=this,t=this.props._db,a=this.props._db,s=a.account,r=a.dbs,i=a.ip,c=a.token,o=this.state,d=(o.maxDbs,o.maxUsers,o.users,1===r.length?"LEDGER":"LEDGERS"),u=r.length;return r?Object(l.jsxs)("div",{style:{paddingLeft:"40px",marginTop:"40px",height:"100%",width:"100%"},children:[!0===this.state.newDatabaseModal?Object(l.jsx)(C,{_db:t,newDatabaseModalToggle:this.newDatabaseModalToggle,openApiServerStatus:this.state.openApiServer}):null,!0===this.state.newUserModal?Object(l.jsx)(H,Object(n.a)(Object(n.a)({},this.props),{},{_db:t,newUserModalToggle:this.newUserModalToggle,getAccountInfo:this.getAccountInfo.bind(this)})):null,!0===this.state.removeUserModal?Object(l.jsx)(R,Object(n.a)(Object(n.a)({},this.props),{},{_db:t,account:s,username:this.state.username,history:this.props.history,removeUserModalToggle:this.removeUserModalToggle.bind(this),getAccountInfo:this.getAccountInfo.bind(this)})):null,Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h3",{style:{alignItems:"center",marginBottom:"7px"},children:Object(l.jsx)("span",{style:{color:"#091133"},children:"".concat(d," (").concat(u,")")})}),Object(l.jsxs)("div",{children:[this.state.isLoadingDatabaseInfo?"Loading....":Object(l.jsx)("div",{id:"scroll-div-container",className:"table-container network-page-table-container",style:{maxHeight:"585px"},children:Object(l.jsxs)("table",{className:"block-table block-table-stripes",ref:"scrollContent",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{style:{padding:"15px"},children:this.renderTableHeader(this.state.databaseHeader)}),Object(l.jsx)("tbody",{children:this.state.dataBasesWithInfo.map((function(a){return Object(l.jsx)(U,{db:a.databaseName,block:a.block,size:a.size,flakes:a.flakes,dbLength:r.length,ip:i,token:c,_db:t,msg:a.msg,newDatabaseModalToggle:e.newDatabaseModalToggle,openApiServerStatus:e.state.openApiServer},a.databaseName)}))})]})}),Object(l.jsx)("div",{style:{textAlign:"center",marginTop:"7px"},children:Object(l.jsxs)(m.a,{className:"fluree-rounded-button",id:"new-database-button",onClick:this.newDatabaseModalToggle,children:[Object(l.jsx)("i",{className:"fas fa-plus"})," \xa0Add Ledger"]})})]})]})]}):Object(l.jsx)("div",{className:"loading1",children:" Loading... "})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e._db!==t.checkDbs?{dbsLength:e._db.dbs.length}:null}}]),a}(d.Component);t.default=F}}]);
//# sourceMappingURL=17.bda21e33.chunk.js.map