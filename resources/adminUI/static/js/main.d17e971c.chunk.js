(this["webpackJsonpfluree-admin-ui"]=this["webpackJsonpfluree-admin-ui"]||[]).push([[7],{191:function(e,t,n){"use strict";var s=n(31),a=n(32),r=n(46),i=n(45),o=n(4),c=n(0),l=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.closeSlackModal=function(){e.setState({showSlackModal:!1})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.setState({showSlackModal:!1})}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"m40 text-center border-top-gray",children:[Object(o.jsxs)("ul",{className:"nav nav-pills mt10",style:{display:"flex",justifyContent:"center",color:"#091133"},children:[Object(o.jsx)("li",{role:"presentation",children:Object(o.jsx)("a",{style:{color:"#091133"},href:"https://docs.flur.ee",rel:"noopener noreferrer",target:"_blank",className:"small strong text-muted",children:"Documentation"})}),Object(o.jsx)("li",{role:"presentation",children:Object(o.jsx)("a",{style:{color:"#091133"},href:"mailto:support@flur.ee",className:"small strong text-muted",children:"Contact"})}),Object(o.jsxs)("li",{children:[Object(o.jsxs)("a",{style:{color:"#091133"},className:"small strong text-muted",href:"https://launchpass.com/flureedb",target:"_blank",rel:"noopener noreferrer",children:[Object(o.jsx)("i",{className:"fab fa-slack"}),"\xa0Fluree Slack"]})," "]})]}),Object(o.jsxs)("div",{className:"small",style:{color:"#091133"},children:["v1.0.0-beta1 \xa0",Object(o.jsx)("a",{style:{color:"#091133"},href:"https://flur.ee/agreements/FlureeEnterpriseTermsofService.pdf",target:"_blank",rel:"noopener noreferrer",children:"Terms"}),"\xa0+\xa0",Object(o.jsx)("a",{style:{color:"#091133"},href:"https://flur.ee/wp-content/uploads/2020/07/Fluree-Privacy-Policy-6-20.pdf",target:"_blank",rel:"noopener noreferrer",children:"Privacy"}),"\xa0\xa9 Fluree, PBC"]})]})}}]),n}(n.n(c).a.Component);t.a=l},361:function(e,t,n){},362:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){"use strict";n.r(t);var s=n(63),a=n(31),r=n(32),i=n(46),o=n(45),c=n(4),l=n(0),d=n.n(l),h=n(37),u=n(38),p=n(94),b=n(109),j=n.n(b),m=n(17),g=n.n(m),f=n(239);function O(e){return function(t){Object(i.a)(l,t);var n=Object(o.a)(l);function l(e){var t;return Object(a.a)(this,l),(t=n.call(this,e)).state={component:null},t}return Object(r.a)(l,[{key:"componentDidMount",value:function(){var t=Object(f.a)(g.a.mark((function t(){var n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,s=n.default,this.setState({component:s});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?Object(c.jsx)(e,Object(s.a)({},this.props)):null}}]),l}(l.Component)}var v=n(283),x=function(e){var t=e.component,n=e.props,a=e._db,r=Object(v.a)(e,["component","props","_db"]);return Object(c.jsx)(u.d,Object(s.a)(Object(s.a)({},r),{},{render:function(e){return Object(c.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{_db:a},n))}}))},y=n(72),S=n(465),w=n(450),k=n(451),C=n(459),N=n(460),P=n(461),A=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={error:null,toggleOpen:!1},e.toggleSideBar=function(){e.setState({toggleOpen:!e.state.toggleOpen})},e.toggleOpen=function(){e.setState({toggleOpen:!0})},e.toggleClose=function(){e.setState({toggleOpen:!1})},e}return Object(r.a)(n,[{key:"handleSelect",value:function(e){"docs"===(e=e||{})&&window.open("https://docs.flur.ee/","_blank"),e.db&&this.props._db.changeDatabase(e.db),e.language&&this.props._db.changeQueryLanguage(e.language)}},{key:"render",value:function(){var e=this,t=this.props._db,n=t.dbs,s=t.db,a=(t.queryLanguage,this.props.openApiServer),r=0===n.length;return r||(n=n.sort()),Object(c.jsx)("div",{children:Object(c.jsxs)(S.a,{id:"navbar-side",fluid:!0,className:this.state.toggleOpen?"navbar-side toggled-open-sidebar":"navbar-side untoggled-closed-sidebar",children:[Object(c.jsx)(S.a.Brand,{className:"nav-hide-md",children:Object(c.jsx)(y.LinkContainer,{to:"/",children:Object(c.jsx)("img",{id:"img-brand",alt:"FlureeDB",src:"/logo_horizontal_white.png"})})}),Object(c.jsx)("i",{className:"fas fa-bars menu-symbol nav-show-md toggle-button",onClick:this.toggleSideBar}),r?Object(c.jsxs)(w.a,{onSelect:this.handleSelect.bind(this),children:[Object(c.jsx)(y.LinkContainer,{to:"/account",id:"account-nav",children:Object(c.jsxs)(k.a,{eventKey:1,children:[Object(c.jsx)("i",{className:"fas fa-info-circle hidden-sm-down menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item account-link":"nav-hide-md menu-item account-link",children:"Account Info"})]})}),Object(c.jsx)("li",{children:Object(c.jsx)("hr",{className:"border-top-solid-gray"})}),Object(c.jsxs)(k.a,{eventKey:"docs",href:"https://docs.flur.ee",target:"_blank",className:"docs",id:"docs-nav",children:[Object(c.jsx)("i",{className:"fas fa-book menu-symbol"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Docs"})]})]}):Object(c.jsxs)(w.a,{onSelect:this.handleSelect.bind(this),children:[Object(c.jsx)(y.LinkContainer,{to:"/account",id:"account-nav",children:Object(c.jsxs)(k.a,{eventKey:2,children:[Object(c.jsx)("i",{className:"fas fa-info-circle hidden-sm-down menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item account-link":"nav-hide-md menu-item account-link",children:"Dashboard"})]})}),Object(c.jsxs)(C.a,{onClick:this.toggleOpen,title:Object(c.jsx)("span",{children:Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-cube menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:s})]})}),id:"database-dropdown",children:[Object(c.jsx)(N.a,{header:!0,children:"Select Ledger:"}),n.map((function(t){return Object(c.jsx)(N.a,{onClick:e.toggleClose,eventKey:{db:t},value:t,children:t},t)}))]}),Object(c.jsx)("li",{children:Object(c.jsx)("hr",{className:"border-top-solid-gray"})}),Object(c.jsx)(P.a,{id:"queryButton",title:Object(c.jsx)("span",{children:Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-search menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Query"})]})}),children:["FlureeQL","SPARQL","GraphQL","SQL"].map((function(e){return Object(c.jsx)(y.LinkContainer,{to:"/".concat(e.toLowerCase()),className:"text-center",children:Object(c.jsx)(N.a,{children:e},e)},e)}))}),Object(c.jsx)(y.LinkContainer,{to:"/transact",children:Object(c.jsxs)(k.a,{eventKey:4,href:"#",children:[Object(c.jsx)("i",{className:"fas fa-handshake menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Transact"})]})}),Object(c.jsx)(y.LinkContainer,{to:"/schema",children:Object(c.jsxs)(k.a,{eventKey:5,href:"#",children:[Object(c.jsx)("i",{className:"fas fa-database menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Schema"})]})}),a&&Object(c.jsx)(y.LinkContainer,{to:"/networkdashboard",children:Object(c.jsxs)(k.a,{eventKey:6,href:"#",children:[Object(c.jsx)("i",{className:"fas fa-network-wired menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Network Dashboard"})]})}),a&&Object(c.jsx)(y.LinkContainer,{to:"/exploredb",children:Object(c.jsxs)(k.a,{eventKey:7,href:"#",children:[Object(c.jsx)("i",{className:"fas fa-search  menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Explore Ledger"})]})}),Object(c.jsx)(y.LinkContainer,{to:"/import",children:Object(c.jsxs)(k.a,{eventKey:8,href:"#",children:[Object(c.jsx)("i",{className:"far fa-chart-bar menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Import"})]})}),Object(c.jsx)(y.LinkContainer,{to:"/permissions",children:Object(c.jsxs)(k.a,{eventKey:9,href:"#",children:[Object(c.jsx)("i",{className:"fas fa-file-import menu-symbol","aria-hidden":"true"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Permissions"})]})}),Object(c.jsx)("li",{children:Object(c.jsx)("hr",{className:"border-top-solid-gray"})}),Object(c.jsxs)(k.a,{eventKey:"docs",href:"https://docs.flur.ee",target:"_blank",className:"docs",id:"docs-nav",children:[Object(c.jsx)("i",{className:"fas fa-book menu-symbol"}),Object(c.jsx)("span",{className:this.state.toggleOpen?"menu-item":"nav-hide-md menu-item",children:"Docs"})]})]})]})})}}]),n}(d.a.Component),_=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{style:{width:"100%",display:"flex",direction:"row"},children:Object(c.jsx)("div",{style:{marginLeft:"80%"},children:(e=this.props,Object(c.jsx)(w.a,{id:"config-container",children:Object(c.jsxs)(C.a,{eventKey:4,title:"Change Config",id:"basic-nav-dropdown",className:"account-icon",children:[Object(c.jsxs)(S.a.Text,{style:{fontSize:"14px",fontVariant:"small-caps",color:"black",marginBottom:"5px",marginTop:"5px"},children:["IP: ",Object(c.jsx)("span",{style:{color:"rgb(101, 99, 99)"},children:e._db.ip})]}),Object(c.jsx)(N.a,{id:"changeIPText",onClick:function(){return e._db.displayConfig()},children:"Change Config"})]})}))})});var e}}]),n}(d.a.Component),L=n(466),D=n(132),K=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.error,t=e.error,n=e.message||e.error||"No Message Provided with Error.";return Object(c.jsx)("div",{className:"static-modal",children:Object(c.jsxs)(L.a.Dialog,{children:[Object(c.jsx)(L.a.Header,{children:Object(c.jsxs)(L.a.Title,{children:["Error processing action (",e.status,")"]})}),Object(c.jsxs)(L.a.Body,{children:[t?Object(c.jsxs)("p",{children:["Error type: ",t]}):null,Object(c.jsx)("p",{children:n}),Object(c.jsx)("p",{children:JSON.stringify(e)})]}),Object(c.jsx)(L.a.Footer,{children:Object(c.jsx)(D.a,{bsStyle:"primary",onClick:this.props.dismiss,children:"Dismiss"})})]})})}}]),n}(d.a.Component),q=n(462),I=n(463),E=n(464),Q=n(467),T=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.submitAndDismiss=function(){var t=e.state,n=t.ip,s=t.defaultPrivateKey;"/"===n.substr(-1)&&(n=n.substr(0,n.length-1)),e.props.setConfig(n,s)},e.getValidateDefaultPrivateKey=function(){return!e.state.defaultPrivateKey&&!e.state.openApi},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){if(this.props._db){console.log(this.props._db);var e=this.props._db,t=e.ip,n=e.openApiServer,s=e.defaultPrivateKey;console.log(t),this.setState({ip:t,openApiServer:n,defaultPrivateKey:s})}}},{key:"render",value:function(){var e=this,t=this.props.error;return void 0!==t&&null!==t&&(t.error,t.message||t.error||"No Message Provided with Error."),Object(c.jsx)("div",{className:"static-modal",children:Object(c.jsxs)(L.a.Dialog,{children:[Object(c.jsx)(L.a.Header,{children:Object(c.jsx)(L.a.Title,{children:this.props.error?Object(c.jsxs)("span",{children:["Error processing action (",t.status,") "]}):Object(c.jsx)("span",{children:"Config Settings"})})}),Object(c.jsxs)(L.a.Body,{children:[this.props.error?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"row",style:{margin:"20px 0 25px",border:"3px outset #d68484",padding:"10px",backgroundColor:"#ffeded"},children:[Object(c.jsx)("div",{className:"col-sm-2",children:Object(c.jsx)("i",{style:{fontSize:"35px"},className:"fas fa-wrench"})}),Object(c.jsxs)("div",{className:"col-sm-10",children:["Unable to communicate to server at: ",this.state.ip,".",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"If you believe this error to have been caused by an incorrect IP address or URL, you can change it below."]}),Object(c.jsx)("br",{})]})}):null,Object(c.jsxs)(q.a,{onSubmit:this.submitAndDismiss,children:[Object(c.jsxs)(I.a,{children:[Object(c.jsx)(E.a,{children:"Target Server URL"}),Object(c.jsx)(Q.a,{type:"text",value:this.state.ip,onChange:function(t){return e.setState({ip:t.target.value})}})]}),this.state.openApiServer?null:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(E.a,{children:"Default Private Key"}),Object(c.jsx)(Q.a,{type:"text",value:this.state.defaultPrivateKey,placeholder:"Default Private Key",onChange:function(t){return e.setState({defaultPrivateKey:t.target.value})}})]}),Object(c.jsx)(D.a,{disabled:this.getValidateDefaultPrivateKey(),className:"buttonPurple",type:"submit",children:"Set Config"})]})]})]})})}}]),n}(d.a.Component),B=n(191),F=(n(361),n(362),n(93)),M=n(108),R=(n(438),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.handlePrettifyQuery=function(){e.graphiql&&e.graphiql.handlePrettifyQuery()},e.handleToggleHistory=function(){e.graphiql&&e.graphiql.handleToggleHistory()},e.graphQLFetcher=function(t){var n=e.props._db.db.split("/"),s={ip:e.props._db.ip,body:t,auth:e.props._db.token,network:n[0],endpoint:"graphql",db:n[1]};return Object(F.a)(s).then((function(t){var n=t.json||t;if(!((n=n.result||n).status>400))return e.props._db.dismissError(),n;e.props._db.displayError(n)})).catch((function(t){e.props._db.displayError(t)}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props._db.openApiServer;return Object(c.jsx)("div",{style:{height:"100vh",width:"100%"},children:t?Object(c.jsxs)(M.a,{ref:function(t){e.graphiql=t},fetcher:this.graphQLFetcher,children:[Object(c.jsx)(M.a.Logo,{children:"GraphQL"}),Object(c.jsxs)(M.a.Toolbar,{children:[Object(c.jsx)(M.a.Button,{onClick:this.handlePrettifyQuery,title:"Prettify Query",label:"Prettify"}),Object(c.jsx)(M.a.Button,{onClick:this.handleToggleHistory,title:"Show History",label:"History"})]})]}):Object(c.jsx)("div",{className:"text-center mt20",children:Object(c.jsx)("h3",{children:"The GraphQL page is not currently available with a closed API."})})})}}]),n}(d.a.Component)),J=O((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(16)]).then(n.bind(null,500))})),H=O((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(14)]).then(n.bind(null,1030))})),z=O((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(13)]).then(n.bind(null,1031))})),G=O((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(12)]).then(n.bind(null,1032))})),U=O((function(){return Promise.all([n.e(0),n.e(3),n.e(6),n.e(17)]).then(n.bind(null,572))})),V=O((function(){return Promise.all([n.e(0),n.e(3),n.e(5),n.e(6),n.e(10)]).then(n.bind(null,1039))})),X=O((function(){return Promise.all([n.e(1),n.e(4),n.e(3),n.e(5),n.e(11)]).then(n.bind(null,1038))})),W=O((function(){return Promise.all([n.e(3),n.e(20)]).then(n.bind(null,1040))})),Y=(O((function(){return n.e(19).then(n.bind(null,1034))})),O((function(){return n.e(21).then(n.bind(null,1035))}))),Z=O((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,1037))})),$=O((function(){return Promise.all([n.e(1),n.e(2),n.e(5),n.e(18)]).then(n.bind(null,1036))})),ee=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.setOpenApiServerStatus=function(e){var t={openApiServerStatusShow:!e};localStorage.setItem("openApiServerConfig",JSON.stringify(t))},e.getOpenApiServerStatus=function(){var e=localStorage.getItem("openApiServerConfig");return e=JSON.parse(e),j()(e,"openApiServerStatusShow")},e.dismiss=function(t){var n={};n[t]=null,"showConfig"!==t&&"displayError"!==t||(n.error=null),e.setState(n)},e.getDbs=function(e,t){var n={ip:e,auth:t,endpoint:"dbs"},s=Object(F.a)(n);return s.status>=400?s:s.then((function(e){return e.json?e.json:e}))},e.setConfig=function(t,n,s){var a={ip:t,defaultPrivateKey:n,openApiServerStatus:s};localStorage.setItem("flureeConfig",JSON.stringify(a)),a.showConfig=!1,a.error=null,e.setState(a,(function(){return e.refreshDbs(t)}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t={},n=this.props,s=n.token,a=(n.account,Object(F.b)()),r={endpoint:"nw-state",ip:a,noRedirect:!0},i=localStorage.getItem("queryLanguage");i?(t.queryLanguage=i,this.setState(t)):(t.queryLanguage="FlureeQL",localStorage.setItem("queryLanguage","FlureeQL"),this.setState(t)),Object(F.a)(r).then((function(n){var s=n.json["open-api"],r=e.getOpenApiServerStatus();void 0===r&&(e.setOpenApiServerStatus(s),r=!s),e.setState({showServerOpenApiAlert:r,openApiServer:s,ip:a,networkData:n.json});var i,o=e.getConfig();o&&o.defaultPrivateKey||s||(t.showConfig=!0),!1!==o&&(i=o.defaultPrivateKey),!1!==o&&o.defaultPrivateKey||s||(t.showConfig=!0),t.ip=a,t.defaultPrivateKey=i,t.account="Fluree",e.setState(t)})).catch((function(t){e.displayError(t)})),this.getDbs(t.ip,s).then((function(n){if(n instanceof Error)return t.showConfig=!0,t.error=n,void e.setState(t);var s=[];if(n.map((function(e){s.push("".concat(e[0],"/").concat(e[1]))})),t.dbs=s,0===n.length)return t.noDbs=!0,void e.setState(t);if(1===n.length)t.db=s[0],localStorage.setItem("database",s[0]),e.setState(t);else{var a=localStorage.getItem("database");s.includes(a)?(t.db=a,e.setState(t)):(t.db=s[0],localStorage.setItem("database",s[0]),e.setState(t))}}))}},{key:"displayError",value:function(e){this.setState({error:e})}},{key:"displayConfig",value:function(e){this.setState({showConfig:!0,displayError:!1,error:e})}},{key:"getConfig",value:function(){var e=localStorage.getItem("flureeConfig");e=JSON.parse(e);var t=j()(e,"ip"),n=j()(e,"defaultPrivateKey"),s=j()(e,"openApiServerStatus");return!(null===t||void 0===t||void 0===n||null===n)&&{ip:t,defaultPrivateKey:n,openApiServerStatus:s}}},{key:"changeDatabase",value:function(e){localStorage.setItem("database",e);var t=e.substring(0,e.indexOf("."));this.setState({db:e,account:t})}},{key:"changeQueryLanguage",value:function(e){localStorage.setItem("queryLanguage",e),this.setState({queryLanguage:e})}},{key:"toggleshowServerOpenApiAlert",value:function(){this.setOpenApiServerStatus(!0);var e=this.getOpenApiServerStatus();this.setState({showServerOpenApiAlert:e})}},{key:"refreshDbs",value:function(){var e=this,t=this.state.ip,n=this.getDbs(t,this.props.token);n.status>=400?this.setState({error:n.message}):n.then((function(t){if(t instanceof Error)e.setState({showConfig:!0,error:!0});else{var n=[];if(t.map((function(e){n.push("".concat(e[0],"/").concat(e[1]))})),0!==t.length){if(1===t.length)return localStorage.setItem("database",n[0]),void e.setState({dbs:n,db:n[0],noDbs:!1});var s=localStorage.getItem("database");n.includes(s)?e.setState({dbs:n,db:s}):(localStorage.setItem("database",n[0]),e.setState({dbs:n,db:n[0],noDbs:!1}))}else e.setState({dbs:n,noDbs:!0})}}))}},{key:"render",value:function(){var e=this,t=this.state.dbs,n={dbs:t,db:this.state.db,queryLanguage:this.state.queryLanguage,changeQueryLanguage:this.changeQueryLanguage.bind(this),displayConfig:this.displayConfig.bind(this),displayError:this.displayError.bind(this),dismissError:this.dismiss.bind(this),loading:this.state.loading,changeDatabase:this.changeDatabase.bind(this),refreshDbs:this.refreshDbs.bind(this),ip:this.state.ip,defaultPrivateKey:this.state.defaultPrivateKey,openApiServer:this.state.openApiServer,networkData:this.state.networkData};return void 0===t?Object(c.jsx)("div",{children:this.state.showConfig?Object(c.jsx)(T,{_db:n,error:this.state.error,setConfig:this.setConfig.bind(this)}):"Loading...."}):Object(c.jsxs)("div",{className:"container-fluid",style:{width:"100%"},children:[this.state.showServerOpenApiAlert?Object(c.jsxs)("div",{className:"row",style:{margin:"0",paddingRight:"5px",backgroundColor:"#F8D7DA",color:"#721C24",position:"relative"},children:[Object(c.jsx)("p",{style:{paddingTop:"4px",marginLeft:"35%",marginRight:"35s%"},children:"Fluree server is running with closed API. fdb-api-open is set to false in settings."}),Object(c.jsx)("p",{style:{position:"absolute",top:"0",right:"0",cursor:"pointer",paddingRight:"4px"},onClick:function(){return e.toggleshowServerOpenApiAlert()},children:"x"})]}):null,Object(c.jsx)("div",{className:"col-md-3 col-xs-1",style:{height:"100vh",padding:"0px",position:"fixed",margin:"0"},children:Object(c.jsx)(A,Object(s.a)(Object(s.a)({_db:n,openApiServer:this.state.openApiServer},this.props),{},{style:{width:"100%",margin:"0"}}))}),this.state.error?Object(c.jsx)(K,{error:this.state.error,dismiss:this.dismiss.bind(this,"error")}):null,this.state.showConfig?Object(c.jsx)(T,{_db:n,error:this.state.error,setConfig:this.setConfig.bind(this)}):null,Object(c.jsxs)("div",{id:"main-content-wrapper",className:"col-md-9 col-xs-11",style:{paddingLeft:"20px",height:"100%",overflowX:"hidden"},children:[Object(c.jsx)("div",{style:{padding:"0px"},children:Object(c.jsx)(_,Object(s.a)({_db:n},this.props))}),this.state.noDbs?Object(c.jsxs)(u.g,{children:[Object(c.jsx)(x,{props:this.props,_db:n,path:"/account",component:U}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/",component:U}),Object(c.jsx)(u.d,{component:Y})]}):Object(c.jsxs)(u.g,{children:[Object(c.jsx)(x,{props:this.props,_db:n,path:"/account",component:U}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/flureeql",component:J}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/transact",component:H}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/sparql",component:z}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/sql",component:G}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/graphql",component:R}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/schema",component:V}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/exploredb",component:X}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/networkdashboard",component:W}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/permissions",component:Z}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/import",component:$}),Object(c.jsx)(x,{props:this.props,_db:n,path:"/",component:U}),Object(c.jsx)(u.d,{component:Y})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(B.a,{})})]})]},n.db)}}]),n}(d.a.Component),te=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={message:""},e.setMessage=function(t){e.setState({message:t})},e}return Object(r.a)(n,[{key:"render",value:function(){this.state.message,this.setMessage;return Object(c.jsx)("div",{style:{height:"100vh"},children:Object(c.jsx)(p.BrowserRouter,{children:Object(c.jsx)(u.d,{path:"/",component:ee})})})}}]),n}(d.a.Component);Object(h.render)(Object(c.jsx)(te,{}),document.getElementById("fluree-app"))},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var s=n(244),a=n.n(s),r=void 0;function i(){return window.location.origin?window.location.origin:window.location.port?window.location.protocol+"//"+window.location.hostname+":"+window.location.port:window.location.protocol+"//"+window.location.hostname}function o(e){return e.json().then((function(t){var n=Object.assign(e,{json:t});if(e.status<300)return n;throw n}))}var c=function(e){e.ip;var t=e.body,n=e.auth,s=e.network,c=e.db,l=e.endpoint,d=e.headers,h=e.noRedirect,u=function(e,t,n,s,a){var r="fdb",o=["query","multi-query","block","history","transact","graphql","sparql","sql","command","ledger-stats","block-range-with-txn","nw-state"].includes(e),c=i();if(o)return"nw-state"===e?"".concat(c,"/").concat(r,"/").concat(e):"".concat(c,"/").concat(r,"/").concat(t,"/").concat(n,"/").concat(e);if(["dbs","action","new-db","accounts","signin","health","sub","new-pw","reset-pw","activate-account","delete-db"].includes(e))return"".concat(c,"/").concat(r,"/").concat(e);if("logs"===e)return"".concat(c,"/").concat(r,"/fdb/").concat(e,"/").concat(t);throw{status:400,message:"Invalid endpoint"}}(l,s,c),p={method:"POST",headers:d||{"Content-Type":"application/json","Request-Timeout":2e4,Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)};return a()(u,p).then(o).catch((function(e){if(h||401!==e.status&&403!==e.status)return e.json?e.json:e;localStorage.removeItem("token"),r.props?r.props.logout():window.location="/"}))}}},[[439,8,9]]]);
//# sourceMappingURL=main.d17e971c.chunk.js.map