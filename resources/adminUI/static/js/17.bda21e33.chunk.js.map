{"version":3,"sources":["theme/assets/logo_name_white.png","screens/Signin.js","components/DeleteAndArchive.js","screens/Account.jsx"],"names":["hashCode","string","hash","length","i","charCodeAt","React","Component","sleep","time","Promise","resolve","setTimeout","RemoveUserModal","state","error","refreshForm","setState","loading","removeUser","props","username","removeUserModalToggle","getAccountInfo","_db","account","token","opts","endpoint","auth","body","flureeFetch","then","response","self","logout","catch","message","JSON","stringify","this","Number","localStorage","getItem","Modal","show","onHide","Header","closeButton","Title","style","fontSize","fontWeight","className","Body","Alert","bsStyle","Button","disabled","onClick","onDismiss","NewDatabaseModal","id","getValidationState","match","onGenerate","e","preventDefault","blockNumber","tx","ip","refreshDbs","status","newDatabaseModalToggle","json","key","newState","target","value","enableUserSelectHack","marginBottom","Form","onSubmit","bind","ControlLabel","margin","FormGroup","controlId","validationState","FormControl","onMouseDown","stopPropagation","type","placeholder","onChange","handleChange","NewUserModal","newUserModalToggle","toLowerCase","sendEmail","dbName","test","autoFocus","Feedback","ConfirmDatabaseDeletionModal","confirmDeletion","confirmDeletionAuthIDAndPrivateKey","confirmDeletionAuthID","confirmDeletionPrivateKey","deleteDB","db","openApiServer","displayError","authId","privateKey","baseUri","gateway","signRequest","headers","parse","noRedirect","options","confirmDatabaseDeletionModalToggle","result","errorMessage","handleChangeForConfirmDeleteTextbox","handleChangeForConfirmPrivateKeyTextbox","handleChangeForConfirmAuthIDTextbox","console","log","color","Footer","borderRadius","Database","confirmDatabaseDeletionModal","block","size","flakes","idShort","substring","concat","textAlign","display","direction","class","marginLeft","padding","cursor","aria-hidden","parseInt","toFixed","ArchivedDatabase","viewURL","link","window","open","setGlobalProps","viewArchive","url","name","MenuItem","deleteArchive","deleteArchiveModalToggle","viewBackups","backup","dropdown","DropdownButton","title","ListGroupItem","lineHeight","paddingRight","Users","usernameShort","OverlayTrigger","placement","overlay","Tooltip","marginRight","PanelStat","switchType","iconClass","stat","statText","AccountInfo","newDatabaseModal","dataBasesWithInfo","isLoadingDatabaseInfo","configModal","checkDbs","dbsLength","dbs","databaseHeader","setOpenApiServerStatus","openApiServerStatus","config","openApiServerStatusShow","setItem","getOpenApiServerStatus","get","forceUpdate","newUserModal","renderTableHeader","arrayOfHeadings","map","header","loadDatabaseInfo","nwStateParams","undefined","showServerOpenApiAlert","prevProps","prevState","databaseInfoRequests","split","forEach","fullDb","optsForLedgerStats","network","push","getDatabasesInfo","all","res","displayConfig","databaseName","reject","data","msg","array","attrName","sort","a","b","nameA","toUpperCase","nameB","archiveDatabaseModal","backupDatabaseModal","removeUserModal","dataBasesText","maxDbs","maxUsers","users","numOfDatabases","paddingLeft","marginTop","height","width","history","alignItems","maxHeight","ref","striped","bordered","hover","dataBaseInfo","dbLength","nextProps"],"mappings":"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","file":"static/js/17.bda21e33.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Navbar,\n  FormGroup,\n  ControlLabel,\n  FormControl,\n  Button,\n  Alert,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport { flureeFetch } from \"../flureeFetch\";\n\nexport function hashCode(string) {\n  var hash = 0;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (var i = 0; i < string.length; i++) {\n    var char = string.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nclass SignIn extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    showAccountModal: false,\n  };\n\n  componentDidMount() {\n    const urlParams = new URLSearchParams(window.location.search);\n    let username = urlParams.get(\"username\") || \"\";\n    this.setState({ username: username });\n  }\n\n  getAccounts = () => {\n    const { username, password } = this.state;\n\n    const opts = {\n      endpoint: \"accounts\",\n      body: {\n        user: [\"_user/username\", username.toLowerCase()],\n        password: password,\n      },\n      noRedirect: true,\n    };\n\n    return flureeFetch(opts)\n      .then((response) => {\n        if (response.status >= 400) {\n          const errorMsg = get(\n            response,\n            [\"json\", \"message\"],\n            get(response, [\"message\"], \"Unknown error\")\n          );\n          this.setState({ loading: false, error: errorMsg });\n          return false;\n        }\n        let accounts = response.json || response;\n        return accounts;\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n        return false;\n      });\n  };\n\n  getToken = (account) => {\n    const { username, password } = this.state;\n    this.setState({ loading: true });\n\n    const opts = {\n      endpoint: \"signin\",\n      body: {\n        user: [\"_user/username\", username.toLowerCase()],\n        password: password,\n        account: account,\n        expireSeconds: 86400, // 1 day\n      },\n    };\n\n    return flureeFetch(opts)\n      .then((res) => {\n        let resp = res.json || res;\n        return resp.token;\n      })\n      .then((res) => {\n        localStorage.setItem(\"username\", hashCode(username));\n        localStorage.setItem(\"account\", account);\n        localStorage.setItem(\"token\", res);\n        this.props.authenticate(res, account);\n        // debugger;\n        // this.props.history.goBack();\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n      });\n  };\n\n  submitLogin = (e) => {\n    this.setState({ error: null, loading: true });\n\n    this.getAccounts()\n      .then((res) => {\n        // Tokens are tied to a particular user and a particular account\n        if (res === false) {\n          // An error should appear,\n        } else if (res.length === 1) {\n          // If a user only has one account, we attempt to fetch a token using that account\n          this.getToken(res[0][\"account/id\"]);\n        } else if (res.length === 0) {\n          this.setState({\n            error: \"There are no accounts associated with this user.\",\n            loading: false,\n          });\n        } else {\n          let accountArr = [];\n          // If multiple arrays, we let the user choose which account they want to log in with.\n          res.map((acc) => accountArr.push(get(acc, \"account/id\")));\n          this.setState({ accounts: accountArr, loading: false });\n        }\n      })\n      .catch((error) => {\n        const errorMsg = get(\n          error,\n          [\"json\", \"message\"],\n          get(error, [\"message\"], \"Unknown error\")\n        );\n        this.setState({ loading: false, error: errorMsg });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"background-gradient\" style={{ height: \"100%\" }}>\n        <Navbar collapseOnSelect>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\">\n                <img\n                  src={require(\"../theme/assets/logo_name_white.png\")}\n                  height=\"30\"\n                  alt=\"Fluree logo\"\n                />\n              </Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n        </Navbar>\n        <div className=\"container\">\n          <div className=\"row\" style={{ marginTop: \"25vh\" }}>\n            <div className=\"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1\">\n              <div className=\"well well-lg\" style={{ color: \"#222\" }}>\n                <h1 style={{ marginBottom: 30 }}>Sign in</h1>\n                {this.props.message && (\n                  <Alert bsStyle=\"info\">{this.props.message}</Alert>\n                )}\n                <form\n                  className=\"form\"\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    if (!this.state.accounts) {\n                      this.submitLogin(e);\n                    }\n                  }}\n                >\n                  <FormGroup controlId=\"form-username\">\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                      type=\"text\"\n                      placeholder=\"Email\"\n                      value={this.state.username}\n                      autoFocus\n                      onChange={(e) =>\n                        this.setState({ username: e.target.value })\n                      }\n                    ></FormControl>\n                  </FormGroup>\n                  <FormGroup\n                    controlId=\"form-password\"\n                    style={{ marginBottom: 20 }}\n                  >\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.state.password}\n                      onChange={(e) =>\n                        this.setState({ password: e.target.value })\n                      }\n                    ></FormControl>\n                  </FormGroup>\n                  {this.state.error ? (\n                    <Alert\n                      bsStyle=\"danger\"\n                      onDismiss={() => this.setState({ error: null })}\n                    >\n                      <h4>Error</h4>\n                      <p>{this.state.error}</p>\n                    </Alert>\n                  ) : null}\n                  {this.state.accounts ? (\n                    <div>\n                      <p>\n                        Your email is associated with multiple accounts. Please\n                        select one below:\n                      </p>\n                      {this.state.accounts.map((acct) => (\n                        <Button onClick={() => this.getToken(acct)}>\n                          {acct}\n                        </Button>\n                      ))}\n                    </div>\n                  ) : (\n                    <Button\n                      type=\"submit\"\n                      bsStyle=\"primary\"\n                      disabled={this.state.loading}\n                      style={{ padding: \"9px 20px\" }}\n                    >\n                      {this.state.loading ? \"Signing in...\" : null}\n                      {!this.state.loading && !this.state.accounts\n                        ? \"Sign In\"\n                        : null}\n                    </Button>\n                  )}\n                </form>\n                <hr />\n                <div className=\"text-muted small prose\">\n                  {\"Forgot password? \"}\n                  <Link to=\"/reset\">\n                    Reset Password{\" \"}\n                    <i className=\"fas fa-arrow-right\" aria-hidden=\"true\"></i>\n                  </Link>\n                  <br />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n","import React, { Component } from \"react\";\nimport { flureeFetch } from \"../flureeFetch\";\nimport {\n  Form,\n  ControlLabel,\n  FormControl,\n  Button,\n  Modal,\n  Alert,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\nimport { hashCode } from \"../screens/Signin\";\n\n\nfunction sleep(time) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nclass ArchiveDatabaseModal extends Component {\n  state = {\n    awsID: null,\n  };\n\n  archiveDatabase = () => {\n    this.setState({ loading: true });\n    const { db, account, token } = this.props._db;\n    const dbid = get(db, \"db/id\");\n\n    const selectedDB = localStorage.getItem(account.concat(\".database\"));\n\n    if (selectedDB === dbid) {\n      localStorage.removeItem(account.concat(\".database\"));\n    }\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: [\n        \"archive-database\",\n        {\n          dbname: dbid,\n          awsid: this.state.awsID,\n        },\n      ],\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props._db.refreshAccount();\n        this.props.archiveDatabaseModalToggle();\n      })\n      .catch((response) => {\n        let error =\n          response.message || response.error || JSON.stringify(response);\n        if (error.includes(\"Invalid id\")) {\n          error =\n            \"Invalid AWS Canonical User ID. If you are logged into your root user in AWS, you should be able to find the Canonical User ID in My Security Credentials > Account Identifiers.\";\n        }\n        this.setState({\n          error: error,\n          loading: false,\n        });\n      });\n  };\n\n  handleawsIDChange = (e) => {\n    const awsID = e.target ? e.target.value : e;\n    this.setState({ awsID: awsID });\n  };\n\n  render() {\n    const { archiveDatabaseModalToggle, _db } = this.props;\n    const dbid = get(_db.db, \"db/id\");\n\n    return (\n      <Modal show onHide={() => archiveDatabaseModalToggle()}> \n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"far fa-file-archive\" /> &nbsp; Archive Ledger:{\" \"}\n            {dbid}\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>What happens when you archive a ledger?</h3>\n          <br />\n          <ul>\n            <li>\n              You- and anyone else that has access to the ledger- will{\" \"}\n              <strong>no longer be able to access it</strong> via this\n              administrative interface.{\" \"}\n            </li>\n            <br />\n            <li>\n              The ledger will be stored as an{\" \"}\n              <strong>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\"\n                >\n                  Amazon S3 Bucket\n                </a>\n                .\n              </strong>\n              &nbsp;You will be able to find the link for your S3 bucket on this\n              page.\n            </li>\n            {/* <br/>\n                <li>You will also also have the <strong>option of completely deleting</strong> the archive via your S3 interface. </li> */}\n          </ul>\n          <hr />\n          <p>\n            In order to archive your ledger, please provide the Amazon Web\n            Services Canonical User ID that you want to be able to access the\n            archive.\n          </p>\n          <p>\n            Need help&nbsp;\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html#FindingCanonicalId\"\n            >\n              finding your canonical ID?\n            </a>\n          </p>\n          <br />\n          <Form>\n            <ControlLabel>AWS Canonical User ID</ControlLabel>\n            <FormControl\n              type=\"text\"\n              value={this.state.awsID}\n              placeholder=\"Enter your AWS Canonical User ID\"\n              onChange={this.handleawsIDChange}\n            />\n          </Form>\n          <br />\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"primary\"\n              onClick={() => this.archiveDatabase()}\n              disabled={this.state.loading}\n            >\n              Yes, I would like to{\" \"}\n              <span style={{ fontWeight: \"bolder\" }}>archive</span>: {dbid}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass DeleteDatabaseModal extends Component {\n  state = {\n    error: null,\n  };\n\n  deleteDatabase() {\n    this.setState({ loading: true });\n    const { dbName, account } = this.props;\n    const token = localStorage.getItem(\"token\");\n    const fullDbName = account.concat(\".\", dbName);\n    const selectedDB = localStorage.getItem(account.concat(\".database\"));\n    if (selectedDB === fullDbName) {\n      localStorage.removeItem(account.concat(\".database\"));\n    }\n\n    const opts = {\n      body: [\"delete-database\", { dbname: fullDbName }],\n      endpoint: \"action\",\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props.refreshAccount();\n        this.props.deleteDatabaseModalToggle();\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  }\n\n  render() {\n    const { dbName, deleteDatabaseModalToggle } = this.props;\n    return (\n      <Modal show onHide={() => deleteDatabaseModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"fas fa-cube\" /> &nbsp; Delete Ledger: {dbName}\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Are you sure you want to{\" \"}\n            <span\n              style={{\n                fontVariant: \"small-caps\",\n                color: \"#d61a3c\",\n                fontWeight: \"bolder\",\n                fontSize: \"150%\",\n              }}\n            >\n              delete\n            </span>{\" \"}\n            this ledger?\n          </h3>\n          <br />\n          <ul>\n            <li>\n              Deleting a ledger is <strong>permanent</strong>.\n            </li>\n            <br />\n            <li>\n              It will delete the ledger for your account,{\" \"}\n              <strong>as well as any other accounts</strong> that may have\n              access to this ledger.\n            </li>\n            <br />\n            <li>\n              If you would like the option of recovering your ledger at a\n              later point, please{\" \"}\n              <strong>archive your ledger instead.</strong>\n            </li>\n          </ul>\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.deleteDatabase()}\n            >\n              Yes, I would like to{\" \"}\n              <span\n                style={{\n                  fontVariant: \"small-caps\",\n                  fontWeight: \"bolder\",\n                  fontSize: \"150%\",\n                }}\n              >\n                permanently\n              </span>{\" \"}\n              delete: {dbName}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass DeleteArchiveModal extends Component {\n  state = {\n    error: null,\n  };\n\n  deleteArchive() {\n    this.setState({ loading: true });\n\n    const { dbName, account, dbsArchived } = this.props;\n    const token = localStorage.getItem(\"token\");\n    const fullDbName = account.concat(\".\", dbName);\n    const fullArchive = dbsArchived.filter(\n      (archive) => archive[\"db/name\"] === fullDbName\n    );\n    const archiveId = get(fullArchive, [0, \"db/archive\", \"_id\"]);\n    const archiveUrl = get(fullArchive, [0, \"db/archive\", \"archive/url\"]);\n    const bucket = archiveUrl.substring(\n      archiveUrl.indexOf(\"archive-fluree-\"),\n      archiveUrl.length - (dbName.length + 7 + account.length)\n    );\n\n    const action = [\n      \"delete-archive\",\n      {\n        archiveid: archiveId,\n        bucket: bucket,\n        dbname: fullDbName,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      body: action,\n      auth: token,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n        this.props.deleteArchiveModalToggle();\n        this.props.refreshAccount();\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  }\n\n  render() {\n    const { account, dbName } = this.props;\n    const fullDbName = account.concat(\".\", dbName);\n\n    return (\n      <Modal show onHide={() => this.props.deleteArchiveModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"far fa-file-archive\" /> &nbsp; Delete Archive\n            <hr style={{ marginBottom: \"0px\" }} />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Are you sure you want to{\" \"}\n            <span\n              style={{\n                fontVariant: \"small-caps\",\n                color: \"#d61a3c\",\n                fontWeight: \"bolder\",\n                fontSize: \"150%\",\n              }}\n            >\n              delete\n            </span>{\" \"}\n            the archive for {fullDbName}?\n          </h3>\n          <br />\n          <ul>\n            <li>\n              Deleting an archive is <strong>permanent</strong>.\n            </li>\n            <br />\n            <li>\n              It will{\" \"}\n              <strong>\n                delete the archive and back-up files from the S3 bucket\n              </strong>{\" \"}\n              where they are stored.\n            </li>\n            <br />\n            <li>\n              Neither you nor anyone else will have access to the archive file,\n              unless you have previously saved it to your{\" \"}\n            </li>\n          </ul>\n          <br />\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.deleteArchive()}\n            >\n              Yes, I would like to{\" \"}\n              <span\n                style={{\n                  fontVariant: \"small-caps\",\n                  fontWeight: \"bolder\",\n                  fontSize: \"150%\",\n                }}\n              >\n                permanently\n              </span>{\" \"}\n              delete the archive for: {fullDbName}.\n            </Button>\n          </div>\n          <br />\n          {this.state.loading ? (\n            <Alert bsStyle=\"success\">\n              <h3>This may take a few minutes</h3>\n              <p>Please do not leave this page. </p>\n            </Alert>\n          ) : null}\n          {this.state.error ? (\n            <Alert\n              bsStyle=\"danger\"\n              onDismiss={() => this.setState({ error: null })}\n            >\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nclass RemoveUserModal extends Component {\n  state = {\n    error: null,\n  };\n\n  refreshForm = () => {\n    this.setState({\n      error: null,\n      loading: false,\n    });\n  };\n\n  removeUser = () => {\n    const { username, removeUserModalToggle, getAccountInfo } = this.props;\n    const { account, token } = this.props._db;\n\n    this.setState({ loading: true });\n\n    const action = [\n      \"remove-user\",\n      {\n        username: username,\n        account: account,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: action,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        return sleep(300);\n      })\n      .then((response) => {\n      \n        if (this.state.self) {\n          this.props.logout();\n        } else {\n          this.setState({ loading: false });\n          getAccountInfo();\n        }\n      })\n      .then(() => removeUserModalToggle())\n      .catch((response) => {\n      \n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n        });\n      });\n  };\n\n  componentDidMount() {\n    const chosenUsernameHash = hashCode(this.props.username);\n    const loggedInUserHash = Number(localStorage.getItem(\"username\"));\n\n    if (chosenUsernameHash === loggedInUserHash) {\n      this.setState({ self: true });\n    } else {\n      this.setState({ self: false });\n    }\n  }\n\n  render() {\n    const { removeUserModalToggle, username, account } = this.props;\n\n    return (\n      <Modal show onHide={() => removeUserModalToggle()}>\n        <Modal.Header closeButton>\n          <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n            <i className=\"fas fa-user-slash\" /> &nbsp; Remove User:{\" \"}\n            <strong className=\"text-primary\">{username}</strong> from Account:{\" \"}\n            <strong className=\"text-primary\">{account}</strong>\n            <hr />\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h3>\n            Removing user&nbsp;\n            <strong className=\"text-primary\">{username}</strong> from\n            account:&nbsp;\n            <strong className=\"text-primary\">{account}</strong>.\n          </h3>\n          <br />\n          {this.state.self ? (\n            <Alert bsStyle=\"danger\">\n              <h3>You are logged in as {username}.</h3>\n              <br />\n              Removing yourself from this account will log you out and remove\n              your access from the ledgers associated with this account.\n            </Alert>\n          ) : (\n            <ul>\n              <li>\n                This user will not be able to view any of the ledgers\n                associated with this account.{\" \"}\n              </li>\n              <br />\n            </ul>\n          )}\n          <div className=\"text-right\">\n            <Button\n              bsStyle=\"danger\"\n              disabled={this.state.loading}\n              onClick={() => this.removeUser()}\n            >\n              Remove User\n            </Button>\n          </div>\n          <br />\n          {this.state.error ? (\n            <Alert bsStyle=\"danger\" onDismiss={() => this.refreshForm()}>\n              <h4>Error</h4>\n              <p>{this.state.error}</p>\n            </Alert>\n          ) : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport {\n  ArchiveDatabaseModal,\n  DeleteDatabaseModal,\n  DeleteArchiveModal,\n  RemoveUserModal,\n};\n","import React, { Component, Fragment } from \"react\";\nimport { flureeFetch, gateway } from \"../flureeFetch\";\nimport { signRequest } from \"@fluree/crypto-utils\";\nimport {\n  Form,\n  FormGroup,\n  ControlLabel,\n  FormControl,\n  ListGroupItem,\n  Button,\n  Modal,\n  Alert,\n  HelpBlock,\n  MenuItem,\n  OverlayTrigger,\n  Tooltip,\n  DropdownButton,\n} from \"react-bootstrap\";\nimport get from \"lodash.get\";\n\nimport Draggable from \"react-draggable\";\nimport { RemoveUserModal } from \"../components/DeleteAndArchive\";\n\nexport class NewDatabaseModal extends Component {\n  state = {\n    id: \"\",\n    error: null \n  };\n\n  refreshForm = () => {\n    this.setState({\n      id: \"\",\n      error: null,\n      loading: false,\n    });\n  };\n\n  getValidationState = () => {\n    let regex = /^[a-z][a-z0-9-]*\\/[a-z][a-z0-9-]*$/;\n    if (this.state.id.length > 0 && this.state.id.match(regex) !== null) {\n      return \"success\";\n    }\n    return \"warning\";\n  };\n\n  handleChange(key, e) {\n    let newState = {};\n    newState[key] = e.target.value;\n    this.setState(newState);\n  }\n\n  onGenerate = (e) => {\n    this.setState({ loading: true });\n    e.preventDefault();\n\n    let blockNumber =\n      this.state.blockNumber && Number(this.state.blockNumber) > 0\n        ? Number(this.state.blockNumber)\n        : null;\n\n    const tx = { \"db/id\": this.state.id };\n\n    const endpoint = \"new-db\";\n    const { ip, token } = this.props._db;\n    const opts = {\n      ip: ip,\n      endpoint: endpoint,\n      body: tx,\n      auth: token,\n    };\n\n    const refreshDbs = this.props._db.refreshDbs;\n\n    const request = () => {\n      flureeFetch(opts)\n        .then((response) => {\n          if (response.status === 200) {\n            refreshDbs(ip);\n            this.props.newDatabaseModalToggle();\n          } else {\n            this.setState({ error: response.message, loading: false });\n          }\n        })\n        .catch((response) => {\n          this.setState({\n            error:\n              response.json.message ||\n              response.error ||\n              JSON.stringify(response),\n            loading: false,\n          });\n        });\n    };\n    request();\n  };\n\n  render() {\n    const { newDatabaseModalToggle, _db } = this.props;\n\n    return (\n      <Draggable enableUserSelectHack={false}>\n        <Modal show onHide={() => newDatabaseModalToggle()}>\n          <Modal.Header closeButton>\n            <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n              <i className=\"fas fa-cube\" /> &nbsp; Create New Ledger\n              <hr style={{ marginBottom: \"0px\" }} />\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Fragment>\n              <p>\n                <b>Note:</b> A Ledger Id uniquely identifies a ledger within a\n                network. A Ledger Id begins with the network name (e.g myNetwork) followed by a\n                forward slash \"/\" and the Ledger name (e.g myLedger).\n                <br></br>\n              </p>\n              <p>\n                <em>\n                  <b>A Ledger Id example:</b> myNetwork/myLedger\n                </em>\n              </p>\n              <Form onSubmit={this.onGenerate.bind(this)}>\n                <ControlLabel style={{ margin: \"20px 0\" }}>\n                  Ledger Id\n                </ControlLabel>\n                <FormGroup\n                  controlId=\"formBasicText\"\n                  validationState={this.getValidationState()}\n                >\n                  <span>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.id}\n                      placeholder=\"Begin ledger id\"\n                      onChange={(e) => this.handleChange(\"id\", e)}\n                    />\n                  </span>\n                </FormGroup>\n                <FormGroup className=\"text-right\">\n                  <Button\n                    className=\"fluree-rounded-button\"\n                    type=\"submit\"\n                    disabled={\n                      this.getValidationState() === \"warning\" ||\n                      this.state.loading\n                    }\n                  >\n                    Create\n                  </Button>\n                </FormGroup>\n                {this.state.error ? (\n                  <Alert\n                    bsStyle=\"danger\"\n                    onDismiss={() => this.setState({ error: null })}\n                  >\n                    <h4>Error</h4>\n                    <p>{this.state.error}</p>\n                  </Alert>\n                ) : null}\n              </Form>\n            </Fragment>\n          </Modal.Body>\n        </Modal>\n      </Draggable>\n    );\n  }\n}\n\nclass NewUserModal extends Component {\n  state = {\n    username: \"\",\n    error: null,\n  };\n\n  refreshForm = () => {\n    this.setState({\n      username: \"\",\n      error: null,\n      loading: false,\n    });\n  };\n\n  getValidationState() {\n    const { username } = this.state;\n    const emailRegex = /^[\\w-+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$/;\n    if (username.length < 1) return \"success\";\n    else if (!emailRegex.test(username)) return \"error\";\n    else return \"success\";\n  }\n\n  handleChange(e) {\n    this.setState({ username: e.target.value });\n  }\n\n  onGenerate = (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    const { account, token } = this.props._db;\n    const { newUserModalToggle, getAccountInfo } = this.props;\n\n    const action = [\n      \"new-user\",\n      {\n        username: this.state.username.toLowerCase(),\n        account: account,\n        sendEmail: true,\n      },\n    ];\n\n    const opts = {\n      endpoint: \"action\",\n      auth: token,\n      body: action,\n    };\n\n    flureeFetch(opts)\n      .then((response) => {\n        if (response.status === 200) {\n          this.setState({ username: \"\", loading: false });\n          getAccountInfo();\n          newUserModalToggle();\n        } else {\n          this.setState({ error: response.message, loading: false });\n        }\n      })\n      .catch((response) => {\n        this.setState({\n          error: response.message || response.error || JSON.stringify(response),\n          loading: false,\n          dbName: this.props.account + \".\",\n        });\n      });\n  };\n\n  render() {\n    const { newUserModalToggle } = this.props;\n\n    return (\n      <Draggable enableUserSelectHack={false}>\n        <Modal show onHide={() => newUserModalToggle()}>\n          <Modal.Header closeButton>\n            <Modal.Title style={{ fontSize: \"20px\", fontWeight: \"lighter\" }}>\n              <i className=\"fas fa-user\" /> &nbsp; Add User to Account\n              <hr />\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={this.onGenerate.bind(this)}>\n              <ControlLabel className=\"mt20 mb20\">\n                User Email Address\n              </ControlLabel>\n              <FormGroup\n                controlId=\"formBasicText\"\n                validationState={this.getValidationState()}\n              >\n                <FormControl\n                  onMouseDown={(e) => {\n                    e.stopPropagation();\n                  }}\n                  type=\"text\"\n                  value={this.state.username}\n                  placeholder=\"Enter email address for new user\"\n                  onChange={this.handleChange.bind(this)}\n                  autoFocus\n                />\n                <FormControl.Feedback />\n              </FormGroup>\n              <p>User will receive an email explaining next steps.</p>\n              <FormGroup className=\"text-right\">\n                <Button\n                  bsStyle=\"primary\"\n                  type=\"submit\"\n                  disabled={\n                    this.getValidationState() === \"error\" || this.state.loading\n                  }\n                >\n                  Create\n                </Button>\n              </FormGroup>\n              {this.state.error ? (\n                <Alert bsStyle=\"danger\" onDismiss={() => this.refreshForm()}>\n                  <h4>Error</h4>\n                  <p>{this.state.error}</p>\n                </Alert>\n              ) : null}\n            </Form>\n          </Modal.Body>\n        </Modal>\n      </Draggable>\n    );\n  }\n}\n\nexport class ConfirmDatabaseDeletionModal extends Component {\n  state = {\n    confirmDeletion: \"\",\n    confirmDeletionAuthIDAndPrivateKey: null,\n    error: null,\n    confirmDeletionAuthID: null,\n    confirmDeletionPrivateKey: null,\n  };\n\n  deleteDB = (e, db, ip) => {\n    const { openApiServer, displayError } = this.props._db;\n    e.preventDefault();\n    let opts;\n    const tx = {\n      \"db/id\": db,\n    };\n\n    const endpoint = \"delete-db\";\n    const refreshDbs = this.props._db.refreshDbs;\n    const request = (options) => {\n      flureeFetch(options)\n        .then((response) => {\n          if (response.status === 200) {\n            refreshDbs(ip);\n          } else {\n            this.setState({ error: response.message, loading: false });\n            displayError(response.message);\n          }\n        })\n        .catch((response) => {\n          let result = response.json || response;\n          let errorMessage =\n            result.message || result.error || JSON.stringify(response);\n          this.setState({\n            error: errorMessage,\n            loading: false,\n          });\n          displayError(errorMessage);\n        });\n    };\n    if (openApiServer) {\n      opts = {\n        ip: ip,\n        endpoint: endpoint,\n        body: tx,\n        auth: this.props.token,\n      };\n    } else {\n      let authId = this.state.confirmDeletionAuthID;\n      let privateKey = this.state.confirmDeletionPrivateKey;\n\n      const baseUri = gateway(ip) || \"\";\n      const { headers, body } = signRequest(\n        \"POST\",\n        `${baseUri}/fdb/delete-db`,\n        JSON.stringify({ \"db/id\": db, auth: authId }),\n        privateKey,\n        authId\n      );\n\n      opts = {\n        ip: ip,\n        endpoint: endpoint,\n        body: JSON.parse(body),\n        headers: headers,\n        auth: this.props.token,\n        noRedirect: true,\n      };\n    }\n\n    const { confirmDatabaseDeletionModalToggle } = this.props;\n    request(opts);\n    confirmDatabaseDeletionModalToggle();\n  };\n\n  handleChangeForConfirmDeleteTextbox = (e) => {\n    this.setState({\n      confirmDeletion: e.target.value,\n    });\n  };\n  handleChangeForConfirmPrivateKeyTextbox = (e) => {\n    this.setState({\n      confirmDeletionPrivateKey: e.target.value,\n    });\n  };\n  handleChangeForConfirmAuthIDTextbox = (e) => {\n    this.setState({\n      confirmDeletionAuthID: e.target.value,\n    });\n  };\n  getValidationState = () => {\n    const { openApiServer } = this.props._db;\n    if (!openApiServer) {\n      if (\n        this.state.confirmDeletionAuthID &&\n        this.state.confirmDeletionPrivateKey\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      if (this.state.confirmDeletion === \"confirm\") {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  };\n  render() {\n    const { confirmDatabaseDeletionModalToggle, db, ip } = this.props;\n    const { openApiServer } = this.props._db;\n    console.log(\"openApiServer\", openApiServer)\n    console.log(this.props._db);\n    return (\n      <Fragment>\n        <Draggable enableUserSelectHack={false}>\n          {/* <Button variant=\"primary\" onClick={handleShow}>\n\t\t\t\tLaunch demo modal\n\t\t\t</Button> */}\n\n          <Modal show onHide={() => confirmDatabaseDeletionModalToggle()}>\n            <Modal.Header closeButton>\n              <Modal.Title>\n                Are you sure you want to DELETE this ledger?{\" \"}\n              </Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={(e) => this.deleteDB(e, db, ip)}>\n              {openApiServer && (\n                <Modal.Body>\n                  <p>Please, enter \"confirm\" to DELETE ledger.</p>\n                  <FormGroup>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletion} \n                      placeholder=\"Enter 'confirm' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmDeleteTextbox(e)\n                      }\n                      autoFocus\n                    />\n                  </FormGroup>\n                </Modal.Body>\n              )}\n              {!openApiServer && (\n                <Modal.Body>\n                  <p>\n                    Server Open-Api status is currently set to <i>'false'</i>.\n                    Please provide an <b>AuthID</b> and <b>Private Key</b> to{\" \"}\n                    <span style={{ color: \"red\" }}>DELETE</span> ledger.\n                  </p>\n\n                  <FormGroup>\n                    <p>AuthID</p>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletionAuthID}\n                      placeholder=\"Enter 'AuthID' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmAuthIDTextbox(e)\n                      }\n                      autoFocus\n                    />\n                    <br></br>\n                    <p>Private Key</p>\n                    <FormControl\n                      onMouseDown={(e) => {\n                        e.stopPropagation();\n                      }}\n                      type=\"text\"\n                      value={this.state.confirmDeletionPrivateKey}\n                      placeholder=\"Enter 'Private Key' to DELETE ledger\"\n                      onChange={(e) =>\n                        this.handleChangeForConfirmPrivateKeyTextbox(e)\n                      }\n                      autoFocus\n                    />\n                  </FormGroup>\n                </Modal.Body>\n              )}\n\n              <Modal.Footer>\n                <Button\n                  style={{ borderRadius: \"32px\" }}\n                  bsStyle=\"danger\"\n                  type=\"submit\"\n                  disabled={this.getValidationState()}\n                >\n                  DELETE\n                </Button>\n              </Modal.Footer>\n              {this.state.error ? (\n                <Alert\n                  style={{ margin: \"0 10px 10px\" }}\n                  bsStyle=\"danger\"\n                  onDismiss={() => this.setState({ error: null })}\n                >\n                  <h4>Error</h4>\n                  <p>{this.state.error}</p>\n                </Alert>\n              ) : null}\n            </Form>\n          </Modal>\n        </Draggable>\n      </Fragment>\n    );\n  }\n}\n\n\nexport class Database extends Component {\n  state = {\n    loading: false,\n    error: null,\n    confirmDatabaseDeletionModal: false,\n  };\n\n  confirmDatabaseDeletionModalToggle = () => {\n    this.setState({\n      confirmDatabaseDeletionModal: !this.state.confirmDatabaseDeletionModal,\n    });\n  };\n\n  render() {\n    const { db, ip, _db, block, size, flakes } = this.props;\n\n    const idShort = db.length > 60 ? db.substring(0, 40).concat(\"...\") : db;\n\n    return (\n      <Fragment>\n        {this.state.confirmDatabaseDeletionModal === true ? (\n          <ConfirmDatabaseDeletionModal\n            confirmDatabaseDeletionModalToggle={\n              this.confirmDatabaseDeletionModalToggle\n            }\n            db={db}\n            ip={ip}\n            _db={_db}\n          />\n        ) : null}\n\n        <tr key={db}>\n          <td style={{ textAlign: \"left\" }}>\n            {/* &nbsp; */}\n            <span style={{ display: \"flex\", direction: \"row\" }}>\n              <span>{idShort}</span>\n                <span\n                  class=\"snap-shot-delete-wrapper\"\n                  style={{ marginLeft: \"auto\" }}\n                >\n                  <span\n                    style={{\n                      padding: \"4px 10px\",\n                      cursor: \"pointer\",\n                      borderRadius: \"32px\",\n                      marginLeft: \"10px\",\n                    }}\n                    className=\"danger\"\n                    onClick={() => this.confirmDatabaseDeletionModalToggle()}\n                  >\n                    <i\n                      className=\"fas fa-trash hidden-xs\"\n                      aria-hidden=\"true\"\n                      style={{ padding: \"5px\" }}\n                    ></i>\n                  </span>{\" \"}\n                </span>\n            </span>\n          </td>\n\n          <td>{block}</td>\n          <td>{(parseInt(size) / 1024).toFixed(2)}</td>\n          <td>{flakes}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nexport class ArchivedDatabase extends Component {\n  viewURL = (link) => {\n    if (link) {\n      window.open(link, \"_blank\");\n    } else {\n      this.props._db.setGlobalProps(\"error\", {\n        error: \"No URL Found\",\n        message:\n          \"No URL found for this ledger archive. Please contact support@flur.ee for additional assistance.\",\n      });\n    }\n  };\n\n  viewArchive = (url, name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"viewArchive\")}\n        value={name.concat(\"viewArchive\")}\n        onClick={() => this.viewURL(url)}\n      >\n        <i className=\"far fa-file-archive\" />\n        &nbsp;&nbsp;View Archive\n      </MenuItem>\n    );\n  };\n\n  deleteArchive = (name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"deleteArchive\")}\n        value={name.concat(\"deleteArchive\")}\n        onClick={() => this.props.deleteArchiveModalToggle(name)}\n      >\n        <i className=\"far fa-trash-alt\" />\n        &nbsp;&nbsp;Delete Archive\n      </MenuItem>\n    );\n  };\n\n  viewBackups = (backup, name) => {\n    return (\n      <MenuItem\n        key={name.concat(\"backup-view\")}\n        value={name.concat(\"backup-view\")}\n        onClick={() => this.viewURL(backup)}\n      >\n        <i className=\"fas fa-eye\" />\n        &nbsp;&nbsp;View Back-ups\n      </MenuItem>\n    );\n  };\n\n  dropdown = (url, backup, name) => {\n    if (url === \"deleted\") {\n      return (\n        <DropdownButton disabled title=\"Archive Deleted\">\n          {\" \"}\n        </DropdownButton>\n      );\n    } else if (backup) {\n      return (\n        <DropdownButton title=\"Options\" id=\"Archive Options\">\n          {this.viewArchive(url, name)}\n          {this.viewBackups(backup, name)}\n          {this.deleteArchive(name)}\n        </DropdownButton>\n      );\n    } else {\n      return (\n        <DropdownButton title=\"Options\" id=\"Archive Options\">\n          {this.viewArchive(url, name)}\n          {this.deleteArchive(name)}\n        </DropdownButton>\n      );\n    }\n  };\n\n  render() {\n    const { name, url, backup } = this.props;\n    return (\n      <ListGroupItem>\n        <div className=\"row\">\n          <div className=\"col-xs-6\" style={{ lineHeight: \"40px\" }}>\n            <i\n              className=\"far fa-file-archive hidden-xs\"\n              aria-hidden=\"true\"\n              style={{ paddingRight: \"5px\" }}\n            ></i>\n            &nbsp;\n            <h3 style={{ display: \"inline\" }}>{name}</h3>\n          </div>\n          <div className=\"col-xs-6\">{this.dropdown(url, backup, name)}</div>\n        </div>\n      </ListGroupItem>\n    );\n  }\n}\n\nexport class Users extends Component {\n  render() {\n    const { username, removeUserModalToggle } = this.props;\n    const usernameShort =\n      username.length > 18 ? username.substring(0, 15).concat(\"...\") : username;\n    return (\n      <ListGroupItem key={username}>\n        <div className=\"row\">\n          <div className=\"col-xs-7\" style={{ lineHeight: \"40px\" }}>\n            <i\n              className=\"fas fa-user hidden-sm\"\n              aria-hidden=\"true\"\n              style={{ paddingRight: \"5px\" }}\n            ></i>\n            &nbsp;\n            {usernameShort.length !== username.length ? (\n              <OverlayTrigger\n                key={username}\n                placement=\"top\"\n                overlay={<Tooltip key={username}>{username}</Tooltip>}\n              >\n                <h3 style={{ display: \"inline\" }}>{usernameShort}</h3>\n              </OverlayTrigger>\n            ) : (\n              <h3 style={{ display: \"inline\" }}>{usernameShort}</h3>\n            )}\n          </div>\n          <div className=\"pull-right\" style={{ marginRight: \"10px\" }}>\n            <Button\n              key={username}\n              value={username}\n              onClick={() => removeUserModalToggle(username)}\n            >\n              <i className=\"fas fa-user-slash\" />\n              &nbsp;&nbsp;Remove\n            </Button>\n          </div>\n        </div>\n      </ListGroupItem>\n    );\n  }\n}\n\nexport class PanelStat extends Component {\n  render() {\n    const { switchType, type } = this.props;\n    return (\n      <div\n        className=\"panel-stat\"\n        onClick={switchType ? () => switchType(type) : null}\n        style={{\n          cursor: switchType ? \"pointer\" : \"default\",\n          borderRadius: \"7px\",\n        }}\n      >\n        <div className=\"panel-stat-left\">\n          <i\n            style={{\n              padding:\n                this.props.iconClass === \"fas fa-tag bg-success\"\n                  ? \"25px\"\n                  : null,\n              borderRadius: \"7px 0 0 7px\",\n            }}\n            className={this.props.iconClass}\n          />\n        </div>\n        <div className=\"panel-stat-right\">\n          <div className=\"stat\">{this.props.stat}</div>\n          <div className=\"stat-text\">{this.props.statText}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass AccountInfo extends Component {\n  state = {\n    newDatabaseModal: false,\n    dataBasesWithInfo: [],\n    isLoadingDatabaseInfo: true,\n    configModal: false,\n    confirmDatabaseDeletionModal: false,\n    checkDbs: this.props._db,\n    dbsLength: this.props._db.dbs.length,\n    databaseHeader: [\"Ledger\", \"Current Block\", \"Size(Kb)\", \"Flakes\"],\n  };\n  componentDidMount() {\n    this.loadDatabaseInfo();\n\n    const { _db } = this.props;\n\n    let nwStateIp = _db.ip;\n    let nwStateParams = {\n      endpoint: \"nw-state\",\n      ip: nwStateIp,\n      noRedirect: true,\n    };\n\n    flureeFetch(nwStateParams)\n      .then((response) => {\n        let statusCheck = this.getOpenApiServerStatus();\n        if (statusCheck === undefined) {\n          this.setOpenApiServerStatus(response.json[\"open-api\"]);\n          this.setState({\n            openApiServer: response.json[\"open-api\"],\n          });\n        } else {\n          let openApiServerStatusShow = this.getOpenApiServerStatus();\n          this.setState({\n            openApiServer: response.json[\"open-api\"],\n            showServerOpenApiAlert: openApiServerStatusShow,\n          });\n        }\n      })\n      .catch((error) => {\n        this.displayError(error);\n      });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //used to ensure re-render on deletion or creation of db\n    if (prevState.dbsLength !== this.state.dbsLength) {\n      this.loadDatabaseInfo();\n    }\n  }\n\n\n  displayError(error) {\n    this.setState({ error: error });\n  }\n  loadDatabaseInfo() {\n    let databaseInfoRequests = [];\n    const { ip, token, dbs } = this.props._db;\n\n    let fullDatabases = dbs.map((db) => [...db.split(\"/\"), db]);\n    fullDatabases.forEach((fullDb) => {\n      const optsForLedgerStats = {\n        endpoint: \"ledger-stats\",\n        ip: ip,\n        network: fullDb[0],\n        db: fullDb[1],\n        auth: token,\n      };\n      databaseInfoRequests.push(\n        this.getDatabasesInfo(optsForLedgerStats, fullDb[2])\n      );\n    });\n\n    Promise.all(databaseInfoRequests)\n      .then((res) => {\n        this.setState({\n          dataBasesWithInfo: [...res],\n          isLoadingDatabaseInfo: false,\n        });\n      })\n      .catch((error) => {\n        if (error.status === 401) {\n          this.props._db.displayConfig();\n        } else {\n          this.setState({\n            error: JSON.stringify(error),\n            isLoadingDatabaseInfo: false,\n            loading: false,\n          });\n        }\n      });\n  }\n\n  getDatabasesInfo(optsForLedgerStats, databaseName) {\n    return new Promise((resolve, reject) => {\n      flureeFetch(optsForLedgerStats)\n        .then((response) => {\n          if (response.json && response.json.data) {\n            let res = response.json.data;\n            resolve({ ...res, databaseName });\n          } else {\n            let result = {\n              msg: response.message ? response.message : response,\n            };\n            resolve({ ...result, databaseName });\n          }\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  setOpenApiServerStatus = (openApiServerStatus) => {\n    const config = {\n      openApiServerStatusShow: openApiServerStatus ? false : true,\n    };\n    localStorage.setItem(\"openApiServerConfig\", JSON.stringify(config));\n  };\n\n  getOpenApiServerStatus = () => {\n    let config = localStorage.getItem(\"openApiServerConfig\");\n    config = JSON.parse(config);\n\n    let openApiServerStatusShow = get(config, \"openApiServerStatusShow\");\n\n    return openApiServerStatusShow;\n  };\n  static getDerivedStateFromProps(nextProps, prevState) {\n    //used to ensure re-render on deletion or creation of db\n    if (nextProps._db !== prevState.checkDbs) {\n      return { dbsLength: nextProps._db.dbs.length };\n    } else return null;\n  }\n\n  sortBy(array, attrName) {\n    array.sort((a, b) => {\n      let nameA = get(a, attrName, \"z\").toUpperCase();\n      let nameB = get(b, attrName, \"z\").toUpperCase();\n      return nameA < nameB ? -1 : nameA > nameB ? 1 : 0;\n    });\n\n    return array;\n  }\n\n  archiveDatabaseModalToggle(dbName) {\n    this.setState({\n      archiveDatabaseModal: !this.state.archiveDatabaseModal,\n      dbName: dbName,\n    });\n  }\n\n  backupDatabaseModalToggle(dbName) {\n    this.setState({\n      backupDatabaseModal: !this.state.backupDatabaseModal,\n      dbName: dbName,\n    });\n  }\n\n  newDatabaseModalToggle = () => {\n    this.setState({ newDatabaseModal: !this.state.newDatabaseModal });\n    this.forceUpdate();\n  };\n\n  newUserModalToggle = () => {\n    this.setState({ newUserModal: !this.state.newUserModal });\n  };\n\n  removeUserModalToggle(username) {\n    this.setState({\n      removeUserModal: !this.state.removeUserModal,\n      username: username,\n    });\n  }\n\n  renderTableHeader = (arrayOfHeadings) => {\n    return arrayOfHeadings.map((header) => {\n      switch (header) {\n        case \"Ledger\":\n          return (\n            <th style={{ textAlign: \"left\" }}>\n              <span>\n                <i\n                  className=\"fas fa-database hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n              <span></span>\n            </th>\n          );\n        case \"Current Block\":\n          return (\n            <th style={{ textAlign: \"center\" }}>\n              <span>\n                <i\n                  className=\"fas fa-cube hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n            </th>\n          );\n\n        case \"Size(Kb)\":\n          return <th style={{ textAlign: \"center\" }}>{header}</th>;\n        case \"Flakes\":\n          return (\n            <th style={{ textAlign: \"center\" }}>\n              <span>\n                <i\n                  className=\"fas fa-snowflake hidden-xs\"\n                  aria-hidden=\"true\"\n                  style={{ paddingRight: \"5px\" }}\n                ></i>\n              </span>\n              {header}\n            </th>\n          );\n      }\n    });\n  };\n\n  render() {\n    const _db = this.props._db;\n    const { account, dbs, ip, token } = this.props._db;\n\n    const { maxDbs, maxUsers, users } = this.state;\n    const dataBasesText = dbs.length === 1 ? \"LEDGER\" : \"LEDGERS\";\n    const numOfDatabases = dbs.length;\n\n    if (!dbs) {\n      return <div className=\"loading1\"> Loading... </div>;\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: \"40px\",\n          marginTop: \"40px\",\n          height: \"100%\",\n          width: \"100%\",\n        }}\n      >\n        {this.state.newDatabaseModal === true ? (\n          <NewDatabaseModal\n            _db={_db}\n            newDatabaseModalToggle={this.newDatabaseModalToggle}\n            openApiServerStatus={this.state.openApiServer}\n          />\n        ) : null}\n        {this.state.newUserModal === true ? (\n          <NewUserModal\n            {...this.props}\n            _db={_db}\n            newUserModalToggle={this.newUserModalToggle}\n            getAccountInfo={this.getAccountInfo.bind(this)}\n          />\n        ) : null}\n\n        {this.state.removeUserModal === true ? (\n          <RemoveUserModal\n            {...this.props}\n            _db={_db}\n            account={account}\n            username={this.state.username}\n            history={this.props.history}\n            removeUserModalToggle={this.removeUserModalToggle.bind(this)}\n            getAccountInfo={this.getAccountInfo.bind(this)}\n          />\n        ) : null}\n\n        <div className=\"row\">\n          <h3\n            style={{\n              alignItems: \"center\",\n              marginBottom: \"7px\",\n            }}\n          >\n            <span style={{ color: \"#091133\" }}>\n              {`${dataBasesText} (${numOfDatabases})`}\n            </span>\n          </h3>\n\n          <div>\n            {this.state.isLoadingDatabaseInfo ? (\n              \"Loading....\"\n            ) : (\n              <div\n                id=\"scroll-div-container\"\n                className=\"table-container network-page-table-container\"\n                style={{\n                  maxHeight: \"585px\",\n                }}\n              >\n                <table\n                  className=\"block-table block-table-stripes\"\n                  ref=\"scrollContent\"\n                  striped\n                  bordered\n                  hover\n                  size=\"sm\"\n                >\n                  <thead style={{ padding: \"15px\" }}>\n                    {this.renderTableHeader(this.state.databaseHeader)}\n                  </thead>\n                  <tbody>\n                    {this.state.dataBasesWithInfo.map((dataBaseInfo) => (\n                      <Database\n                        key={dataBaseInfo.databaseName}\n                        db={dataBaseInfo.databaseName}\n                        block={dataBaseInfo.block}\n                        size={dataBaseInfo.size}\n                        flakes={dataBaseInfo.flakes}\n                        dbLength={dbs.length}\n                        ip={ip}\n                        token={token}\n                        _db={_db}\n                        msg={dataBaseInfo.msg}\n                        newDatabaseModalToggle={this.newDatabaseModalToggle}\n                        openApiServerStatus={this.state.openApiServer}\n                      />\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n            <div style={{ textAlign: \"center\", marginTop: \"7px\" }}>\n              <Button\n                className=\"fluree-rounded-button\"\n                id=\"new-database-button\"\n                onClick={this.newDatabaseModalToggle}\n              >\n                <i className=\"fas fa-plus\" /> &nbsp;Add Ledger\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AccountInfo;\n"],"sourceRoot":""}